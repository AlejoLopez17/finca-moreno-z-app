{"ast":null,"code":"import _objectSpread from\"C:/Users/alezv/Desktop/App/React/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useMemo}from'react';import{Plus,Edit,Trash2,ChevronLeft,ChevronRight,Search,Menu,X,Save,FileText,Users,Activity,Home,Eye}from'lucide-react';// --- Componentes de la UI ---\n// Modal genérico para confirmaciones y detalles\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Modal=_ref=>{let{children,onClose,title}=_ref;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-2xl w-full max-w-md m-4 animate-fade-in-up\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-4 border-b border-stone-200\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-emerald-800\",children:title}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-stone-400 hover:text-stone-600 transition-colors\",children:/*#__PURE__*/_jsx(X,{size:24})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:children})]})});};// Header reutilizable para cada pantalla\nconst Header=_ref2=>{let{title,onMenuClick}=_ref2;return/*#__PURE__*/_jsx(\"header\",{className:\"bg-emerald-800 text-white p-4 shadow-lg flex items-center justify-between sticky top-0 z-40\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onMenuClick,className:\"mr-4 p-2 rounded-full hover:bg-emerald-700 transition-colors\",children:/*#__PURE__*/_jsx(Menu,{size:24})}),/*#__PURE__*/_jsx(\"img\",{src:\"http://googleusercontent.com/file_content/2\",alt:\"Logo Finca Moreno Z\",className:\"h-10 w-10 rounded-full bg-white p-1 object-contain\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold ml-4 tracking-wider\",children:title})]})});};// Menú lateral de navegación\nconst SideMenu=_ref3=>{let{isOpen,onClose,navigate}=_ref3;const menuItems=[{name:'Inicio',page:'home',icon:/*#__PURE__*/_jsx(Home,{size:20})},{name:'Registrar Res',page:'registerCattle',icon:/*#__PURE__*/_jsx(Plus,{size:20})},{name:'Actualizar Res',page:'updateCattle',icon:/*#__PURE__*/_jsx(Edit,{size:20})},{name:'Consultar',page:'consult',icon:/*#__PURE__*/_jsx(FileText,{size:20})},{name:'Actividades',page:'activities',icon:/*#__PURE__*/_jsx(Activity,{size:20})},{name:'Propietarios',page:'registerOwner',icon:/*#__PURE__*/_jsx(Users,{size:20})}];return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 z-40 transition-opacity \".concat(isOpen?'opacity-100':'opacity-0 pointer-events-none'),onClick:onClose}),/*#__PURE__*/_jsxs(\"div\",{className:\"fixed top-0 left-0 h-full bg-white w-72 shadow-xl z-50 transform transition-transform \".concat(isOpen?'translate-x-0':'-translate-x-full'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border-b flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-emerald-800\",children:\"Men\\xFA\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-stone-500 hover:text-stone-800\",children:/*#__PURE__*/_jsx(X,{size:24})})]}),/*#__PURE__*/_jsx(\"nav\",{className:\"p-4\",children:/*#__PURE__*/_jsx(\"ul\",{children:menuItems.map(item=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{navigate(item.page);onClose();},className:\"w-full text-left flex items-center gap-3 px-4 py-3 rounded-lg text-stone-700 hover:bg-emerald-50 hover:text-emerald-800 font-medium transition-all\",children:[item.icon,item.name]})},item.page))})})]})]});};// --- Funciones de Lógica de Negocio ---\nconst calculateAgeInMonths=birthDate=>{const today=new Date();const birth=new Date(birthDate);let months=(today.getFullYear()-birth.getFullYear())*12;months-=birth.getMonth();months+=today.getMonth();return months<=0?0:months;};const determineCattleType=cattle=>{if(!cattle||!cattle.birthDate||!cattle.gender)return'N/A';const ageInMonths=calculateAgeInMonths(cattle.birthDate);if(ageInMonths<=12)return'Ternero/a';if(cattle.gender==='Hembra'){if(cattle.offspring&&cattle.offspring.length>0){const lastParto=new Date(Math.max(...cattle.offspring.map(o=>new Date(o.birthDate))));const monthsSinceParto=calculateAgeInMonths(lastParto);return monthsSinceParto<=12?'Vaca Parida':'Vaca Horra';}return ageInMonths<=24?'Novilla':'Vaca';}if(cattle.gender==='Macho'){if(ageInMonths<=24)return'Levante';if(cattle.isCastrated===true)return'Macho de Engorde';if(cattle.isCastrated===false)return'Toro';return'Macho Adulto';}return'Desconocido';};// --- Pantallas de la Aplicación ---\nconst HomeScreen=_ref4=>{let{navigate}=_ref4;const buttons=[{label:'Registro de Res',page:'registerCattle',icon:/*#__PURE__*/_jsx(Plus,{className:\"w-12 h-12\"})},{label:'Actualización de Res',page:'updateCattle',icon:/*#__PURE__*/_jsx(Edit,{className:\"w-12 h-12\"})},{label:'Consultar',page:'consult',icon:/*#__PURE__*/_jsx(FileText,{className:\"w-12 h-12\"})},{label:'Registro de Actividades',page:'activities',icon:/*#__PURE__*/_jsx(Activity,{className:\"w-12 h-12\"})},{label:'Registrar Propietarios',page:'registerOwner',icon:/*#__PURE__*/_jsx(Users,{className:\"w-12 h-12\"})}];return/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 gap-6 p-6\",children:buttons.map(btn=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate(btn.page),className:\"bg-white rounded-2xl shadow-lg p-6 flex flex-col items-center justify-center text-center text-emerald-800 hover:bg-emerald-50 hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 aspect-square border-b-4 border-amber-400\",children:[btn.icon,/*#__PURE__*/_jsx(\"span\",{className:\"mt-4 font-semibold text-lg\",children:btn.label})]},btn.page))});};const RegisterOwnerScreen=_ref5=>{let{onSave,onCancel,owners}=_ref5;const[name,setName]=useState('');const[modal,setModal]=useState({isOpen:false,action:null});const handleSave=()=>{if(name.trim()){onSave({id:Date.now(),name:name.trim()});setName('');setModal({isOpen:false});}};const openConfirmModal=action=>{if(action==='save'&&!name.trim()){alert(\"El nombre no puede estar vacío.\");return;}setModal({isOpen:true,action});};const confirmAction=()=>{if(modal.action==='save'){handleSave();}else if(modal.action==='cancel'){onCancel();}};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded-2xl shadow-lg\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-emerald-800 mb-6\",children:\"Registrar Nuevo Propietario\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"ownerName\",className:\"block text-stone-700 font-medium mb-2\",children:\"Nombre y Apellidos\"}),/*#__PURE__*/_jsx(\"input\",{id:\"ownerName\",type:\"text\",value:name,onChange:e=>setName(e.target.value),className:\"w-full px-4 py-3 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500\",placeholder:\"Ej: Carlos Rodr\\xEDguez\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>openConfirmModal('cancel'),className:\"px-6 py-3 rounded-lg bg-stone-200 text-stone-700 font-semibold hover:bg-stone-300 transition-colors\",children:\"Cancelar\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>openConfirmModal('save'),className:\"px-6 py-3 rounded-lg bg-emerald-600 text-white font-semibold hover:bg-emerald-700 transition-colors flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Save,{size:18}),\" Guardar\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 bg-white p-8 rounded-2xl shadow-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-emerald-800 mb-4\",children:\"Propietarios Registrados\"}),owners.length>0?/*#__PURE__*/_jsx(\"ul\",{className:\"divide-y divide-stone-200\",children:owners.map(owner=>/*#__PURE__*/_jsx(\"li\",{className:\"py-3 text-stone-600\",children:owner.name},owner.id))}):/*#__PURE__*/_jsx(\"p\",{className:\"text-stone-500\",children:\"No hay propietarios registrados.\"})]}),modal.isOpen&&/*#__PURE__*/_jsxs(Modal,{onClose:()=>setModal({isOpen:false}),title:\"Confirmaci\\xF3n\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-stone-600 mb-6\",children:[\"\\xBFEst\\xE1s seguro de que deseas \",modal.action==='save'?'guardar este propietario':'cancelar la operación',\"?\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setModal({isOpen:false}),className:\"px-6 py-2 rounded-lg bg-stone-200 text-stone-700 font-semibold hover:bg-stone-300\",children:\"No\"}),/*#__PURE__*/_jsx(\"button\",{onClick:confirmAction,className:\"px-6 py-2 rounded-lg bg-emerald-600 text-white font-semibold hover:bg-emerald-700\",children:\"S\\xED, continuar\"})]})]})]});};const RegisterCattleScreen=_ref6=>{let{onSave,onCancel,owners,cattleData}=_ref6;const[form,setForm]=useState({photos:[],id:'',birthDate:'',gender:'Hembra',weight:'',parentsId:'',lastVaccines:'',ownerId:owners.length>0?owners[0].id:''});const[useAutoId,setUseAutoId]=useState(true);const[modal,setModal]=useState({isOpen:false,action:null});const cattleType=useMemo(()=>determineCattleType({birthDate:form.birthDate,gender:form.gender,offspring:[]}),[form.birthDate,form.gender]);const handleChange=e=>{const{name,value}=e.target;setForm(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handlePhotoChange=e=>{if(form.photos.length<3){const newPhoto=\"https://placehold.co/300x200/A8A29E/FFFFFF?text=Foto+\".concat(form.photos.length+1);setForm(prev=>_objectSpread(_objectSpread({},prev),{},{photos:[...prev.photos,newPhoto]}));}};const generateAutoId=()=>{const allIds=cattleData.map(c=>c.id.replace(/^[VM]-/,'')).filter(id=>id.startsWith('FMZ-'));const lastIdNum=allIds.length>0?Math.max(...allIds.map(id=>parseInt(id.split('-')[1]))):0;return\"FMZ-\".concat(String(lastIdNum+1).padStart(3,'0'));};const validateForm=()=>{const{id,birthDate,weight,ownerId}=form;const finalId=useAutoId?generateAutoId():id.trim();if(!finalId||!birthDate||!weight||!ownerId){alert(\"Por favor, completa todos los campos obligatorios: Código, Fecha de Nacimiento, Peso y Propietario.\");return false;}if(!useAutoId&&cattleData.some(c=>c.id.toUpperCase()===finalId.toUpperCase())){alert(\"El código de identificación manual ya existe.\");return false;}return true;};const handleSave=()=>{const finalId=useAutoId?generateAutoId():form.id.trim();const newCattle=_objectSpread(_objectSpread({},form),{},{id:finalId,status:'Viva',offspring:[],weight:parseFloat(form.weight)});onSave(newCattle);setModal({isOpen:false});};const openConfirmModal=action=>{if(action==='save'&&!validateForm())return;setModal({isOpen:true,action});};const confirmAction=()=>{if(modal.action==='save'){handleSave();}else if(modal.action==='cancel'){onCancel();}};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded-2xl shadow-lg\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-emerald-800 mb-6\",children:\"Registrar Nueva Res\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-stone-700 font-medium mb-2\",children:\"Fotos (m\\xE1x. 3)\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 items-center\",children:[form.photos.map((photo,index)=>/*#__PURE__*/_jsx(\"img\",{src:photo,alt:\"Foto \".concat(index+1),className:\"w-24 h-24 object-cover rounded-lg shadow-md\"},index)),form.photos.length<3&&/*#__PURE__*/_jsxs(\"button\",{onClick:handlePhotoChange,className:\"w-24 h-24 border-2 border-dashed border-stone-300 rounded-lg flex flex-col items-center justify-center text-stone-500 hover:bg-stone-50 transition-colors\",children:[/*#__PURE__*/_jsx(Plus,{size:24}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm mt-1\",children:\"A\\xF1adir\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-stone-700 font-medium mb-2\",children:\"C\\xF3digo de Identificaci\\xF3n\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"id\",value:useAutoId?generateAutoId():form.id,onChange:handleChange,disabled:useAutoId,className:\"w-full px-4 py-3 border border-stone-300 rounded-lg disabled:bg-stone-100\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setUseAutoId(!useAutoId),className:\"px-4 py-3 rounded-lg font-semibold transition-colors \".concat(useAutoId?'bg-emerald-600 text-white':'bg-stone-200'),children:\"Auto\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-stone-700 font-medium mb-2\",children:\"Fecha de Nacimiento\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"birthDate\",value:form.birthDate,onChange:handleChange,className:\"w-full px-4 py-3 border border-stone-300 rounded-lg\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-stone-700 font-medium mb-2\",children:\"G\\xE9nero\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"gender\",value:form.gender,onChange:handleChange,className:\"w-full px-4 py-3 border border-stone-300 rounded-lg bg-white\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"Hembra\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Macho\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-stone-700 font-medium mb-2\",children:\"Peso (Kg)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"weight\",value:form.weight,onChange:handleChange,className:\"w-full px-4 py-3 border border-stone-300 rounded-lg\"})]}),form.gender==='Hembra'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-stone-700 font-medium mb-2\",children:\"Cr\\xEDas\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:\"0\",disabled:true,className:\"w-full px-4 py-3 border border-stone-300 rounded-lg bg-stone-100\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-stone-700 font-medium mb-2\",children:\"C\\xF3digo de los Padres\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"parentsId\",value:form.parentsId,onChange:handleChange,className:\"w-full px-4 py-3 border border-stone-300 rounded-lg\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-stone-700 font-medium mb-2\",children:\"Tipo de Cabeza de Ganado\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:cattleType,disabled:true,className:\"w-full px-4 py-3 border border-stone-300 rounded-lg bg-stone-100\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-stone-700 font-medium mb-2\",children:\"Estado\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:\"Viva\",disabled:true,className:\"w-full px-4 py-3 border border-stone-300 rounded-lg bg-stone-100\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-stone-700 font-medium mb-2\",children:\"\\xDAltimas Vacunas\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"lastVaccines\",value:form.lastVaccines,onChange:handleChange,className:\"w-full px-4 py-3 border border-stone-300 rounded-lg\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-stone-700 font-medium mb-2\",children:\"Propietario\"}),/*#__PURE__*/_jsx(\"select\",{name:\"ownerId\",value:form.ownerId,onChange:handleChange,className:\"w-full px-4 py-3 border border-stone-300 rounded-lg bg-white\",children:owners.map(o=>/*#__PURE__*/_jsx(\"option\",{value:o.id,children:o.name},o.id))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-4 mt-8\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>openConfirmModal('cancel'),className:\"px-6 py-3 rounded-lg bg-stone-200 text-stone-700 font-semibold hover:bg-stone-300 transition-colors\",children:\"Cancelar\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>openConfirmModal('save'),className:\"px-6 py-3 rounded-lg bg-emerald-600 text-white font-semibold hover:bg-emerald-700 transition-colors flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Save,{size:18}),\" Guardar\"]})]})]}),modal.isOpen&&/*#__PURE__*/_jsxs(Modal,{onClose:()=>setModal({isOpen:false}),title:\"Confirmaci\\xF3n\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-stone-600 mb-6\",children:[\"\\xBFEst\\xE1s seguro de que deseas \",modal.action==='save'?'guardar esta res':'cancelar el registro',\"?\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setModal({isOpen:false}),className:\"px-6 py-2 rounded-lg bg-stone-200 text-stone-700 font-semibold hover:bg-stone-300\",children:\"No\"}),/*#__PURE__*/_jsx(\"button\",{onClick:confirmAction,className:\"px-6 py-2 rounded-lg bg-emerald-600 text-white font-semibold hover:bg-emerald-700\",children:\"S\\xED, continuar\"})]})]})]});};const UpdateCattleScreen=_ref7=>{let{cattleData,owners,onUpdate,onCancel}=_ref7;const[searchTerm,setSearchTerm]=useState('');const[selectedCattle,setSelectedCattle]=useState(null);const[form,setForm]=useState(null);const[modal,setModal]=useState({isOpen:false,type:null,data:null});const[offspringForm,setOffspringForm]=useState({calfId:'',birthDate:''});const[statusChangeDate,setStatusChangeDate]=useState('');const handleSearch=()=>{const found=cattleData.find(c=>c.id.trim().toLowerCase()===searchTerm.trim().toLowerCase());if(found){setSelectedCattle(found);setForm(_objectSpread({},found));}else{alert(\"Código inexistente, valide que este correcto\");setSelectedCattle(null);setForm(null);}};const handleChange=e=>{const{name,value}=e.target;setForm(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleCastratedChange=value=>{setForm(prev=>_objectSpread(_objectSpread({},prev),{},{isCastrated:value}));};const handleUpdate=()=>{onUpdate(form);setModal({isOpen:false});setSelectedCattle(null);setForm(null);setSearchTerm('');};const openConfirmModal=function(type){let data=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;setModal({isOpen:true,type,data});};const confirmAction=()=>{if(modal.type==='update'){handleUpdate();}else if(modal.type==='cancel'){onCancel();}else if(modal.type==='addOffspring'){if(!offspringForm.calfId||!offspringForm.birthDate){alert(\"Debe ingresar el código y la fecha de parto de la cría.\");return;}const newOffspring={calfId:offspringForm.calfId,birthDate:offspringForm.birthDate};setForm(prev=>_objectSpread(_objectSpread({},prev),{},{offspring:[...prev.offspring,newOffspring]}));setOffspringForm({calfId:'',birthDate:''});setModal({isOpen:false});}else if(modal.type==='changeStatus'){if(!statusChangeDate){alert(\"Debe ingresar la fecha.\");return;}let newId=form.id;const newStatus=modal.data.newStatus;if(newStatus==='Vendida')newId=\"V-\".concat(form.id);if(newStatus==='Muerta')newId=\"M-\".concat(form.id);onUpdate(_objectSpread(_objectSpread({},form),{},{id:newId,status:newStatus,statusChangeDate:statusChangeDate}),true);setModal({isOpen:false});setSelectedCattle(null);setForm(null);setSearchTerm('');setStatusChangeDate('');}};const ageInMonths=useMemo(()=>selectedCattle?calculateAgeInMonths(selectedCattle.birthDate):0,[selectedCattle]);const cattleType=useMemo(()=>determineCattleType(form),[form]);return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded-2xl shadow-lg mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-emerald-800 mb-6\",children:\"Actualizar Res\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),placeholder:\"Buscar por c\\xF3digo de identificaci\\xF3n...\",className:\"w-full px-4 py-3 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleSearch,className:\"px-6 py-3 rounded-lg bg-emerald-600 text-white font-semibold hover:bg-emerald-700 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Search,{size:18}),\" Buscar\"]})]})]}),selectedCattle&&form&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded-2xl shadow-lg\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-bold text-stone-800 mb-4\",children:[\"Informaci\\xF3n de: \",selectedCattle.id]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 bg-stone-100 rounded-lg\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-stone-500\",children:\"Fecha de Nacimiento\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-stone-800 font-semibold\",children:form.birthDate})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 bg-stone-100 rounded-lg\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-stone-500\",children:\"G\\xE9nero\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-stone-800 font-semibold\",children:form.gender})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 bg-stone-100 rounded-lg\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-stone-500\",children:\"Tipo de Ganado\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-stone-800 font-semibold\",children:cattleType})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-stone-700 font-medium mb-2\",children:\"Peso (Kg)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"weight\",value:form.weight,onChange:handleChange,className:\"w-full px-4 py-3 border border-stone-300 rounded-lg\"})]}),form.gender==='Hembra'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-stone-700 font-medium mb-2\",children:[\"Cr\\xEDas (\",form.offspring.length,\")\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>openConfirmModal('addOffspring'),className:\"w-full px-4 py-3 rounded-lg bg-sky-500 text-white font-semibold hover:bg-sky-600\",children:\"A\\xF1adir Cr\\xEDa\"})]}),form.gender==='Macho'&&ageInMonths>24&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-stone-700 font-medium mb-2\",children:\"Castraci\\xF3n\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleCastratedChange(true),className:\"w-full py-2 rounded-lg transition-colors \".concat(form.isCastrated===true?'bg-emerald-600 text-white':'bg-stone-200'),children:\"Capado\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleCastratedChange(false),className:\"w-full py-2 rounded-lg transition-colors \".concat(form.isCastrated===false?'bg-emerald-600 text-white':'bg-stone-200'),children:\"Sin Capar\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-stone-700 font-medium mb-2\",children:\"Estado\"}),/*#__PURE__*/_jsxs(\"select\",{value:form.status,onChange:e=>{if(e.target.value!=='Viva')openConfirmModal('changeStatus',{newStatus:e.target.value});},className:\"w-full px-4 py-3 border border-stone-300 rounded-lg bg-white\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"Viva\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Vendida\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Muerta\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-stone-700 font-medium mb-2\",children:\"Propietario\"}),/*#__PURE__*/_jsx(\"select\",{name:\"ownerId\",value:form.ownerId,onChange:handleChange,className:\"w-full px-4 py-3 border border-stone-300 rounded-lg bg-white\",children:owners.map(o=>/*#__PURE__*/_jsx(\"option\",{value:o.id,children:o.name},o.id))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-4 mt-8\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>openConfirmModal('cancel'),className:\"px-6 py-3 rounded-lg bg-stone-200 text-stone-700 font-semibold hover:bg-stone-300\",children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>openConfirmModal('update'),className:\"px-6 py-3 rounded-lg bg-emerald-600 text-white font-semibold hover:bg-emerald-700\",children:\"Actualizar\"})]})]}),modal.isOpen&&modal.type==='addOffspring'&&/*#__PURE__*/_jsxs(Modal,{onClose:()=>setModal({isOpen:false}),title:\"A\\xF1adir Cr\\xEDa\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-stone-700 font-medium mb-2\",children:\"C\\xF3digo de la Cr\\xEDa\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:offspringForm.calfId,onChange:e=>setOffspringForm(_objectSpread(_objectSpread({},offspringForm),{},{calfId:e.target.value})),className:\"w-full px-4 py-2 border rounded-lg\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-stone-700 font-medium mb-2\",children:\"Fecha de Parto\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:offspringForm.birthDate,onChange:e=>setOffspringForm(_objectSpread(_objectSpread({},offspringForm),{},{birthDate:e.target.value})),className:\"w-full px-4 py-2 border rounded-lg\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-4 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setModal({isOpen:false}),className:\"px-6 py-2 rounded-lg bg-stone-200\",children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:confirmAction,className:\"px-6 py-2 rounded-lg bg-sky-500 text-white\",children:\"Guardar\"})]})]}),modal.isOpen&&modal.type==='changeStatus'&&/*#__PURE__*/_jsxs(Modal,{onClose:()=>setModal({isOpen:false}),title:\"Cambiar Estado a \".concat(modal.data.newStatus),children:[/*#__PURE__*/_jsxs(\"p\",{className:\"mb-4\",children:[\"Se requiere la fecha de la \",modal.data.newStatus==='Vendida'?'venta':'muerte',\".\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-stone-700 font-medium mb-2\",children:\"Fecha\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:statusChangeDate,onChange:e=>setStatusChangeDate(e.target.value),className:\"w-full px-4 py-2 border rounded-lg\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600 font-medium mt-4\",children:\"\\xA1Atenci\\xF3n! Esta acci\\xF3n es irreversible y mover\\xE1 el registro.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-4 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setModal({isOpen:false}),className:\"px-6 py-2 rounded-lg bg-stone-200\",children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:confirmAction,className:\"px-6 py-2 rounded-lg bg-red-600 text-white\",children:\"Confirmar Cambio\"})]})]}),modal.isOpen&&(modal.type==='update'||modal.type==='cancel')&&/*#__PURE__*/_jsxs(Modal,{onClose:()=>setModal({isOpen:false}),title:\"Confirmaci\\xF3n\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\xBFEst\\xE1s seguro de que deseas \",modal.type==='update'?'actualizar la información':'cancelar la operación',\"?\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-4 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setModal({isOpen:false}),className:\"px-6 py-2 rounded-lg bg-stone-200\",children:\"No\"}),/*#__PURE__*/_jsx(\"button\",{onClick:confirmAction,className:\"px-6 py-2 rounded-lg bg-emerald-600 text-white\",children:\"S\\xED, continuar\"})]})]})]});};const ConsultScreen=_ref8=>{let{cattleData,owners,deceasedSoldData}=_ref8;const[view,setView]=useState('menu');// menu, byOwner, all, deceasedSold\nconst[selectedOwner,setSelectedOwner]=useState(null);const[detailsModal,setDetailsModal]=useState({isOpen:false,cattle:null});const CattleCard=_ref9=>{let{cattle,onClick}=_ref9;const owner=owners.find(o=>o.id===cattle.ownerId);return/*#__PURE__*/_jsxs(\"div\",{onClick:()=>onClick(cattle),className:\"bg-white p-4 rounded-xl shadow-md hover:shadow-lg transition-shadow cursor-pointer border-l-4 border-amber-400\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-lg text-stone-800\",children:cattle.id}),/*#__PURE__*/_jsx(\"p\",{className:\"text-stone-600\",children:determineCattleType(cattle)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"px-3 py-1 rounded-full text-sm font-semibold \".concat(cattle.status==='Viva'?'bg-emerald-100 text-emerald-800':'bg-red-100 text-red-800'),children:cattle.status})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 pt-3 border-t\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-stone-500\",children:[\"Propietario: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-stone-700\",children:owner?owner.name:'N/A'})]})})]});};const renderContent=()=>{switch(view){case'byOwner':if(!selectedOwner){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setView('menu'),className:\"mb-4 text-emerald-600 font-semibold\",children:\"\\u2190 Volver\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mb-4\",children:\"Selecciona un Propietario\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:owners.map(o=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedOwner(o),className:\"w-full text-left p-4 bg-stone-100 rounded-lg hover:bg-emerald-50\",children:o.name},o.id))})]});}const ownerCattle=cattleData.filter(c=>c.ownerId===selectedOwner.id);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedOwner(null),className:\"mb-4 text-emerald-600 font-semibold\",children:\"\\u2190 Volver a Propietarios\"}),/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-bold mb-4\",children:[\"Reses de \",selectedOwner.name]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",children:ownerCattle.length>0?ownerCattle.map(c=>/*#__PURE__*/_jsx(CattleCard,{cattle:c,onClick:cattle=>setDetailsModal({isOpen:true,cattle})},c.id)):/*#__PURE__*/_jsx(\"p\",{children:\"Este propietario no tiene reses.\"})})]});case'all':return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setView('menu'),className:\"mb-4 text-emerald-600 font-semibold\",children:\"\\u2190 Volver\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mb-4\",children:\"Listado Completo de Reses Vivas\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",children:cattleData.map(c=>/*#__PURE__*/_jsx(CattleCard,{cattle:c,onClick:cattle=>setDetailsModal({isOpen:true,cattle})},c.id))})]});case'deceasedSold':return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setView('menu'),className:\"mb-4 text-emerald-600 font-semibold\",children:\"\\u2190 Volver\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mb-4\",children:\"Listado de Reses Vendidas o Muertas\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",children:deceasedSoldData.map(c=>/*#__PURE__*/_jsx(CattleCard,{cattle:c,onClick:cattle=>setDetailsModal({isOpen:true,cattle})},c.id))})]});default:return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setView('byOwner'),className:\"w-full p-6 bg-white rounded-lg shadow-md text-left text-lg font-semibold hover:bg-emerald-50\",children:\"Consultar por Propietarios\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setView('all'),className:\"w-full p-6 bg-white rounded-lg shadow-md text-left text-lg font-semibold hover:bg-emerald-50\",children:\"Listado de Reses Vivas\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setView('deceasedSold'),className:\"w-full p-6 bg-white rounded-lg shadow-md text-left text-lg font-semibold hover:bg-emerald-50\",children:\"Listado de Reses Muertas o Vendidas\"})]});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded-2xl shadow-lg\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-emerald-800 mb-6\",children:\"Consultar Registros\"}),renderContent()]}),detailsModal.isOpen&&detailsModal.cattle&&/*#__PURE__*/_jsxs(Modal,{onClose:()=>setDetailsModal({isOpen:false}),title:\"Detalles de \".concat(detailsModal.cattle.id),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[Object.entries(detailsModal.cattle).map(_ref0=>{let[key,value]=_ref0;if(key==='photos'||key==='offspring')return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium text-stone-600 capitalize\",children:[key.replace(/([A-Z])/g,' $1'),\":\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-stone-800\",children:String(value)})]},key);}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-stone-600\",children:\"Tipo de Ganado:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-stone-800\",children:determineCattleType(detailsModal.cattle)})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end mt-6\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setDetailsModal({isOpen:false}),className:\"px-6 py-2 rounded-lg bg-emerald-600 text-white\",children:\"Cerrar\"})})]})]});};const RegisterActivitiesScreen=_ref1=>{let{activities,onSave}=_ref1;const[view,setView]=useState('menu');const[form,setForm]=useState({date:'',status:'En curso',observations:''});const[currentPage,setCurrentPage]=useState(0);const activitiesPerPage=10;const handleSave=()=>{if(form.date&&form.observations){onSave(_objectSpread({id:Date.now()},form));setForm({date:'',status:'En curso',observations:''});setView('consult');}else{alert(\"Por favor, completa la fecha y las observaciones.\");}};const sortedActivities=useMemo(()=>[...activities].sort((a,b)=>new Date(b.date)-new Date(a.date)),[activities]);const paginatedActivities=sortedActivities.slice(currentPage*activitiesPerPage,(currentPage+1)*activitiesPerPage);const totalPages=Math.ceil(sortedActivities.length/activitiesPerPage);const renderContent=()=>{switch(view){case'add':return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setView('menu'),className:\"mb-4 text-emerald-600 font-semibold\",children:\"\\u2190 Volver\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mb-4\",children:\"Agregar Nueva Actividad\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-stone-700 font-medium mb-2\",children:\"Fecha de Actividad\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:form.date,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{date:e.target.value})),className:\"w-full px-4 py-2 border rounded-lg\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-stone-700 font-medium mb-2\",children:\"Estado\"}),/*#__PURE__*/_jsxs(\"select\",{value:form.status,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{status:e.target.value})),className:\"w-full px-4 py-2 border rounded-lg bg-white\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"En curso\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Completada\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-stone-700 font-medium mb-2\",children:\"Observaciones\"}),/*#__PURE__*/_jsx(\"textarea\",{value:form.observations,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{observations:e.target.value})),rows:\"4\",className:\"w-full px-4 py-2 border rounded-lg\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleSave,className:\"px-6 py-3 rounded-lg bg-emerald-600 text-white font-semibold\",children:\"Guardar Actividad\"})})]})]});case'consult':return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setView('menu'),className:\"mb-4 text-emerald-600 font-semibold\",children:\"\\u2190 Volver\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mb-4\",children:\"Registro de Actividades\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:paginatedActivities.map(act=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-stone-50 rounded-lg border\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:act.date}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 text-xs font-bold rounded-full \".concat(act.status==='Completada'?'bg-emerald-200 text-emerald-800':'bg-amber-200 text-amber-800'),children:act.status})]}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-stone-600\",children:act.observations})]},act.id))}),totalPages>1&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mt-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(p=>Math.max(0,p-1)),disabled:currentPage===0,className:\"p-2 rounded-full disabled:opacity-50 bg-stone-200\",children:/*#__PURE__*/_jsx(ChevronLeft,{})}),/*#__PURE__*/_jsxs(\"span\",{children:[\"P\\xE1gina \",currentPage+1,\" de \",totalPages]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(p=>Math.min(totalPages-1,p+1)),disabled:currentPage===totalPages-1,className:\"p-2 rounded-full disabled:opacity-50 bg-stone-200\",children:/*#__PURE__*/_jsx(ChevronRight,{})})]})]});default:return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setView('add'),className:\"w-full p-6 bg-white rounded-lg shadow-md text-center text-lg font-semibold hover:bg-emerald-50\",children:\"Agregar Actividad\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setView('consult'),className:\"w-full p-6 bg-white rounded-lg shadow-md text-center text-lg font-semibold hover:bg-emerald-50\",children:\"Consultar Registro\"})]});}};return/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded-2xl shadow-lg\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-emerald-800 mb-6\",children:\"Gesti\\xF3n de Actividades\"}),renderContent()]})});};// --- Componente Principal de la App ---\nexport default function App(){const[currentPage,setCurrentPage]=useState('home');const[isMenuOpen,setIsMenuOpen]=useState(false);// --- Lógica de Persistencia de Datos ---\n// Esta función auxiliar carga datos desde localStorage\nconst loadFromLocalStorage=(key,defaultValue)=>{try{const storedValue=localStorage.getItem(key);return storedValue?JSON.parse(storedValue):defaultValue;}catch(error){console.error(\"Error loading \".concat(key,\" from localStorage\"),error);return defaultValue;}};// Estados inicializados desde localStorage o con valores por defecto\nconst[owners,setOwners]=useState(()=>loadFromLocalStorage('fmz_owners',[]));const[cattleData,setCattleData]=useState(()=>loadFromLocalStorage('fmz_cattleData',[]));const[deceasedSoldData,setDeceasedSoldData]=useState(()=>loadFromLocalStorage('fmz_deceasedSoldData',[]));const[activities,setActivities]=useState(()=>loadFromLocalStorage('fmz_activities',[]));// Efectos para guardar los datos en localStorage cada vez que cambian\nuseEffect(()=>{localStorage.setItem('fmz_owners',JSON.stringify(owners));},[owners]);useEffect(()=>{localStorage.setItem('fmz_cattleData',JSON.stringify(cattleData));},[cattleData]);useEffect(()=>{localStorage.setItem('fmz_deceasedSoldData',JSON.stringify(deceasedSoldData));},[deceasedSoldData]);useEffect(()=>{localStorage.setItem('fmz_activities',JSON.stringify(activities));},[activities]);const pageTitles={home:'Finca Moreno Z',registerCattle:'Registro de Res',updateCattle:'Actualización de Res',consult:'Consultas',activities:'Actividades',registerOwner:'Propietarios'};const navigate=page=>{setCurrentPage(page);};const handleSaveOwner=newOwner=>{setOwners(prev=>[...prev,newOwner]);alert('Propietario guardado con éxito!');navigate('home');};const handleSaveCattle=newCattle=>{setCattleData(prev=>[...prev,newCattle]);alert('Res guardada con éxito!');navigate('home');};const handleUpdateCattle=function(updatedCattle){let isStatusChange=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(isStatusChange){setCattleData(prev=>prev.filter(c=>c.id!==updatedCattle.id.substring(2)));setDeceasedSoldData(prev=>[...prev,updatedCattle]);alert(\"El estado de la res \".concat(updatedCattle.id,\" ha sido actualizado.\"));}else{setCattleData(prev=>prev.map(c=>c.id===updatedCattle.id?updatedCattle:c));alert(\"La informaci\\xF3n de la res \".concat(updatedCattle.id,\" ha sido actualizada.\"));}};const handleSaveActivity=newActivity=>{setActivities(prev=>[newActivity,...prev]);alert('Actividad guardada con éxito!');};const renderPage=()=>{switch(currentPage){case'registerOwner':return/*#__PURE__*/_jsx(RegisterOwnerScreen,{onSave:handleSaveOwner,onCancel:()=>navigate('home'),owners:owners});case'registerCattle':return/*#__PURE__*/_jsx(RegisterCattleScreen,{onSave:handleSaveCattle,onCancel:()=>navigate('home'),owners:owners,cattleData:cattleData});case'updateCattle':return/*#__PURE__*/_jsx(UpdateCattleScreen,{cattleData:cattleData,owners:owners,onUpdate:handleUpdateCattle,onCancel:()=>navigate('home')});case'consult':return/*#__PURE__*/_jsx(ConsultScreen,{cattleData:cattleData,owners:owners,deceasedSoldData:deceasedSoldData});case'activities':return/*#__PURE__*/_jsx(RegisterActivitiesScreen,{activities:activities,onSave:handleSaveActivity});case'home':default:return/*#__PURE__*/_jsx(HomeScreen,{navigate:navigate});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-stone-100 min-h-screen font-sans\",children:[/*#__PURE__*/_jsx(\"style\",{children:\"\\n                .animate-fade-in-up {\\n                    animation: fadeInUp 0.3s ease-out forwards;\\n                }\\n                @keyframes fadeInUp {\\n                    from {\\n                        opacity: 0;\\n                        transform: translateY(20px);\\n                    }\\n                    to {\\n                        opacity: 1;\\n                        transform: translateY(0);\\n                    }\\n                }\\n            \"}),/*#__PURE__*/_jsx(SideMenu,{isOpen:isMenuOpen,onClose:()=>setIsMenuOpen(false),navigate:navigate}),/*#__PURE__*/_jsx(Header,{title:pageTitles[currentPage]||'Finca Moreno Z',onMenuClick:()=>setIsMenuOpen(true)}),/*#__PURE__*/_jsx(\"main\",{children:renderPage()})]});}","map":{"version":3,"names":["React","useState","useEffect","useMemo","Plus","Edit","Trash2","ChevronLeft","ChevronRight","Search","Menu","X","Save","FileText","Users","Activity","Home","Eye","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Modal","_ref","children","onClose","title","className","onClick","size","Header","_ref2","onMenuClick","src","alt","SideMenu","_ref3","isOpen","navigate","menuItems","name","page","icon","concat","map","item","calculateAgeInMonths","birthDate","today","Date","birth","months","getFullYear","getMonth","determineCattleType","cattle","gender","ageInMonths","offspring","length","lastParto","Math","max","o","monthsSinceParto","isCastrated","HomeScreen","_ref4","buttons","label","btn","RegisterOwnerScreen","_ref5","onSave","onCancel","owners","setName","modal","setModal","action","handleSave","trim","id","now","openConfirmModal","alert","confirmAction","htmlFor","type","value","onChange","e","target","placeholder","owner","RegisterCattleScreen","_ref6","cattleData","form","setForm","photos","weight","parentsId","lastVaccines","ownerId","useAutoId","setUseAutoId","cattleType","handleChange","prev","_objectSpread","handlePhotoChange","newPhoto","generateAutoId","allIds","c","replace","filter","startsWith","lastIdNum","parseInt","split","String","padStart","validateForm","finalId","some","toUpperCase","newCattle","status","parseFloat","photo","index","disabled","UpdateCattleScreen","_ref7","onUpdate","searchTerm","setSearchTerm","selectedCattle","setSelectedCattle","data","offspringForm","setOffspringForm","calfId","statusChangeDate","setStatusChangeDate","handleSearch","found","find","toLowerCase","handleCastratedChange","handleUpdate","arguments","undefined","newOffspring","newId","newStatus","ConsultScreen","_ref8","deceasedSoldData","view","setView","selectedOwner","setSelectedOwner","detailsModal","setDetailsModal","CattleCard","_ref9","renderContent","ownerCattle","Object","entries","_ref0","key","RegisterActivitiesScreen","_ref1","activities","date","observations","currentPage","setCurrentPage","activitiesPerPage","sortedActivities","sort","a","b","paginatedActivities","slice","totalPages","ceil","rows","act","p","min","App","isMenuOpen","setIsMenuOpen","loadFromLocalStorage","defaultValue","storedValue","localStorage","getItem","JSON","parse","error","console","setOwners","setCattleData","setDeceasedSoldData","setActivities","setItem","stringify","pageTitles","home","registerCattle","updateCattle","consult","registerOwner","handleSaveOwner","newOwner","handleSaveCattle","handleUpdateCattle","updatedCattle","isStatusChange","substring","handleSaveActivity","newActivity","renderPage"],"sources":["C:/Users/alezv/Desktop/App/React/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\r\nimport { Plus, Edit, Trash2, ChevronLeft, ChevronRight, Search, Menu, X, Save, FileText, Users, Activity, Home, Eye } from 'lucide-react';\r\n\r\n// --- Componentes de la UI ---\r\n\r\n// Modal genérico para confirmaciones y detalles\r\nconst Modal = ({ children, onClose, title }) => (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4\">\r\n        <div className=\"bg-white rounded-2xl shadow-2xl w-full max-w-md m-4 animate-fade-in-up\">\r\n            <div className=\"flex justify-between items-center p-4 border-b border-stone-200\">\r\n                <h3 className=\"text-xl font-bold text-emerald-800\">{title}</h3>\r\n                <button onClick={onClose} className=\"text-stone-400 hover:text-stone-600 transition-colors\">\r\n                    <X size={24} />\r\n                </button>\r\n            </div>\r\n            <div className=\"p-6\">\r\n                {children}\r\n            </div>\r\n        </div>\r\n    </div>\r\n);\r\n\r\n// Header reutilizable para cada pantalla\r\nconst Header = ({ title, onMenuClick }) => (\r\n    <header className=\"bg-emerald-800 text-white p-4 shadow-lg flex items-center justify-between sticky top-0 z-40\">\r\n        <div className=\"flex items-center\">\r\n            <button onClick={onMenuClick} className=\"mr-4 p-2 rounded-full hover:bg-emerald-700 transition-colors\">\r\n                <Menu size={24} />\r\n            </button>\r\n            {/* Logo integrado desde la URL proporcionada */}\r\n            <img src=\"http://googleusercontent.com/file_content/2\" alt=\"Logo Finca Moreno Z\" className=\"h-10 w-10 rounded-full bg-white p-1 object-contain\" />\r\n            <h1 className=\"text-2xl font-bold ml-4 tracking-wider\">{title}</h1>\r\n        </div>\r\n    </header>\r\n);\r\n\r\n// Menú lateral de navegación\r\nconst SideMenu = ({ isOpen, onClose, navigate }) => {\r\n    const menuItems = [\r\n        { name: 'Inicio', page: 'home', icon: <Home size={20} /> },\r\n        { name: 'Registrar Res', page: 'registerCattle', icon: <Plus size={20} /> },\r\n        { name: 'Actualizar Res', page: 'updateCattle', icon: <Edit size={20} /> },\r\n        { name: 'Consultar', page: 'consult', icon: <FileText size={20} /> },\r\n        { name: 'Actividades', page: 'activities', icon: <Activity size={20} /> },\r\n        { name: 'Propietarios', page: 'registerOwner', icon: <Users size={20} /> },\r\n    ];\r\n\r\n    return (\r\n        <>\r\n            <div className={`fixed inset-0 bg-black bg-opacity-50 z-40 transition-opacity ${isOpen ? 'opacity-100' : 'opacity-0 pointer-events-none'}`} onClick={onClose}></div>\r\n            <div className={`fixed top-0 left-0 h-full bg-white w-72 shadow-xl z-50 transform transition-transform ${isOpen ? 'translate-x-0' : '-translate-x-full'}`}>\r\n                <div className=\"p-4 border-b flex justify-between items-center\">\r\n                    <h2 className=\"text-xl font-bold text-emerald-800\">Menú</h2>\r\n                    <button onClick={onClose} className=\"text-stone-500 hover:text-stone-800\"><X size={24} /></button>\r\n                </div>\r\n                <nav className=\"p-4\">\r\n                    <ul>\r\n                        {menuItems.map(item => (\r\n                            <li key={item.page}>\r\n                                <button onClick={() => { navigate(item.page); onClose(); }} className=\"w-full text-left flex items-center gap-3 px-4 py-3 rounded-lg text-stone-700 hover:bg-emerald-50 hover:text-emerald-800 font-medium transition-all\">\r\n                                    {item.icon}\r\n                                    {item.name}\r\n                                </button>\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                </nav>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\n\r\n// --- Funciones de Lógica de Negocio ---\r\n\r\nconst calculateAgeInMonths = (birthDate) => {\r\n    const today = new Date();\r\n    const birth = new Date(birthDate);\r\n    let months = (today.getFullYear() - birth.getFullYear()) * 12;\r\n    months -= birth.getMonth();\r\n    months += today.getMonth();\r\n    return months <= 0 ? 0 : months;\r\n};\r\n\r\nconst determineCattleType = (cattle) => {\r\n    if (!cattle || !cattle.birthDate || !cattle.gender) return 'N/A';\r\n    \r\n    const ageInMonths = calculateAgeInMonths(cattle.birthDate);\r\n\r\n    if (ageInMonths <= 12) return 'Ternero/a';\r\n\r\n    if (cattle.gender === 'Hembra') {\r\n        if (cattle.offspring && cattle.offspring.length > 0) {\r\n            const lastParto = new Date(Math.max(...cattle.offspring.map(o => new Date(o.birthDate))));\r\n            const monthsSinceParto = calculateAgeInMonths(lastParto);\r\n            return monthsSinceParto <= 12 ? 'Vaca Parida' : 'Vaca Horra';\r\n        }\r\n        return ageInMonths <= 24 ? 'Novilla' : 'Vaca';\r\n    }\r\n\r\n    if (cattle.gender === 'Macho') {\r\n        if (ageInMonths <= 24) return 'Levante';\r\n        if (cattle.isCastrated === true) return 'Macho de Engorde';\r\n        if (cattle.isCastrated === false) return 'Toro';\r\n        return 'Macho Adulto';\r\n    }\r\n\r\n    return 'Desconocido';\r\n};\r\n\r\n\r\n// --- Pantallas de la Aplicación ---\r\n\r\nconst HomeScreen = ({ navigate }) => {\r\n    const buttons = [\r\n        { label: 'Registro de Res', page: 'registerCattle', icon: <Plus className=\"w-12 h-12\" /> },\r\n        { label: 'Actualización de Res', page: 'updateCattle', icon: <Edit className=\"w-12 h-12\" /> },\r\n        { label: 'Consultar', page: 'consult', icon: <FileText className=\"w-12 h-12\" /> },\r\n        { label: 'Registro de Actividades', page: 'activities', icon: <Activity className=\"w-12 h-12\" /> },\r\n        { label: 'Registrar Propietarios', page: 'registerOwner', icon: <Users className=\"w-12 h-12\" /> },\r\n    ];\r\n\r\n    return (\r\n        <div className=\"grid grid-cols-2 gap-6 p-6\">\r\n            {buttons.map((btn) => (\r\n                <button key={btn.page} onClick={() => navigate(btn.page)} className=\"bg-white rounded-2xl shadow-lg p-6 flex flex-col items-center justify-center text-center text-emerald-800 hover:bg-emerald-50 hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 aspect-square border-b-4 border-amber-400\">\r\n                    {btn.icon}\r\n                    <span className=\"mt-4 font-semibold text-lg\">{btn.label}</span>\r\n                </button>\r\n            ))}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst RegisterOwnerScreen = ({ onSave, onCancel, owners }) => {\r\n    const [name, setName] = useState('');\r\n    const [modal, setModal] = useState({ isOpen: false, action: null });\r\n\r\n    const handleSave = () => {\r\n        if (name.trim()) {\r\n            onSave({ id: Date.now(), name: name.trim() });\r\n            setName('');\r\n            setModal({ isOpen: false });\r\n        }\r\n    };\r\n    \r\n    const openConfirmModal = (action) => {\r\n        if (action === 'save' && !name.trim()) {\r\n            alert(\"El nombre no puede estar vacío.\");\r\n            return;\r\n        }\r\n        setModal({ isOpen: true, action });\r\n    };\r\n\r\n    const confirmAction = () => {\r\n        if (modal.action === 'save') {\r\n            handleSave();\r\n        } else if (modal.action === 'cancel') {\r\n            onCancel();\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"p-6\">\r\n            <div className=\"bg-white p-8 rounded-2xl shadow-lg\">\r\n                <h2 className=\"text-2xl font-bold text-emerald-800 mb-6\">Registrar Nuevo Propietario</h2>\r\n                <div className=\"mb-6\">\r\n                    <label htmlFor=\"ownerName\" className=\"block text-stone-700 font-medium mb-2\">Nombre y Apellidos</label>\r\n                    <input\r\n                        id=\"ownerName\"\r\n                        type=\"text\"\r\n                        value={name}\r\n                        onChange={(e) => setName(e.target.value)}\r\n                        className=\"w-full px-4 py-3 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500\"\r\n                        placeholder=\"Ej: Carlos Rodríguez\"\r\n                    />\r\n                </div>\r\n                <div className=\"flex justify-end gap-4\">\r\n                    <button onClick={() => openConfirmModal('cancel')} className=\"px-6 py-3 rounded-lg bg-stone-200 text-stone-700 font-semibold hover:bg-stone-300 transition-colors\">Cancelar</button>\r\n                    <button onClick={() => openConfirmModal('save')} className=\"px-6 py-3 rounded-lg bg-emerald-600 text-white font-semibold hover:bg-emerald-700 transition-colors flex items-center gap-2\"><Save size={18}/> Guardar</button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"mt-8 bg-white p-8 rounded-2xl shadow-lg\">\r\n                <h3 className=\"text-xl font-bold text-emerald-800 mb-4\">Propietarios Registrados</h3>\r\n                {owners.length > 0 ? (\r\n                    <ul className=\"divide-y divide-stone-200\">\r\n                        {owners.map(owner => <li key={owner.id} className=\"py-3 text-stone-600\">{owner.name}</li>)}\r\n                    </ul>\r\n                ) : (\r\n                    <p className=\"text-stone-500\">No hay propietarios registrados.</p>\r\n                )}\r\n            </div>\r\n\r\n            {modal.isOpen && (\r\n                <Modal onClose={() => setModal({ isOpen: false })} title=\"Confirmación\">\r\n                    <p className=\"text-stone-600 mb-6\">¿Estás seguro de que deseas {modal.action === 'save' ? 'guardar este propietario' : 'cancelar la operación'}?</p>\r\n                    <div className=\"flex justify-end gap-4\">\r\n                        <button onClick={() => setModal({ isOpen: false })} className=\"px-6 py-2 rounded-lg bg-stone-200 text-stone-700 font-semibold hover:bg-stone-300\">No</button>\r\n                        <button onClick={confirmAction} className=\"px-6 py-2 rounded-lg bg-emerald-600 text-white font-semibold hover:bg-emerald-700\">Sí, continuar</button>\r\n                    </div>\r\n                </Modal>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst RegisterCattleScreen = ({ onSave, onCancel, owners, cattleData }) => {\r\n    const [form, setForm] = useState({\r\n        photos: [],\r\n        id: '',\r\n        birthDate: '',\r\n        gender: 'Hembra',\r\n        weight: '',\r\n        parentsId: '',\r\n        lastVaccines: '',\r\n        ownerId: owners.length > 0 ? owners[0].id : ''\r\n    });\r\n    const [useAutoId, setUseAutoId] = useState(true);\r\n    const [modal, setModal] = useState({ isOpen: false, action: null });\r\n\r\n    const cattleType = useMemo(() => determineCattleType({ birthDate: form.birthDate, gender: form.gender, offspring: [] }), [form.birthDate, form.gender]);\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setForm(prev => ({ ...prev, [name]: value }));\r\n    };\r\n\r\n    const handlePhotoChange = (e) => {\r\n      if (form.photos.length < 3) {\r\n        const newPhoto = `https://placehold.co/300x200/A8A29E/FFFFFF?text=Foto+${form.photos.length + 1}`;\r\n        setForm(prev => ({ ...prev, photos: [...prev.photos, newPhoto] }));\r\n      }\r\n    };\r\n\r\n    const generateAutoId = () => {\r\n        const allIds = cattleData.map(c => c.id.replace(/^[VM]-/, '')).filter(id => id.startsWith('FMZ-'));\r\n        const lastIdNum = allIds.length > 0 ? Math.max(...allIds.map(id => parseInt(id.split('-')[1]))) : 0;\r\n        return `FMZ-${String(lastIdNum + 1).padStart(3, '0')}`;\r\n    };\r\n    \r\n    const validateForm = () => {\r\n        const { id, birthDate, weight, ownerId } = form;\r\n        const finalId = useAutoId ? generateAutoId() : id.trim();\r\n        \r\n        if (!finalId || !birthDate || !weight || !ownerId) {\r\n            alert(\"Por favor, completa todos los campos obligatorios: Código, Fecha de Nacimiento, Peso y Propietario.\");\r\n            return false;\r\n        }\r\n        if (!useAutoId && cattleData.some(c => c.id.toUpperCase() === finalId.toUpperCase())) {\r\n            alert(\"El código de identificación manual ya existe.\");\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n\r\n    const handleSave = () => {\r\n        const finalId = useAutoId ? generateAutoId() : form.id.trim();\r\n        const newCattle = {\r\n            ...form,\r\n            id: finalId,\r\n            status: 'Viva',\r\n            offspring: [],\r\n            weight: parseFloat(form.weight)\r\n        };\r\n        onSave(newCattle);\r\n        setModal({ isOpen: false });\r\n    };\r\n    \r\n    const openConfirmModal = (action) => {\r\n        if (action === 'save' && !validateForm()) return;\r\n        setModal({ isOpen: true, action });\r\n    };\r\n\r\n    const confirmAction = () => {\r\n        if (modal.action === 'save') {\r\n            handleSave();\r\n        } else if (modal.action === 'cancel') {\r\n            onCancel();\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"p-6\">\r\n            <div className=\"bg-white p-8 rounded-2xl shadow-lg\">\r\n                <h2 className=\"text-2xl font-bold text-emerald-800 mb-6\">Registrar Nueva Res</h2>\r\n                \r\n                <div className=\"mb-4\">\r\n                    <label className=\"block text-stone-700 font-medium mb-2\">Fotos (máx. 3)</label>\r\n                    <div className=\"flex gap-4 items-center\">\r\n                        {form.photos.map((photo, index) => (\r\n                            <img key={index} src={photo} alt={`Foto ${index+1}`} className=\"w-24 h-24 object-cover rounded-lg shadow-md\"/>\r\n                        ))}\r\n                        {form.photos.length < 3 && (\r\n                            <button onClick={handlePhotoChange} className=\"w-24 h-24 border-2 border-dashed border-stone-300 rounded-lg flex flex-col items-center justify-center text-stone-500 hover:bg-stone-50 transition-colors\">\r\n                                <Plus size={24} />\r\n                                <span className=\"text-sm mt-1\">Añadir</span>\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                    <div>\r\n                        <label className=\"block text-stone-700 font-medium mb-2\">Código de Identificación</label>\r\n                        <div className=\"flex items-center gap-2\">\r\n                            <input type=\"text\" name=\"id\" value={useAutoId ? generateAutoId() : form.id} onChange={handleChange} disabled={useAutoId} className=\"w-full px-4 py-3 border border-stone-300 rounded-lg disabled:bg-stone-100\" />\r\n                            <button onClick={() => setUseAutoId(!useAutoId)} className={`px-4 py-3 rounded-lg font-semibold transition-colors ${useAutoId ? 'bg-emerald-600 text-white' : 'bg-stone-200'}`}>Auto</button>\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"block text-stone-700 font-medium mb-2\">Fecha de Nacimiento</label>\r\n                        <input type=\"date\" name=\"birthDate\" value={form.birthDate} onChange={handleChange} className=\"w-full px-4 py-3 border border-stone-300 rounded-lg\" />\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"block text-stone-700 font-medium mb-2\">Género</label>\r\n                        <select name=\"gender\" value={form.gender} onChange={handleChange} className=\"w-full px-4 py-3 border border-stone-300 rounded-lg bg-white\">\r\n                            <option>Hembra</option>\r\n                            <option>Macho</option>\r\n                        </select>\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"block text-stone-700 font-medium mb-2\">Peso (Kg)</label>\r\n                        <input type=\"number\" name=\"weight\" value={form.weight} onChange={handleChange} className=\"w-full px-4 py-3 border border-stone-300 rounded-lg\" />\r\n                    </div>\r\n                     {form.gender === 'Hembra' && (\r\n                        <div>\r\n                            <label className=\"block text-stone-700 font-medium mb-2\">Crías</label>\r\n                            <input type=\"number\" value=\"0\" disabled className=\"w-full px-4 py-3 border border-stone-300 rounded-lg bg-stone-100\" />\r\n                        </div>\r\n                    )}\r\n                    <div>\r\n                        <label className=\"block text-stone-700 font-medium mb-2\">Código de los Padres</label>\r\n                        <input type=\"text\" name=\"parentsId\" value={form.parentsId} onChange={handleChange} className=\"w-full px-4 py-3 border border-stone-300 rounded-lg\" />\r\n                    </div>\r\n                     <div>\r\n                        <label className=\"block text-stone-700 font-medium mb-2\">Tipo de Cabeza de Ganado</label>\r\n                        <input type=\"text\" value={cattleType} disabled className=\"w-full px-4 py-3 border border-stone-300 rounded-lg bg-stone-100\" />\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"block text-stone-700 font-medium mb-2\">Estado</label>\r\n                        <input type=\"text\" value=\"Viva\" disabled className=\"w-full px-4 py-3 border border-stone-300 rounded-lg bg-stone-100\" />\r\n                    </div>\r\n                    <div className=\"md:col-span-2\">\r\n                        <label className=\"block text-stone-700 font-medium mb-2\">Últimas Vacunas</label>\r\n                        <input type=\"text\" name=\"lastVaccines\" value={form.lastVaccines} onChange={handleChange} className=\"w-full px-4 py-3 border border-stone-300 rounded-lg\" />\r\n                    </div>\r\n                     <div className=\"md:col-span-2\">\r\n                        <label className=\"block text-stone-700 font-medium mb-2\">Propietario</label>\r\n                        <select name=\"ownerId\" value={form.ownerId} onChange={handleChange} className=\"w-full px-4 py-3 border border-stone-300 rounded-lg bg-white\">\r\n                            {owners.map(o => <option key={o.id} value={o.id}>{o.name}</option>)}\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"flex justify-end gap-4 mt-8\">\r\n                    <button onClick={() => openConfirmModal('cancel')} className=\"px-6 py-3 rounded-lg bg-stone-200 text-stone-700 font-semibold hover:bg-stone-300 transition-colors\">Cancelar</button>\r\n                    <button onClick={() => openConfirmModal('save')} className=\"px-6 py-3 rounded-lg bg-emerald-600 text-white font-semibold hover:bg-emerald-700 transition-colors flex items-center gap-2\"><Save size={18}/> Guardar</button>\r\n                </div>\r\n            </div>\r\n            {modal.isOpen && (\r\n                <Modal onClose={() => setModal({ isOpen: false })} title=\"Confirmación\">\r\n                    <p className=\"text-stone-600 mb-6\">¿Estás seguro de que deseas {modal.action === 'save' ? 'guardar esta res' : 'cancelar el registro'}?</p>\r\n                    <div className=\"flex justify-end gap-4\">\r\n                        <button onClick={() => setModal({ isOpen: false })} className=\"px-6 py-2 rounded-lg bg-stone-200 text-stone-700 font-semibold hover:bg-stone-300\">No</button>\r\n                        <button onClick={confirmAction} className=\"px-6 py-2 rounded-lg bg-emerald-600 text-white font-semibold hover:bg-emerald-700\">Sí, continuar</button>\r\n                    </div>\r\n                </Modal>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst UpdateCattleScreen = ({ cattleData, owners, onUpdate, onCancel }) => {\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [selectedCattle, setSelectedCattle] = useState(null);\r\n    const [form, setForm] = useState(null);\r\n    const [modal, setModal] = useState({ isOpen: false, type: null, data: null });\r\n    const [offspringForm, setOffspringForm] = useState({ calfId: '', birthDate: '' });\r\n    const [statusChangeDate, setStatusChangeDate] = useState('');\r\n\r\n    const handleSearch = () => {\r\n        const found = cattleData.find(c => c.id.trim().toLowerCase() === searchTerm.trim().toLowerCase());\r\n        if (found) {\r\n            setSelectedCattle(found);\r\n            setForm({ ...found });\r\n        } else {\r\n            alert(\"Código inexistente, valide que este correcto\");\r\n            setSelectedCattle(null);\r\n            setForm(null);\r\n        }\r\n    };\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setForm(prev => ({ ...prev, [name]: value }));\r\n    };\r\n    \r\n    const handleCastratedChange = (value) => {\r\n        setForm(prev => ({...prev, isCastrated: value}));\r\n    };\r\n\r\n    const handleUpdate = () => {\r\n        onUpdate(form);\r\n        setModal({ isOpen: false });\r\n        setSelectedCattle(null);\r\n        setForm(null);\r\n        setSearchTerm('');\r\n    };\r\n    \r\n    const openConfirmModal = (type, data = null) => {\r\n        setModal({ isOpen: true, type, data });\r\n    };\r\n\r\n    const confirmAction = () => {\r\n        if (modal.type === 'update') {\r\n            handleUpdate();\r\n        } else if (modal.type === 'cancel') {\r\n            onCancel();\r\n        } else if (modal.type === 'addOffspring') {\r\n            if (!offspringForm.calfId || !offspringForm.birthDate) {\r\n                alert(\"Debe ingresar el código y la fecha de parto de la cría.\");\r\n                return;\r\n            }\r\n            const newOffspring = { calfId: offspringForm.calfId, birthDate: offspringForm.birthDate };\r\n            setForm(prev => ({...prev, offspring: [...prev.offspring, newOffspring]}));\r\n            setOffspringForm({ calfId: '', birthDate: '' });\r\n            setModal({isOpen: false});\r\n        } else if (modal.type === 'changeStatus') {\r\n            if (!statusChangeDate) {\r\n                alert(\"Debe ingresar la fecha.\");\r\n                return;\r\n            }\r\n            let newId = form.id;\r\n            const newStatus = modal.data.newStatus;\r\n            if (newStatus === 'Vendida') newId = `V-${form.id}`;\r\n            if (newStatus === 'Muerta') newId = `M-${form.id}`;\r\n            \r\n            onUpdate({ ...form, id: newId, status: newStatus, statusChangeDate: statusChangeDate }, true);\r\n            setModal({ isOpen: false });\r\n            setSelectedCattle(null);\r\n            setForm(null);\r\n            setSearchTerm('');\r\n            setStatusChangeDate('');\r\n        }\r\n    };\r\n    \r\n    const ageInMonths = useMemo(() => selectedCattle ? calculateAgeInMonths(selectedCattle.birthDate) : 0, [selectedCattle]);\r\n    const cattleType = useMemo(() => determineCattleType(form), [form]);\r\n\r\n    return (\r\n        <div className=\"p-6\">\r\n            <div className=\"bg-white p-8 rounded-2xl shadow-lg mb-6\">\r\n                <h2 className=\"text-2xl font-bold text-emerald-800 mb-6\">Actualizar Res</h2>\r\n                <div className=\"flex gap-2\">\r\n                    <input\r\n                        type=\"text\"\r\n                        value={searchTerm}\r\n                        onChange={(e) => setSearchTerm(e.target.value)}\r\n                        placeholder=\"Buscar por código de identificación...\"\r\n                        className=\"w-full px-4 py-3 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500\"\r\n                    />\r\n                    <button onClick={handleSearch} className=\"px-6 py-3 rounded-lg bg-emerald-600 text-white font-semibold hover:bg-emerald-700 flex items-center gap-2\"><Search size={18}/> Buscar</button>\r\n                </div>\r\n            </div>\r\n\r\n            {selectedCattle && form && (\r\n                <div className=\"bg-white p-8 rounded-2xl shadow-lg\">\r\n                    <h3 className=\"text-xl font-bold text-stone-800 mb-4\">Información de: {selectedCattle.id}</h3>\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                        <div className=\"p-3 bg-stone-100 rounded-lg\">\r\n                            <label className=\"block text-sm font-medium text-stone-500\">Fecha de Nacimiento</label>\r\n                            <p className=\"text-stone-800 font-semibold\">{form.birthDate}</p>\r\n                        </div>\r\n                        <div className=\"p-3 bg-stone-100 rounded-lg\">\r\n                            <label className=\"block text-sm font-medium text-stone-500\">Género</label>\r\n                            <p className=\"text-stone-800 font-semibold\">{form.gender}</p>\r\n                        </div>\r\n                         <div className=\"p-3 bg-stone-100 rounded-lg\">\r\n                            <label className=\"block text-sm font-medium text-stone-500\">Tipo de Ganado</label>\r\n                            <p className=\"text-stone-800 font-semibold\">{cattleType}</p>\r\n                        </div>\r\n                        \r\n                        <div>\r\n                            <label className=\"block text-stone-700 font-medium mb-2\">Peso (Kg)</label>\r\n                            <input type=\"number\" name=\"weight\" value={form.weight} onChange={handleChange} className=\"w-full px-4 py-3 border border-stone-300 rounded-lg\" />\r\n                        </div>\r\n                        \r\n                        {form.gender === 'Hembra' && (\r\n                            <div>\r\n                                <label className=\"block text-stone-700 font-medium mb-2\">Crías ({form.offspring.length})</label>\r\n                                <button onClick={() => openConfirmModal('addOffspring')} className=\"w-full px-4 py-3 rounded-lg bg-sky-500 text-white font-semibold hover:bg-sky-600\">Añadir Cría</button>\r\n                            </div>\r\n                        )}\r\n                        \r\n                        {form.gender === 'Macho' && ageInMonths > 24 && (\r\n                            <div>\r\n                                <label className=\"block text-stone-700 font-medium mb-2\">Castración</label>\r\n                                <div className=\"flex gap-2\">\r\n                                    <button onClick={() => handleCastratedChange(true)} className={`w-full py-2 rounded-lg transition-colors ${form.isCastrated === true ? 'bg-emerald-600 text-white' : 'bg-stone-200'}`}>Capado</button>\r\n                                    <button onClick={() => handleCastratedChange(false)} className={`w-full py-2 rounded-lg transition-colors ${form.isCastrated === false ? 'bg-emerald-600 text-white' : 'bg-stone-200'}`}>Sin Capar</button>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                        \r\n                        <div>\r\n                            <label className=\"block text-stone-700 font-medium mb-2\">Estado</label>\r\n                             <select value={form.status} onChange={(e) => { if(e.target.value !== 'Viva') openConfirmModal('changeStatus', { newStatus: e.target.value }) }} className=\"w-full px-4 py-3 border border-stone-300 rounded-lg bg-white\">\r\n                                <option>Viva</option>\r\n                                <option>Vendida</option>\r\n                                <option>Muerta</option>\r\n                            </select>\r\n                        </div>\r\n                        \r\n                        <div className=\"md:col-span-2\">\r\n                            <label className=\"block text-stone-700 font-medium mb-2\">Propietario</label>\r\n                            <select name=\"ownerId\" value={form.ownerId} onChange={handleChange} className=\"w-full px-4 py-3 border border-stone-300 rounded-lg bg-white\">\r\n                                {owners.map(o => <option key={o.id} value={o.id}>{o.name}</option>)}\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex justify-end gap-4 mt-8\">\r\n                        <button onClick={() => openConfirmModal('cancel')} className=\"px-6 py-3 rounded-lg bg-stone-200 text-stone-700 font-semibold hover:bg-stone-300\">Cancelar</button>\r\n                        <button onClick={() => openConfirmModal('update')} className=\"px-6 py-3 rounded-lg bg-emerald-600 text-white font-semibold hover:bg-emerald-700\">Actualizar</button>\r\n                    </div>\r\n                </div>\r\n            )}\r\n            \r\n            {modal.isOpen && modal.type === 'addOffspring' && (\r\n                <Modal onClose={() => setModal({ isOpen: false })} title=\"Añadir Cría\">\r\n                    <div className=\"space-y-4\">\r\n                        <div>\r\n                            <label className=\"block text-stone-700 font-medium mb-2\">Código de la Cría</label>\r\n                            <input type=\"text\" value={offspringForm.calfId} onChange={e => setOffspringForm({...offspringForm, calfId: e.target.value})} className=\"w-full px-4 py-2 border rounded-lg\" />\r\n                        </div>\r\n                        <div>\r\n                            <label className=\"block text-stone-700 font-medium mb-2\">Fecha de Parto</label>\r\n                            <input type=\"date\" value={offspringForm.birthDate} onChange={e => setOffspringForm({...offspringForm, birthDate: e.target.value})} className=\"w-full px-4 py-2 border rounded-lg\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex justify-end gap-4 mt-6\">\r\n                        <button onClick={() => setModal({ isOpen: false })} className=\"px-6 py-2 rounded-lg bg-stone-200\">Cancelar</button>\r\n                        <button onClick={confirmAction} className=\"px-6 py-2 rounded-lg bg-sky-500 text-white\">Guardar</button>\r\n                    </div>\r\n                </Modal>\r\n            )}\r\n            \r\n            {modal.isOpen && modal.type === 'changeStatus' && (\r\n                <Modal onClose={() => setModal({ isOpen: false })} title={`Cambiar Estado a ${modal.data.newStatus}`}>\r\n                    <p className=\"mb-4\">Se requiere la fecha de la {modal.data.newStatus === 'Vendida' ? 'venta' : 'muerte'}.</p>\r\n                    <div>\r\n                        <label className=\"block text-stone-700 font-medium mb-2\">Fecha</label>\r\n                        <input type=\"date\" value={statusChangeDate} onChange={e => setStatusChangeDate(e.target.value)} className=\"w-full px-4 py-2 border rounded-lg\" />\r\n                    </div>\r\n                    <p className=\"text-red-600 font-medium mt-4\">¡Atención! Esta acción es irreversible y moverá el registro.</p>\r\n                    <div className=\"flex justify-end gap-4 mt-6\">\r\n                        <button onClick={() => setModal({ isOpen: false })} className=\"px-6 py-2 rounded-lg bg-stone-200\">Cancelar</button>\r\n                        <button onClick={confirmAction} className=\"px-6 py-2 rounded-lg bg-red-600 text-white\">Confirmar Cambio</button>\r\n                    </div>\r\n                </Modal>\r\n            )}\r\n\r\n            {modal.isOpen && (modal.type === 'update' || modal.type === 'cancel') && (\r\n                <Modal onClose={() => setModal({ isOpen: false })} title=\"Confirmación\">\r\n                    <p>¿Estás seguro de que deseas {modal.type === 'update' ? 'actualizar la información' : 'cancelar la operación'}?</p>\r\n                    <div className=\"flex justify-end gap-4 mt-6\">\r\n                        <button onClick={() => setModal({ isOpen: false })} className=\"px-6 py-2 rounded-lg bg-stone-200\">No</button>\r\n                        <button onClick={confirmAction} className=\"px-6 py-2 rounded-lg bg-emerald-600 text-white\">Sí, continuar</button>\r\n                    </div>\r\n                </Modal>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst ConsultScreen = ({ cattleData, owners, deceasedSoldData }) => {\r\n    const [view, setView] = useState('menu'); // menu, byOwner, all, deceasedSold\r\n    const [selectedOwner, setSelectedOwner] = useState(null);\r\n    const [detailsModal, setDetailsModal] = useState({ isOpen: false, cattle: null });\r\n\r\n    const CattleCard = ({ cattle, onClick }) => {\r\n        const owner = owners.find(o => o.id === cattle.ownerId);\r\n        return (\r\n            <div onClick={() => onClick(cattle)} className=\"bg-white p-4 rounded-xl shadow-md hover:shadow-lg transition-shadow cursor-pointer border-l-4 border-amber-400\">\r\n                <div className=\"flex justify-between items-start\">\r\n                    <div>\r\n                        <p className=\"font-bold text-lg text-stone-800\">{cattle.id}</p>\r\n                        <p className=\"text-stone-600\">{determineCattleType(cattle)}</p>\r\n                    </div>\r\n                    <div className={`px-3 py-1 rounded-full text-sm font-semibold ${cattle.status === 'Viva' ? 'bg-emerald-100 text-emerald-800' : 'bg-red-100 text-red-800'}`}>\r\n                        {cattle.status}\r\n                    </div>\r\n                </div>\r\n                <div className=\"mt-3 pt-3 border-t\">\r\n                    <p className=\"text-sm text-stone-500\">Propietario: <span className=\"font-medium text-stone-700\">{owner ? owner.name : 'N/A'}</span></p>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const renderContent = () => {\r\n        switch (view) {\r\n            case 'byOwner':\r\n                if (!selectedOwner) {\r\n                    return (\r\n                        <div>\r\n                            <button onClick={() => setView('menu')} className=\"mb-4 text-emerald-600 font-semibold\">&larr; Volver</button>\r\n                            <h3 className=\"text-xl font-bold mb-4\">Selecciona un Propietario</h3>\r\n                            <div className=\"space-y-2\">\r\n                                {owners.map(o => <button key={o.id} onClick={() => setSelectedOwner(o)} className=\"w-full text-left p-4 bg-stone-100 rounded-lg hover:bg-emerald-50\">{o.name}</button>)}\r\n                            </div>\r\n                        </div>\r\n                    );\r\n                }\r\n                const ownerCattle = cattleData.filter(c => c.ownerId === selectedOwner.id);\r\n                return (\r\n                    <div>\r\n                        <button onClick={() => setSelectedOwner(null)} className=\"mb-4 text-emerald-600 font-semibold\">&larr; Volver a Propietarios</button>\r\n                        <h3 className=\"text-xl font-bold mb-4\">Reses de {selectedOwner.name}</h3>\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                            {ownerCattle.length > 0 ? ownerCattle.map(c => <CattleCard key={c.id} cattle={c} onClick={(cattle) => setDetailsModal({ isOpen: true, cattle })} />) : <p>Este propietario no tiene reses.</p>}\r\n                        </div>\r\n                    </div>\r\n                );\r\n            case 'all':\r\n                return (\r\n                    <div>\r\n                        <button onClick={() => setView('menu')} className=\"mb-4 text-emerald-600 font-semibold\">&larr; Volver</button>\r\n                        <h3 className=\"text-xl font-bold mb-4\">Listado Completo de Reses Vivas</h3>\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                            {cattleData.map(c => <CattleCard key={c.id} cattle={c} onClick={(cattle) => setDetailsModal({ isOpen: true, cattle })} />)}\r\n                        </div>\r\n                    </div>\r\n                );\r\n            case 'deceasedSold':\r\n                return (\r\n                    <div>\r\n                        <button onClick={() => setView('menu')} className=\"mb-4 text-emerald-600 font-semibold\">&larr; Volver</button>\r\n                        <h3 className=\"text-xl font-bold mb-4\">Listado de Reses Vendidas o Muertas</h3>\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                            {deceasedSoldData.map(c => <CattleCard key={c.id} cattle={c} onClick={(cattle) => setDetailsModal({ isOpen: true, cattle })} />)}\r\n                        </div>\r\n                    </div>\r\n                );\r\n            default:\r\n                return (\r\n                    <div className=\"space-y-4\">\r\n                        <button onClick={() => setView('byOwner')} className=\"w-full p-6 bg-white rounded-lg shadow-md text-left text-lg font-semibold hover:bg-emerald-50\">Consultar por Propietarios</button>\r\n                        <button onClick={() => setView('all')} className=\"w-full p-6 bg-white rounded-lg shadow-md text-left text-lg font-semibold hover:bg-emerald-50\">Listado de Reses Vivas</button>\r\n                        <button onClick={() => setView('deceasedSold')} className=\"w-full p-6 bg-white rounded-lg shadow-md text-left text-lg font-semibold hover:bg-emerald-50\">Listado de Reses Muertas o Vendidas</button>\r\n                    </div>\r\n                );\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"p-6\">\r\n            <div className=\"bg-white p-8 rounded-2xl shadow-lg\">\r\n                <h2 className=\"text-2xl font-bold text-emerald-800 mb-6\">Consultar Registros</h2>\r\n                {renderContent()}\r\n            </div>\r\n            {detailsModal.isOpen && detailsModal.cattle && (\r\n                <Modal onClose={() => setDetailsModal({ isOpen: false })} title={`Detalles de ${detailsModal.cattle.id}`}>\r\n                    <div className=\"space-y-3\">\r\n                        {Object.entries(detailsModal.cattle).map(([key, value]) => {\r\n                            if (key === 'photos' || key === 'offspring') return null;\r\n                            return (\r\n                                <div key={key} className=\"flex justify-between\">\r\n                                    <span className=\"font-medium text-stone-600 capitalize\">{key.replace(/([A-Z])/g, ' $1')}:</span>\r\n                                    <span className=\"text-stone-800\">{String(value)}</span>\r\n                                </div>\r\n                            );\r\n                        })}\r\n                        <div className=\"flex justify-between\">\r\n                             <span className=\"font-medium text-stone-600\">Tipo de Ganado:</span>\r\n                             <span className=\"text-stone-800\">{determineCattleType(detailsModal.cattle)}</span>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex justify-end mt-6\">\r\n                        <button onClick={() => setDetailsModal({isOpen: false})} className=\"px-6 py-2 rounded-lg bg-emerald-600 text-white\">Cerrar</button>\r\n                    </div>\r\n                </Modal>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst RegisterActivitiesScreen = ({ activities, onSave }) => {\r\n    const [view, setView] = useState('menu');\r\n    const [form, setForm] = useState({ date: '', status: 'En curso', observations: '' });\r\n    const [currentPage, setCurrentPage] = useState(0);\r\n    const activitiesPerPage = 10;\r\n\r\n    const handleSave = () => {\r\n        if (form.date && form.observations) {\r\n            onSave({ id: Date.now(), ...form });\r\n            setForm({ date: '', status: 'En curso', observations: '' });\r\n            setView('consult');\r\n        } else {\r\n            alert(\"Por favor, completa la fecha y las observaciones.\");\r\n        }\r\n    };\r\n\r\n    const sortedActivities = useMemo(() => [...activities].sort((a, b) => new Date(b.date) - new Date(a.date)), [activities]);\r\n    const paginatedActivities = sortedActivities.slice(currentPage * activitiesPerPage, (currentPage + 1) * activitiesPerPage);\r\n    const totalPages = Math.ceil(sortedActivities.length / activitiesPerPage);\r\n\r\n    const renderContent = () => {\r\n        switch (view) {\r\n            case 'add':\r\n                return (\r\n                    <div>\r\n                        <button onClick={() => setView('menu')} className=\"mb-4 text-emerald-600 font-semibold\">&larr; Volver</button>\r\n                        <h3 className=\"text-xl font-bold mb-4\">Agregar Nueva Actividad</h3>\r\n                        <div className=\"space-y-4\">\r\n                            <div>\r\n                                <label className=\"block text-stone-700 font-medium mb-2\">Fecha de Actividad</label>\r\n                                <input type=\"date\" value={form.date} onChange={e => setForm({...form, date: e.target.value})} className=\"w-full px-4 py-2 border rounded-lg\" />\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"block text-stone-700 font-medium mb-2\">Estado</label>\r\n                                <select value={form.status} onChange={e => setForm({...form, status: e.target.value})} className=\"w-full px-4 py-2 border rounded-lg bg-white\">\r\n                                    <option>En curso</option>\r\n                                    <option>Completada</option>\r\n                                </select>\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"block text-stone-700 font-medium mb-2\">Observaciones</label>\r\n                                <textarea value={form.observations} onChange={e => setForm({...form, observations: e.target.value})} rows=\"4\" className=\"w-full px-4 py-2 border rounded-lg\"></textarea>\r\n                            </div>\r\n                            <div className=\"flex justify-end\">\r\n                                <button onClick={handleSave} className=\"px-6 py-3 rounded-lg bg-emerald-600 text-white font-semibold\">Guardar Actividad</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                );\r\n            case 'consult':\r\n                return (\r\n                    <div>\r\n                        <button onClick={() => setView('menu')} className=\"mb-4 text-emerald-600 font-semibold\">&larr; Volver</button>\r\n                        <h3 className=\"text-xl font-bold mb-4\">Registro de Actividades</h3>\r\n                        <div className=\"space-y-3\">\r\n                            {paginatedActivities.map(act => (\r\n                                <div key={act.id} className=\"p-4 bg-stone-50 rounded-lg border\">\r\n                                    <div className=\"flex justify-between items-center\">\r\n                                        <p className=\"font-semibold\">{act.date}</p>\r\n                                        <span className={`px-2 py-1 text-xs font-bold rounded-full ${act.status === 'Completada' ? 'bg-emerald-200 text-emerald-800' : 'bg-amber-200 text-amber-800'}`}>{act.status}</span>\r\n                                    </div>\r\n                                    <p className=\"mt-2 text-stone-600\">{act.observations}</p>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                        {totalPages > 1 && (\r\n                            <div className=\"flex justify-between items-center mt-4\">\r\n                                <button onClick={() => setCurrentPage(p => Math.max(0, p - 1))} disabled={currentPage === 0} className=\"p-2 rounded-full disabled:opacity-50 bg-stone-200\"><ChevronLeft/></button>\r\n                                <span>Página {currentPage + 1} de {totalPages}</span>\r\n                                <button onClick={() => setCurrentPage(p => Math.min(totalPages - 1, p + 1))} disabled={currentPage === totalPages - 1} className=\"p-2 rounded-full disabled:opacity-50 bg-stone-200\"><ChevronRight/></button>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                );\r\n            default:\r\n                return (\r\n                    <div className=\"flex flex-col md:flex-row gap-4\">\r\n                        <button onClick={() => setView('add')} className=\"w-full p-6 bg-white rounded-lg shadow-md text-center text-lg font-semibold hover:bg-emerald-50\">Agregar Actividad</button>\r\n                        <button onClick={() => setView('consult')} className=\"w-full p-6 bg-white rounded-lg shadow-md text-center text-lg font-semibold hover:bg-emerald-50\">Consultar Registro</button>\r\n                    </div>\r\n                );\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"p-6\">\r\n            <div className=\"bg-white p-8 rounded-2xl shadow-lg\">\r\n                <h2 className=\"text-2xl font-bold text-emerald-800 mb-6\">Gestión de Actividades</h2>\r\n                {renderContent()}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// --- Componente Principal de la App ---\r\n\r\nexport default function App() {\r\n    const [currentPage, setCurrentPage] = useState('home');\r\n    const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n    \r\n    // --- Lógica de Persistencia de Datos ---\r\n    // Esta función auxiliar carga datos desde localStorage\r\n    const loadFromLocalStorage = (key, defaultValue) => {\r\n        try {\r\n            const storedValue = localStorage.getItem(key);\r\n            return storedValue ? JSON.parse(storedValue) : defaultValue;\r\n        } catch (error) {\r\n            console.error(`Error loading ${key} from localStorage`, error);\r\n            return defaultValue;\r\n        }\r\n    };\r\n\r\n    // Estados inicializados desde localStorage o con valores por defecto\r\n    const [owners, setOwners] = useState(() => loadFromLocalStorage('fmz_owners', []));\r\n    const [cattleData, setCattleData] = useState(() => loadFromLocalStorage('fmz_cattleData', []));\r\n    const [deceasedSoldData, setDeceasedSoldData] = useState(() => loadFromLocalStorage('fmz_deceasedSoldData', []));\r\n    const [activities, setActivities] = useState(() => loadFromLocalStorage('fmz_activities', []));\r\n\r\n    // Efectos para guardar los datos en localStorage cada vez que cambian\r\n    useEffect(() => { localStorage.setItem('fmz_owners', JSON.stringify(owners)); }, [owners]);\r\n    useEffect(() => { localStorage.setItem('fmz_cattleData', JSON.stringify(cattleData)); }, [cattleData]);\r\n    useEffect(() => { localStorage.setItem('fmz_deceasedSoldData', JSON.stringify(deceasedSoldData)); }, [deceasedSoldData]);\r\n    useEffect(() => { localStorage.setItem('fmz_activities', JSON.stringify(activities)); }, [activities]);\r\n\r\n    const pageTitles = {\r\n        home: 'Finca Moreno Z',\r\n        registerCattle: 'Registro de Res',\r\n        updateCattle: 'Actualización de Res',\r\n        consult: 'Consultas',\r\n        activities: 'Actividades',\r\n        registerOwner: 'Propietarios',\r\n    };\r\n\r\n    const navigate = (page) => {\r\n        setCurrentPage(page);\r\n    };\r\n\r\n    const handleSaveOwner = (newOwner) => {\r\n        setOwners(prev => [...prev, newOwner]);\r\n        alert('Propietario guardado con éxito!');\r\n        navigate('home');\r\n    };\r\n    \r\n    const handleSaveCattle = (newCattle) => {\r\n        setCattleData(prev => [...prev, newCattle]);\r\n        alert('Res guardada con éxito!');\r\n        navigate('home');\r\n    };\r\n    \r\n    const handleUpdateCattle = (updatedCattle, isStatusChange = false) => {\r\n        if (isStatusChange) {\r\n            setCattleData(prev => prev.filter(c => c.id !== updatedCattle.id.substring(2)));\r\n            setDeceasedSoldData(prev => [...prev, updatedCattle]);\r\n            alert(`El estado de la res ${updatedCattle.id} ha sido actualizado.`);\r\n        } else {\r\n            setCattleData(prev => prev.map(c => c.id === updatedCattle.id ? updatedCattle : c));\r\n            alert(`La información de la res ${updatedCattle.id} ha sido actualizada.`);\r\n        }\r\n    };\r\n    \r\n    const handleSaveActivity = (newActivity) => {\r\n        setActivities(prev => [newActivity, ...prev]);\r\n        alert('Actividad guardada con éxito!');\r\n    };\r\n\r\n    const renderPage = () => {\r\n        switch (currentPage) {\r\n            case 'registerOwner':\r\n                return <RegisterOwnerScreen onSave={handleSaveOwner} onCancel={() => navigate('home')} owners={owners} />;\r\n            case 'registerCattle':\r\n                return <RegisterCattleScreen onSave={handleSaveCattle} onCancel={() => navigate('home')} owners={owners} cattleData={cattleData} />;\r\n            case 'updateCattle':\r\n                return <UpdateCattleScreen cattleData={cattleData} owners={owners} onUpdate={handleUpdateCattle} onCancel={() => navigate('home')} />;\r\n            case 'consult':\r\n                return <ConsultScreen cattleData={cattleData} owners={owners} deceasedSoldData={deceasedSoldData} />;\r\n            case 'activities':\r\n                return <RegisterActivitiesScreen activities={activities} onSave={handleSaveActivity} />;\r\n            case 'home':\r\n            default:\r\n                return <HomeScreen navigate={navigate} />;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"bg-stone-100 min-h-screen font-sans\">\r\n            <style>{`\r\n                .animate-fade-in-up {\r\n                    animation: fadeInUp 0.3s ease-out forwards;\r\n                }\r\n                @keyframes fadeInUp {\r\n                    from {\r\n                        opacity: 0;\r\n                        transform: translateY(20px);\r\n                    }\r\n                    to {\r\n                        opacity: 1;\r\n                        transform: translateY(0);\r\n                    }\r\n                }\r\n            `}</style>\r\n            <SideMenu isOpen={isMenuOpen} onClose={() => setIsMenuOpen(false)} navigate={navigate} />\r\n            <Header title={pageTitles[currentPage] || 'Finca Moreno Z'} onMenuClick={() => setIsMenuOpen(true)} />\r\n            <main>\r\n                {renderPage()}\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}