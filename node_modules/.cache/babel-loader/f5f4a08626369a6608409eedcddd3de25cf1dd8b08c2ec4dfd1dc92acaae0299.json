{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alezv\\\\Desktop\\\\App\\\\React\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s6 = $RefreshSig$();\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { Plus, Edit, Search, Menu, X, Save, FileText, Users, Activity, Home, LogOut, UserPlus, LogIn, ChevronLeft, ChevronRight } from 'lucide-react';\n\n// Importa los servicios de Firebase desde tu archivo de configuración\nimport { auth, db } from './firebase';\nimport { onAuthStateChanged, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from \"firebase/auth\";\nimport { collection, addDoc, onSnapshot, query, doc, updateDoc, deleteDoc, writeBatch, where, getDocs } from \"firebase/firestore\";\n\n// --- Pantalla de Autenticación (Login y Registro) ---\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthScreen = () => {\n  _s();\n  const [isLogin, setIsLogin] = useState(true);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const handleAuth = async e => {\n    e.preventDefault();\n    setError('');\n    try {\n      if (isLogin) {\n        await signInWithEmailAndPassword(auth, email, password);\n      } else {\n        await createUserWithEmailAndPassword(auth, email, password);\n      }\n    } catch (err) {\n      setError(\"Error: \" + err.message.replace('Firebase: ', ''));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-stone-100 flex flex-col justify-center items-center p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full max-w-md bg-white rounded-2xl shadow-xl p-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center mb-6\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"http://googleusercontent.com/file_content/2\",\n          alt: \"Logo\",\n          className: \"h-20 w-20\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-3xl font-bold text-center text-emerald-800 mb-2\",\n        children: isLogin ? 'Iniciar Sesión' : 'Crear Cuenta'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-center text-stone-500 mb-8\",\n        children: \"Bienvenido a Finca Moreno Z\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleAuth,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-stone-700 font-medium mb-2\",\n            children: \"Correo Electr\\xF3nico\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            value: email,\n            onChange: e => setEmail(e.target.value),\n            className: \"w-full px-4 py-3 border border-stone-300 rounded-lg\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-stone-700 font-medium mb-2\",\n            children: \"Contrase\\xF1a\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            value: password,\n            onChange: e => setPassword(e.target.value),\n            className: \"w-full px-4 py-3 border border-stone-300 rounded-lg\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-500 text-sm mb-4\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"w-full bg-emerald-600 text-white font-bold py-3 rounded-lg hover:bg-emerald-700 transition-colors flex items-center justify-center gap-2\",\n          children: [isLogin ? /*#__PURE__*/_jsxDEV(LogIn, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 24\n          }, this) : /*#__PURE__*/_jsxDEV(UserPlus, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 46\n          }, this), isLogin ? 'Ingresar' : 'Registrarse']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6 text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setIsLogin(!isLogin),\n          className: \"text-emerald-600 hover:underline\",\n          children: isLogin ? '¿No tienes una cuenta? Regístrate' : '¿Ya tienes una cuenta? Inicia sesión'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n\n// --- Componentes de la UI (Reutilizados) ---\n_s(AuthScreen, \"DLymbcnx0Zs0Cek/m6zME3DDhKs=\");\n_c = AuthScreen;\nconst Modal = ({\n  children,\n  onClose,\n  title\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4\",\n  children: /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-2xl shadow-2xl w-full max-w-md m-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center p-4 border-b border-stone-200\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-bold text-emerald-800\",\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClose,\n        className: \"text-stone-400 hover:text-stone-600\",\n        children: /*#__PURE__*/_jsxDEV(X, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 91\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-6\",\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 9\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 89,\n  columnNumber: 5\n}, this);\n_c2 = Modal;\nconst Header = ({\n  title,\n  onMenuClick\n}) => {\n  const handleLogout = () => {\n    signOut(auth);\n  };\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    className: \"bg-emerald-800 text-white p-4 shadow-lg flex items-center justify-between sticky top-0 z-40\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onMenuClick,\n        className: \"mr-4 p-2 rounded-full hover:bg-emerald-700\",\n        children: /*#__PURE__*/_jsxDEV(Menu, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 98\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"http://googleusercontent.com/file_content/2\",\n        alt: \"Logo\",\n        className: \"h-10 w-10 rounded-full bg-white p-1 object-contain\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold ml-4 tracking-wider\",\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleLogout,\n      className: \"flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-emerald-700 font-semibold\",\n      children: [/*#__PURE__*/_jsxDEV(LogOut, {\n        size: 18\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }, this), \" Salir\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 5\n  }, this);\n};\n\n// --- Lógica de Negocio ---\n_c3 = Header;\nconst calculateAgeInMonths = birthDate => {\n  if (!birthDate) return 0;\n  const today = new Date();\n  const birth = new Date(birthDate);\n  let months = (today.getFullYear() - birth.getFullYear()) * 12;\n  months -= birth.getMonth();\n  months += today.getMonth();\n  return months <= 0 ? 0 : months;\n};\nconst determineCattleType = cattle => {\n  if (!cattle || !cattle.birthDate || !cattle.gender) return 'N/A';\n  const ageInMonths = calculateAgeInMonths(cattle.birthDate);\n  if (ageInMonths <= 12) return 'Ternero/a';\n  if (cattle.gender === 'Hembra') {\n    if (cattle.offspring && cattle.offspring.length > 0) {\n      const lastParto = new Date(Math.max(...cattle.offspring.map(o => new Date(o.birthDate))));\n      const monthsSinceParto = calculateAgeInMonths(lastParto);\n      return monthsSinceParto <= 12 ? 'Vaca Parida' : 'Vaca Horra';\n    }\n    return ageInMonths <= 24 ? 'Novilla' : 'Vaca';\n  }\n  if (cattle.gender === 'Macho') {\n    if (ageInMonths <= 24) return 'Levante';\n    if (cattle.isCastrated === true) return 'Macho de Engorde';\n    if (cattle.isCastrated === false) return 'Toro';\n    return 'Macho Adulto';\n  }\n  return 'Desconocido';\n};\n\n// --- Pantallas de la Aplicación ---\nconst HomeScreen = ({\n  navigate\n}) => {\n  const buttons = [{\n    label: 'Registro de Res',\n    page: 'registerCattle',\n    icon: /*#__PURE__*/_jsxDEV(Plus, {\n      className: \"w-12 h-12\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 67\n    }, this)\n  }, {\n    label: 'Actualización de Res',\n    page: 'updateCattle',\n    icon: /*#__PURE__*/_jsxDEV(Edit, {\n      className: \"w-12 h-12\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 70\n    }, this)\n  }, {\n    label: 'Consultar',\n    page: 'consult',\n    icon: /*#__PURE__*/_jsxDEV(FileText, {\n      className: \"w-12 h-12\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 54\n    }, this)\n  }, {\n    label: 'Registro de Actividades',\n    page: 'activities',\n    icon: /*#__PURE__*/_jsxDEV(Activity, {\n      className: \"w-12 h-12\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 71\n    }, this)\n  }, {\n    label: 'Registrar Propietarios',\n    page: 'registerOwner',\n    icon: /*#__PURE__*/_jsxDEV(Users, {\n      className: \"w-12 h-12\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 73\n    }, this)\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"grid grid-cols-2 gap-6 p-6\",\n    children: buttons.map(btn => /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => navigate(btn.page),\n      className: \"bg-white rounded-2xl shadow-lg p-6 flex flex-col items-center justify-center text-center text-emerald-800 hover:bg-emerald-50 hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 aspect-square border-b-4 border-amber-400\",\n      children: [btn.icon, /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"mt-4 font-semibold text-lg\",\n        children: btn.label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 21\n      }, this)]\n    }, btn.page, true, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 17\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 159,\n    columnNumber: 9\n  }, this);\n};\n_c4 = HomeScreen;\nconst RegisterOwnerScreen = ({\n  onCancel,\n  owners,\n  user\n}) => {\n  _s2();\n  const [name, setName] = useState('');\n  const handleSave = async () => {\n    if (name.trim() && user) {\n      try {\n        const ownersCollectionRef = collection(db, 'users', user.uid, 'owners');\n        await addDoc(ownersCollectionRef, {\n          name: name.trim()\n        });\n        alert('Propietario guardado con éxito!');\n        onCancel();\n      } catch (error) {\n        console.error(\"Error: \", error);\n        alert(\"Hubo un error al guardar.\");\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-8 rounded-2xl shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-emerald-800 mb-6\",\n        children: \"Registrar Nuevo Propietario\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-stone-700 font-medium mb-2\",\n          children: \"Nombre y Apellidos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 39\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: name,\n          onChange: e => setName(e.target.value),\n          className: \"w-full px-4 py-3 border border-stone-300 rounded-lg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 122\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onCancel,\n          className: \"px-6 py-3 rounded-lg bg-stone-200 text-stone-700 font-semibold\",\n          children: \"Cancelar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 57\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSave,\n          className: \"px-6 py-3 rounded-lg bg-emerald-600 text-white font-semibold flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Save, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 302\n          }, this), \" Guardar\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 176\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-8 bg-white p-8 rounded-2xl shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-bold text-emerald-800 mb-4\",\n        children: \"Propietarios Registrados\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 17\n      }, this), owners.length > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"divide-y divide-stone-200\",\n        children: owners.map(owner => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"py-3 text-stone-600\",\n          children: owner.name\n        }, owner.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 102\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 39\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-stone-500\",\n        children: \"No hay propietarios registrados.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 182\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 183,\n    columnNumber: 9\n  }, this);\n};\n_s2(RegisterOwnerScreen, \"/PAWDgWx7+Y6BmsFMUKcdrcX5eM=\");\n_c5 = RegisterOwnerScreen;\nconst RegisterCattleScreen = ({\n  onCancel,\n  owners,\n  cattleData,\n  user\n}) => {\n  _s3();\n  const [form, setForm] = useState({\n    id: '',\n    birthDate: '',\n    gender: 'Hembra',\n    weight: '',\n    parentsId: '',\n    lastVaccines: '',\n    ownerId: owners.length > 0 ? owners[0].id : ''\n  });\n  const [useAutoId, setUseAutoId] = useState(true);\n  const cattleType = useMemo(() => determineCattleType(form), [form.birthDate, form.gender]);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setForm(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const generateAutoId = () => {\n    const allIds = cattleData.map(c => c.customId.replace(/^[VM]-/, '')).filter(id => id.startsWith('FMZ-'));\n    const lastIdNum = allIds.length > 0 ? Math.max(...allIds.map(id => parseInt(id.split('-')[1]))) : 0;\n    return `FMZ-${String(lastIdNum + 1).padStart(3, '0')}`;\n  };\n  const handleSave = async () => {\n    const finalId = useAutoId ? generateAutoId() : form.id.trim();\n    if (!finalId || !form.birthDate || !form.weight || !form.ownerId) {\n      alert(\"Por favor, completa todos los campos obligatorios.\");\n      return;\n    }\n    if (!useAutoId && cattleData.some(c => c.customId.toUpperCase() === finalId.toUpperCase())) {\n      alert(\"El código de identificación manual ya existe.\");\n      return;\n    }\n    if (user) {\n      try {\n        const cattleCollectionRef = collection(db, 'users', user.uid, 'cattle');\n        await addDoc(cattleCollectionRef, {\n          ...form,\n          customId: finalId,\n          status: 'Viva',\n          offspring: [],\n          weight: parseFloat(form.weight),\n          createdAt: new Date()\n        });\n        alert('Res guardada con éxito!');\n        onCancel();\n      } catch (error) {\n        console.error(\"Error: \", error);\n        alert(\"Hubo un error al guardar.\");\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-8 rounded-2xl shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-emerald-800 mb-6\",\n        children: \"Registrar Nueva Res\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 82\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-stone-700 font-medium mb-2\",\n            children: \"C\\xF3digo de Identificaci\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 223\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"id\",\n              value: useAutoId ? generateAutoId() : form.id,\n              onChange: handleChange,\n              disabled: useAutoId,\n              className: \"w-full px-4 py-3 border border-stone-300 rounded-lg disabled:bg-stone-100\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 353\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setUseAutoId(!useAutoId),\n              className: `px-4 py-3 rounded-lg font-semibold transition-colors ${useAutoId ? 'bg-emerald-600 text-white' : 'bg-stone-200'}`,\n              children: \"Auto\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 562\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 312\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 218\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-stone-700 font-medium mb-2\",\n            children: \"Fecha de Nacimiento\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 768\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            name: \"birthDate\",\n            value: form.birthDate,\n            onChange: handleChange,\n            className: \"w-full px-4 py-3 border border-stone-300 rounded-lg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 852\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 763\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-stone-700 font-medium mb-2\",\n            children: \"G\\xE9nero\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 1012\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"gender\",\n            value: form.gender,\n            onChange: handleChange,\n            className: \"w-full px-4 py-3 border border-stone-300 rounded-lg bg-white\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Hembra\",\n              children: \"Hembra\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 1222\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Macho\",\n              children: \"Macho\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 1260\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 1083\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 1007\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-stone-700 font-medium mb-2\",\n            children: \"Peso (Kg)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 1316\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"weight\",\n            value: form.weight,\n            onChange: handleChange,\n            className: \"w-full px-4 py-3 border border-stone-300 rounded-lg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 1390\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 1311\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-stone-700 font-medium mb-2\",\n            children: \"C\\xF3digo de los Padres\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 1546\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"parentsId\",\n            value: form.parentsId,\n            onChange: handleChange,\n            className: \"w-full px-4 py-3 border border-stone-300 rounded-lg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 1631\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 1541\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-stone-700 font-medium mb-2\",\n            children: \"Tipo de Cabeza de Ganado\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 1791\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: cattleType,\n            disabled: true,\n            className: \"w-full px-4 py-3 border border-stone-300 rounded-lg bg-stone-100\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 1880\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 1786\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md:col-span-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-stone-700 font-medium mb-2\",\n            children: \"\\xDAltimas Vacunas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 2043\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"lastVaccines\",\n            value: form.lastVaccines,\n            onChange: handleChange,\n            className: \"w-full px-4 py-3 border border-stone-300 rounded-lg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 2123\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 2012\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md:col-span-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-stone-700 font-medium mb-2\",\n            children: \"Propietario\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 2315\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"ownerId\",\n            value: form.ownerId,\n            onChange: handleChange,\n            className: \"w-full px-4 py-3 border border-stone-300 rounded-lg bg-white\",\n            disabled: owners.length === 0,\n            children: owners.length > 0 ? owners.map(o => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: o.id,\n              children: o.name\n            }, o.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 2600\n            }, this)) : /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Registre un propietario primero\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 2653\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 2391\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 2284\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 163\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end gap-4 mt-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onCancel,\n          className: \"px-6 py-3 rounded-lg bg-stone-200 text-stone-700 font-semibold\",\n          children: \"Cancelar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 2768\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSave,\n          className: \"px-6 py-3 rounded-lg bg-emerald-600 text-white font-semibold flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Save, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 3013\n          }, this), \" Guardar\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 2887\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 2723\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 30\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 221,\n    columnNumber: 9\n  }, this);\n};\n_s3(RegisterCattleScreen, \"Qj4nNhDD2JmO6SaPt4Em8LXPioU=\");\n_c6 = RegisterCattleScreen;\nconst UpdateCattleScreen = ({\n  onCancel,\n  cattleData,\n  owners,\n  user\n}) => {\n  _s4();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedCattle, setSelectedCattle] = useState(null);\n  const [form, setForm] = useState(null);\n  const [modal, setModal] = useState({\n    isOpen: false,\n    type: null,\n    data: null\n  });\n  const handleSearch = async () => {\n    const q = query(collection(db, 'users', user.uid, 'cattle'), where(\"customId\", \"==\", searchTerm.trim().toUpperCase()));\n    const querySnapshot = await getDocs(q);\n    if (!querySnapshot.empty) {\n      const doc = querySnapshot.docs[0];\n      const foundCattle = {\n        ...doc.data(),\n        docId: doc.id\n      };\n      setSelectedCattle(foundCattle);\n      setForm(foundCattle);\n    } else {\n      alert(\"Código inexistente, valide que este correcto\");\n      setSelectedCattle(null);\n      setForm(null);\n    }\n  };\n  const handleUpdate = async () => {\n    const cattleDocRef = doc(db, 'users', user.uid, 'cattle', selectedCattle.docId);\n    await updateDoc(cattleDocRef, form);\n    alert(\"Información actualizada con éxito\");\n    onCancel();\n  };\n  const handleStatusChange = async (newStatus, date) => {\n    const batch = writeBatch(db);\n    const oldDocRef = doc(db, 'users', user.uid, 'cattle', selectedCattle.docId);\n    const newDocRef = doc(collection(db, 'users', user.uid, 'deceasedSoldCattle'));\n    const newCustomId = `${newStatus === 'Vendida' ? 'V' : 'M'}-${selectedCattle.customId}`;\n    const updatedData = {\n      ...selectedCattle,\n      ...form,\n      status: newStatus,\n      statusChangeDate: date,\n      customId: newCustomId,\n      originalDocId: selectedCattle.docId\n    };\n    delete updatedData.docId; // No guardar el ID de Firestore en el nuevo documento\n    batch.set(newDocRef, updatedData);\n    batch.delete(oldDocRef);\n    await batch.commit();\n    alert(`El estado de la res ha sido actualizado a ${newStatus}.`);\n    onCancel();\n  };\n  // ... UI similar a la versión anterior, pero con lógica de Firestore ...\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-8 rounded-2xl shadow-lg mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-emerald-800 mb-6\",\n        children: \"Actualizar Res\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value),\n          placeholder: \"Buscar por c\\xF3digo...\",\n          className: \"w-full px-4 py-3 border rounded-lg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSearch,\n          className: \"px-6 py-3 rounded-lg bg-emerald-600 text-white font-semibold\",\n          children: /*#__PURE__*/_jsxDEV(Search, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 125\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 13\n    }, this), selectedCattle && form && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-8 rounded-2xl shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Editando: \", form.customId]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end gap-4 mt-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onCancel,\n          className: \"px-6 py-3 rounded-lg bg-stone-200\",\n          children: \"Cancelar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleUpdate,\n          className: \"px-6 py-3 rounded-lg bg-emerald-600 text-white\",\n          children: \"Actualizar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 261,\n    columnNumber: 9\n  }, this);\n};\n_s4(UpdateCattleScreen, \"eulafsEHGLJ/DLffEiMfQvHRkBg=\");\n_c7 = UpdateCattleScreen;\nconst ConsultScreen = ({\n  cattleData,\n  owners,\n  deceasedSoldData\n}) => {\n  // UI similar a la versión anterior, los datos ya vienen por props\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-8 rounded-2xl shadow-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-emerald-800 mb-6\",\n        children: \"Consultar Registros\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 85\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 33\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 286,\n    columnNumber: 12\n  }, this);\n};\n_c8 = ConsultScreen;\nconst RegisterActivitiesScreen = ({\n  onCancel,\n  activities,\n  user\n}) => {\n  _s5();\n  const [form, setForm] = useState({\n    date: '',\n    status: 'En curso',\n    observations: ''\n  });\n  const handleSave = async () => {\n    if (form.date && form.observations && user) {\n      try {\n        const activitiesCollectionRef = collection(db, 'users', user.uid, 'activities');\n        await addDoc(activitiesCollectionRef, {\n          ...form,\n          createdAt: new Date()\n        });\n        alert('Actividad guardada con éxito!');\n        setForm({\n          date: '',\n          status: 'En curso',\n          observations: ''\n        });\n      } catch (error) {\n        console.error(\"Error: \", error);\n        alert(\"Hubo un error al guardar.\");\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-8 rounded-2xl shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-emerald-800 mb-6\",\n        children: \"Agregar Actividad\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end gap-4 mt-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onCancel,\n          className: \"px-6 py-3 rounded-lg bg-stone-200\",\n          children: \"Volver\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 58\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSave,\n          className: \"px-6 py-3 rounded-lg bg-emerald-600 text-white\",\n          children: \"Guardar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 146\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-bold text-emerald-800 my-4\",\n        children: \"Actividades Recientes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 30\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 302,\n    columnNumber: 9\n  }, this);\n};\n\n// --- Componente Principal de la App ---\n_s5(RegisterActivitiesScreen, \"OMFIBPIEvqGtZOwwPecyzz0j0BU=\");\n_c9 = RegisterActivitiesScreen;\nexport default function App() {\n  _s6();\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [currentPage, setCurrentPage] = useState('home');\n  const [owners, setOwners] = useState([]);\n  const [cattleData, setCattleData] = useState([]);\n  const [deceasedSoldData, setDeceasedSoldData] = useState([]);\n  const [activities, setActivities] = useState([]);\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, currentUser => {\n      setUser(currentUser);\n      setLoading(false);\n      if (currentUser) {\n        setCurrentPage('home');\n      }\n    });\n    return () => unsubscribe();\n  }, []);\n  useEffect(() => {\n    if (user) {\n      const collections = ['owners', 'cattle', 'deceasedSoldCattle', 'activities'];\n      const setters = [setOwners, setCattleData, setDeceasedSoldData, setActivities];\n      const unsubscribes = collections.map((col, index) => {\n        const q = query(collection(db, 'users', user.uid, col));\n        return onSnapshot(q, querySnapshot => {\n          const data = [];\n          querySnapshot.forEach(doc => {\n            data.push({\n              ...doc.data(),\n              docId: doc.id\n            });\n          });\n          setters[index](data);\n        });\n      });\n      return () => unsubscribes.forEach(unsub => unsub());\n    } else {\n      setOwners([]);\n      setCattleData([]);\n      setDeceasedSoldData([]);\n      setActivities([]);\n    }\n  }, [user]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Cargando...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 27\n    }, this);\n  }\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(AuthScreen, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 25\n    }, this);\n  }\n  const renderPage = () => {\n    switch (currentPage) {\n      case 'registerOwner':\n        return /*#__PURE__*/_jsxDEV(RegisterOwnerScreen, {\n          onCancel: () => setCurrentPage('home'),\n          owners: owners,\n          user: user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 42\n        }, this);\n      case 'registerCattle':\n        return /*#__PURE__*/_jsxDEV(RegisterCattleScreen, {\n          onCancel: () => setCurrentPage('home'),\n          owners: owners,\n          cattleData: cattleData,\n          user: user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 43\n        }, this);\n      case 'updateCattle':\n        return /*#__PURE__*/_jsxDEV(UpdateCattleScreen, {\n          onCancel: () => setCurrentPage('home'),\n          cattleData: cattleData,\n          owners: owners,\n          user: user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 41\n        }, this);\n      case 'consult':\n        return /*#__PURE__*/_jsxDEV(ConsultScreen, {\n          cattleData: cattleData,\n          owners: owners,\n          deceasedSoldData: deceasedSoldData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 36\n        }, this);\n      case 'activities':\n        return /*#__PURE__*/_jsxDEV(RegisterActivitiesScreen, {\n          onCancel: () => setCurrentPage('home'),\n          activities: activities,\n          user: user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 39\n        }, this);\n      case 'home':\n      default:\n        return /*#__PURE__*/_jsxDEV(HomeScreen, {\n          navigate: setCurrentPage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 42\n        }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-stone-100 min-h-screen font-sans\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      title: \"Finca Moreno Z\",\n      onMenuClick: () => {}\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      children: renderPage()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 364,\n    columnNumber: 9\n  }, this);\n}\n_s6(App, \"7PY59ApIQ76LkR5l194H7lbZb5g=\");\n_c0 = App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0;\n$RefreshReg$(_c, \"AuthScreen\");\n$RefreshReg$(_c2, \"Modal\");\n$RefreshReg$(_c3, \"Header\");\n$RefreshReg$(_c4, \"HomeScreen\");\n$RefreshReg$(_c5, \"RegisterOwnerScreen\");\n$RefreshReg$(_c6, \"RegisterCattleScreen\");\n$RefreshReg$(_c7, \"UpdateCattleScreen\");\n$RefreshReg$(_c8, \"ConsultScreen\");\n$RefreshReg$(_c9, \"RegisterActivitiesScreen\");\n$RefreshReg$(_c0, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","Plus","Edit","Search","Menu","X","Save","FileText","Users","Activity","Home","LogOut","UserPlus","LogIn","ChevronLeft","ChevronRight","auth","db","onAuthStateChanged","createUserWithEmailAndPassword","signInWithEmailAndPassword","signOut","collection","addDoc","onSnapshot","query","doc","updateDoc","deleteDoc","writeBatch","where","getDocs","jsxDEV","_jsxDEV","AuthScreen","_s","isLogin","setIsLogin","email","setEmail","password","setPassword","error","setError","handleAuth","e","preventDefault","err","message","replace","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","value","onChange","target","required","size","onClick","_c","Modal","onClose","title","_c2","Header","onMenuClick","handleLogout","_c3","calculateAgeInMonths","birthDate","today","Date","birth","months","getFullYear","getMonth","determineCattleType","cattle","gender","ageInMonths","offspring","length","lastParto","Math","max","map","o","monthsSinceParto","isCastrated","HomeScreen","navigate","buttons","label","page","icon","btn","_c4","RegisterOwnerScreen","onCancel","owners","user","_s2","name","setName","handleSave","trim","ownersCollectionRef","uid","alert","console","owner","id","_c5","RegisterCattleScreen","cattleData","_s3","form","setForm","weight","parentsId","lastVaccines","ownerId","useAutoId","setUseAutoId","cattleType","handleChange","prev","generateAutoId","allIds","c","customId","filter","startsWith","lastIdNum","parseInt","split","String","padStart","finalId","some","toUpperCase","cattleCollectionRef","status","parseFloat","createdAt","disabled","_c6","UpdateCattleScreen","_s4","searchTerm","setSearchTerm","selectedCattle","setSelectedCattle","modal","setModal","isOpen","data","handleSearch","q","querySnapshot","empty","docs","foundCattle","docId","handleUpdate","cattleDocRef","handleStatusChange","newStatus","date","batch","oldDocRef","newDocRef","newCustomId","updatedData","statusChangeDate","originalDocId","set","delete","commit","placeholder","_c7","ConsultScreen","deceasedSoldData","_c8","RegisterActivitiesScreen","activities","_s5","observations","activitiesCollectionRef","_c9","App","_s6","setUser","loading","setLoading","currentPage","setCurrentPage","setOwners","setCattleData","setDeceasedSoldData","setActivities","unsubscribe","currentUser","collections","setters","unsubscribes","col","index","forEach","push","unsub","renderPage","_c0","$RefreshReg$"],"sources":["C:/Users/alezv/Desktop/App/React/src/App.js"],"sourcesContent":["\r\n\r\nimport React, { useState, useEffect, useMemo } from 'react';\r\nimport { Plus, Edit, Search, Menu, X, Save, FileText, Users, Activity, Home, LogOut, UserPlus, LogIn, ChevronLeft, ChevronRight } from 'lucide-react';\r\n\r\n// Importa los servicios de Firebase desde tu archivo de configuración\r\nimport { auth, db } from './firebase'; \r\nimport { \r\n  onAuthStateChanged, \r\n  createUserWithEmailAndPassword, \r\n  signInWithEmailAndPassword, \r\n  signOut \r\n} from \"firebase/auth\";\r\nimport { \r\n  collection, \r\n  addDoc, \r\n  onSnapshot, \r\n  query, \r\n  doc, \r\n  updateDoc,\r\n  deleteDoc,\r\n  writeBatch,\r\n  where,\r\n  getDocs\r\n} from \"firebase/firestore\";\r\n\r\n\r\n// --- Pantalla de Autenticación (Login y Registro) ---\r\nconst AuthScreen = () => {\r\n  const [isLogin, setIsLogin] = useState(true);\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [error, setError] = useState('');\r\n\r\n  const handleAuth = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    try {\r\n      if (isLogin) {\r\n        await signInWithEmailAndPassword(auth, email, password);\r\n      } else {\r\n        await createUserWithEmailAndPassword(auth, email, password);\r\n      }\r\n    } catch (err) {\r\n      setError(\"Error: \" + err.message.replace('Firebase: ', ''));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-stone-100 flex flex-col justify-center items-center p-4\">\r\n      <div className=\"w-full max-w-md bg-white rounded-2xl shadow-xl p-8\">\r\n        <div className=\"flex justify-center mb-6\">\r\n          <img src=\"http://googleusercontent.com/file_content/2\" alt=\"Logo\" className=\"h-20 w-20\" />\r\n        </div>\r\n        <h2 className=\"text-3xl font-bold text-center text-emerald-800 mb-2\">\r\n          {isLogin ? 'Iniciar Sesión' : 'Crear Cuenta'}\r\n        </h2>\r\n        <p className=\"text-center text-stone-500 mb-8\">Bienvenido a Finca Moreno Z</p>\r\n        \r\n        <form onSubmit={handleAuth}>\r\n          <div className=\"mb-4\">\r\n            <label className=\"block text-stone-700 font-medium mb-2\">Correo Electrónico</label>\r\n            <input type=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} className=\"w-full px-4 py-3 border border-stone-300 rounded-lg\" required />\r\n          </div>\r\n          <div className=\"mb-6\">\r\n            <label className=\"block text-stone-700 font-medium mb-2\">Contraseña</label>\r\n            <input type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} className=\"w-full px-4 py-3 border border-stone-300 rounded-lg\" required />\r\n          </div>\r\n          {error && <p className=\"text-red-500 text-sm mb-4\">{error}</p>}\r\n          <button type=\"submit\" className=\"w-full bg-emerald-600 text-white font-bold py-3 rounded-lg hover:bg-emerald-700 transition-colors flex items-center justify-center gap-2\">\r\n            {isLogin ? <LogIn size={18} /> : <UserPlus size={18} />}\r\n            {isLogin ? 'Ingresar' : 'Registrarse'}\r\n          </button>\r\n        </form>\r\n\r\n        <div className=\"mt-6 text-center\">\r\n          <button onClick={() => setIsLogin(!isLogin)} className=\"text-emerald-600 hover:underline\">\r\n            {isLogin ? '¿No tienes una cuenta? Regístrate' : '¿Ya tienes una cuenta? Inicia sesión'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n// --- Componentes de la UI (Reutilizados) ---\r\nconst Modal = ({ children, onClose, title }) => (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4\">\r\n        <div className=\"bg-white rounded-2xl shadow-2xl w-full max-w-md m-4\">\r\n            <div className=\"flex justify-between items-center p-4 border-b border-stone-200\">\r\n                <h3 className=\"text-xl font-bold text-emerald-800\">{title}</h3>\r\n                <button onClick={onClose} className=\"text-stone-400 hover:text-stone-600\"><X size={24} /></button>\r\n            </div>\r\n            <div className=\"p-6\">{children}</div>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nconst Header = ({ title, onMenuClick }) => {\r\n  const handleLogout = () => { signOut(auth); };\r\n  return (\r\n    <header className=\"bg-emerald-800 text-white p-4 shadow-lg flex items-center justify-between sticky top-0 z-40\">\r\n        <div className=\"flex items-center\">\r\n            <button onClick={onMenuClick} className=\"mr-4 p-2 rounded-full hover:bg-emerald-700\"><Menu size={24} /></button>\r\n            <img src=\"http://googleusercontent.com/file_content/2\" alt=\"Logo\" className=\"h-10 w-10 rounded-full bg-white p-1 object-contain\" />\r\n            <h1 className=\"text-2xl font-bold ml-4 tracking-wider\">{title}</h1>\r\n        </div>\r\n        <button onClick={handleLogout} className=\"flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-emerald-700 font-semibold\">\r\n          <LogOut size={18} /> Salir\r\n        </button>\r\n    </header>\r\n  );\r\n};\r\n\r\n// --- Lógica de Negocio ---\r\nconst calculateAgeInMonths = (birthDate) => {\r\n    if (!birthDate) return 0;\r\n    const today = new Date();\r\n    const birth = new Date(birthDate);\r\n    let months = (today.getFullYear() - birth.getFullYear()) * 12;\r\n    months -= birth.getMonth();\r\n    months += today.getMonth();\r\n    return months <= 0 ? 0 : months;\r\n};\r\n\r\nconst determineCattleType = (cattle) => {\r\n    if (!cattle || !cattle.birthDate || !cattle.gender) return 'N/A';\r\n    const ageInMonths = calculateAgeInMonths(cattle.birthDate);\r\n    if (ageInMonths <= 12) return 'Ternero/a';\r\n    if (cattle.gender === 'Hembra') {\r\n        if (cattle.offspring && cattle.offspring.length > 0) {\r\n            const lastParto = new Date(Math.max(...cattle.offspring.map(o => new Date(o.birthDate))));\r\n            const monthsSinceParto = calculateAgeInMonths(lastParto);\r\n            return monthsSinceParto <= 12 ? 'Vaca Parida' : 'Vaca Horra';\r\n        }\r\n        return ageInMonths <= 24 ? 'Novilla' : 'Vaca';\r\n    }\r\n    if (cattle.gender === 'Macho') {\r\n        if (ageInMonths <= 24) return 'Levante';\r\n        if (cattle.isCastrated === true) return 'Macho de Engorde';\r\n        if (cattle.isCastrated === false) return 'Toro';\r\n        return 'Macho Adulto';\r\n    }\r\n    return 'Desconocido';\r\n};\r\n\r\n\r\n// --- Pantallas de la Aplicación ---\r\nconst HomeScreen = ({ navigate }) => {\r\n    const buttons = [\r\n        { label: 'Registro de Res', page: 'registerCattle', icon: <Plus className=\"w-12 h-12\" /> },\r\n        { label: 'Actualización de Res', page: 'updateCattle', icon: <Edit className=\"w-12 h-12\" /> },\r\n        { label: 'Consultar', page: 'consult', icon: <FileText className=\"w-12 h-12\" /> },\r\n        { label: 'Registro de Actividades', page: 'activities', icon: <Activity className=\"w-12 h-12\" /> },\r\n        { label: 'Registrar Propietarios', page: 'registerOwner', icon: <Users className=\"w-12 h-12\" /> },\r\n    ];\r\n    return (\r\n        <div className=\"grid grid-cols-2 gap-6 p-6\">\r\n            {buttons.map((btn) => (\r\n                <button key={btn.page} onClick={() => navigate(btn.page)} className=\"bg-white rounded-2xl shadow-lg p-6 flex flex-col items-center justify-center text-center text-emerald-800 hover:bg-emerald-50 hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 aspect-square border-b-4 border-amber-400\">\r\n                    {btn.icon}\r\n                    <span className=\"mt-4 font-semibold text-lg\">{btn.label}</span>\r\n                </button>\r\n            ))}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst RegisterOwnerScreen = ({ onCancel, owners, user }) => {\r\n    const [name, setName] = useState('');\r\n    const handleSave = async () => {\r\n        if (name.trim() && user) {\r\n            try {\r\n                const ownersCollectionRef = collection(db, 'users', user.uid, 'owners');\r\n                await addDoc(ownersCollectionRef, { name: name.trim() });\r\n                alert('Propietario guardado con éxito!');\r\n                onCancel();\r\n            } catch (error) { console.error(\"Error: \", error); alert(\"Hubo un error al guardar.\"); }\r\n        }\r\n    };\r\n    return (\r\n        <div className=\"p-6\">\r\n            <div className=\"bg-white p-8 rounded-2xl shadow-lg\">\r\n                <h2 className=\"text-2xl font-bold text-emerald-800 mb-6\">Registrar Nuevo Propietario</h2>\r\n                <div className=\"mb-6\"><label className=\"block text-stone-700 font-medium mb-2\">Nombre y Apellidos</label><input type=\"text\" value={name} onChange={(e) => setName(e.target.value)} className=\"w-full px-4 py-3 border border-stone-300 rounded-lg\" /></div>\r\n                <div className=\"flex justify-end gap-4\"><button onClick={onCancel} className=\"px-6 py-3 rounded-lg bg-stone-200 text-stone-700 font-semibold\">Cancelar</button><button onClick={handleSave} className=\"px-6 py-3 rounded-lg bg-emerald-600 text-white font-semibold flex items-center gap-2\"><Save size={18}/> Guardar</button></div>\r\n            </div>\r\n            <div className=\"mt-8 bg-white p-8 rounded-2xl shadow-lg\">\r\n                <h3 className=\"text-xl font-bold text-emerald-800 mb-4\">Propietarios Registrados</h3>\r\n                {owners.length > 0 ? (<ul className=\"divide-y divide-stone-200\">{owners.map(owner => <li key={owner.id} className=\"py-3 text-stone-600\">{owner.name}</li>)}</ul>) : (<p className=\"text-stone-500\">No hay propietarios registrados.</p>)}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst RegisterCattleScreen = ({ onCancel, owners, cattleData, user }) => {\r\n    const [form, setForm] = useState({ id: '', birthDate: '', gender: 'Hembra', weight: '', parentsId: '', lastVaccines: '', ownerId: owners.length > 0 ? owners[0].id : '' });\r\n    const [useAutoId, setUseAutoId] = useState(true);\r\n    const cattleType = useMemo(() => determineCattleType(form), [form.birthDate, form.gender]);\r\n    const handleChange = (e) => { const { name, value } = e.target; setForm(prev => ({ ...prev, [name]: value })); };\r\n    const generateAutoId = () => {\r\n        const allIds = cattleData.map(c => c.customId.replace(/^[VM]-/, '')).filter(id => id.startsWith('FMZ-'));\r\n        const lastIdNum = allIds.length > 0 ? Math.max(...allIds.map(id => parseInt(id.split('-')[1]))) : 0;\r\n        return `FMZ-${String(lastIdNum + 1).padStart(3, '0')}`;\r\n    };\r\n    const handleSave = async () => {\r\n        const finalId = useAutoId ? generateAutoId() : form.id.trim();\r\n        if (!finalId || !form.birthDate || !form.weight || !form.ownerId) { alert(\"Por favor, completa todos los campos obligatorios.\"); return; }\r\n        if (!useAutoId && cattleData.some(c => c.customId.toUpperCase() === finalId.toUpperCase())) { alert(\"El código de identificación manual ya existe.\"); return; }\r\n        if (user) {\r\n            try {\r\n                const cattleCollectionRef = collection(db, 'users', user.uid, 'cattle');\r\n                await addDoc(cattleCollectionRef, { ...form, customId: finalId, status: 'Viva', offspring: [], weight: parseFloat(form.weight), createdAt: new Date() });\r\n                alert('Res guardada con éxito!');\r\n                onCancel();\r\n            } catch (error) { console.error(\"Error: \", error); alert(\"Hubo un error al guardar.\"); }\r\n        }\r\n    };\r\n    return (\r\n        <div className=\"p-6\"><div className=\"bg-white p-8 rounded-2xl shadow-lg\"><h2 className=\"text-2xl font-bold text-emerald-800 mb-6\">Registrar Nueva Res</h2><div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\"><div><label className=\"block text-stone-700 font-medium mb-2\">Código de Identificación</label><div className=\"flex items-center gap-2\"><input type=\"text\" name=\"id\" value={useAutoId ? generateAutoId() : form.id} onChange={handleChange} disabled={useAutoId} className=\"w-full px-4 py-3 border border-stone-300 rounded-lg disabled:bg-stone-100\" /><button onClick={() => setUseAutoId(!useAutoId)} className={`px-4 py-3 rounded-lg font-semibold transition-colors ${useAutoId ? 'bg-emerald-600 text-white' : 'bg-stone-200'}`}>Auto</button></div></div><div><label className=\"block text-stone-700 font-medium mb-2\">Fecha de Nacimiento</label><input type=\"date\" name=\"birthDate\" value={form.birthDate} onChange={handleChange} className=\"w-full px-4 py-3 border border-stone-300 rounded-lg\" /></div><div><label className=\"block text-stone-700 font-medium mb-2\">Género</label><select name=\"gender\" value={form.gender} onChange={handleChange} className=\"w-full px-4 py-3 border border-stone-300 rounded-lg bg-white\"><option value=\"Hembra\">Hembra</option><option value=\"Macho\">Macho</option></select></div><div><label className=\"block text-stone-700 font-medium mb-2\">Peso (Kg)</label><input type=\"number\" name=\"weight\" value={form.weight} onChange={handleChange} className=\"w-full px-4 py-3 border border-stone-300 rounded-lg\" /></div><div><label className=\"block text-stone-700 font-medium mb-2\">Código de los Padres</label><input type=\"text\" name=\"parentsId\" value={form.parentsId} onChange={handleChange} className=\"w-full px-4 py-3 border border-stone-300 rounded-lg\" /></div><div><label className=\"block text-stone-700 font-medium mb-2\">Tipo de Cabeza de Ganado</label><input type=\"text\" value={cattleType} disabled className=\"w-full px-4 py-3 border border-stone-300 rounded-lg bg-stone-100\" /></div><div className=\"md:col-span-2\"><label className=\"block text-stone-700 font-medium mb-2\">Últimas Vacunas</label><input type=\"text\" name=\"lastVaccines\" value={form.lastVaccines} onChange={handleChange} className=\"w-full px-4 py-3 border border-stone-300 rounded-lg\" /></div><div className=\"md:col-span-2\"><label className=\"block text-stone-700 font-medium mb-2\">Propietario</label><select name=\"ownerId\" value={form.ownerId} onChange={handleChange} className=\"w-full px-4 py-3 border border-stone-300 rounded-lg bg-white\" disabled={owners.length === 0}>{owners.length > 0 ? owners.map(o => <option key={o.id} value={o.id}>{o.name}</option>) : <option>Registre un propietario primero</option>}</select></div></div><div className=\"flex justify-end gap-4 mt-8\"><button onClick={onCancel} className=\"px-6 py-3 rounded-lg bg-stone-200 text-stone-700 font-semibold\">Cancelar</button><button onClick={handleSave} className=\"px-6 py-3 rounded-lg bg-emerald-600 text-white font-semibold flex items-center gap-2\"><Save size={18}/> Guardar</button></div></div></div>\r\n    );\r\n};\r\n\r\nconst UpdateCattleScreen = ({ onCancel, cattleData, owners, user }) => {\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [selectedCattle, setSelectedCattle] = useState(null);\r\n    const [form, setForm] = useState(null);\r\n    const [modal, setModal] = useState({ isOpen: false, type: null, data: null });\r\n    const handleSearch = async () => {\r\n        const q = query(collection(db, 'users', user.uid, 'cattle'), where(\"customId\", \"==\", searchTerm.trim().toUpperCase()));\r\n        const querySnapshot = await getDocs(q);\r\n        if (!querySnapshot.empty) {\r\n            const doc = querySnapshot.docs[0];\r\n            const foundCattle = { ...doc.data(), docId: doc.id };\r\n            setSelectedCattle(foundCattle);\r\n            setForm(foundCattle);\r\n        } else { alert(\"Código inexistente, valide que este correcto\"); setSelectedCattle(null); setForm(null); }\r\n    };\r\n    const handleUpdate = async () => {\r\n        const cattleDocRef = doc(db, 'users', user.uid, 'cattle', selectedCattle.docId);\r\n        await updateDoc(cattleDocRef, form);\r\n        alert(\"Información actualizada con éxito\");\r\n        onCancel();\r\n    };\r\n    const handleStatusChange = async (newStatus, date) => {\r\n        const batch = writeBatch(db);\r\n        const oldDocRef = doc(db, 'users', user.uid, 'cattle', selectedCattle.docId);\r\n        const newDocRef = doc(collection(db, 'users', user.uid, 'deceasedSoldCattle'));\r\n        const newCustomId = `${newStatus === 'Vendida' ? 'V' : 'M'}-${selectedCattle.customId}`;\r\n        const updatedData = { ...selectedCattle, ...form, status: newStatus, statusChangeDate: date, customId: newCustomId, originalDocId: selectedCattle.docId };\r\n        delete updatedData.docId; // No guardar el ID de Firestore en el nuevo documento\r\n        batch.set(newDocRef, updatedData);\r\n        batch.delete(oldDocRef);\r\n        await batch.commit();\r\n        alert(`El estado de la res ha sido actualizado a ${newStatus}.`);\r\n        onCancel();\r\n    };\r\n    // ... UI similar a la versión anterior, pero con lógica de Firestore ...\r\n    return (\r\n        <div className=\"p-6\">\r\n            <div className=\"bg-white p-8 rounded-2xl shadow-lg mb-6\">\r\n                <h2 className=\"text-2xl font-bold text-emerald-800 mb-6\">Actualizar Res</h2>\r\n                <div className=\"flex gap-2\">\r\n                    <input type=\"text\" value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} placeholder=\"Buscar por código...\" className=\"w-full px-4 py-3 border rounded-lg\" />\r\n                    <button onClick={handleSearch} className=\"px-6 py-3 rounded-lg bg-emerald-600 text-white font-semibold\"><Search size={18}/></button>\r\n                </div>\r\n            </div>\r\n            {selectedCattle && form && (\r\n                <div className=\"bg-white p-8 rounded-2xl shadow-lg\">\r\n                    {/* Formulario de actualización aquí, usando `form` y `setForm` */}\r\n                    <p>Editando: {form.customId}</p>\r\n                    {/* Lógica de botones para llamar a handleUpdate o handleStatusChange */}\r\n                    <div className=\"flex justify-end gap-4 mt-8\">\r\n                        <button onClick={onCancel} className=\"px-6 py-3 rounded-lg bg-stone-200\">Cancelar</button>\r\n                        <button onClick={handleUpdate} className=\"px-6 py-3 rounded-lg bg-emerald-600 text-white\">Actualizar</button>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst ConsultScreen = ({ cattleData, owners, deceasedSoldData }) => {\r\n    // UI similar a la versión anterior, los datos ya vienen por props\r\n    return <div className=\"p-6\"><div className=\"bg-white p-8 rounded-2xl shadow-lg\"><h2 className=\"text-2xl font-bold text-emerald-800 mb-6\">Consultar Registros</h2>{/* UI de consulta aquí */}</div></div>;\r\n};\r\n\r\nconst RegisterActivitiesScreen = ({ onCancel, activities, user }) => {\r\n    const [form, setForm] = useState({ date: '', status: 'En curso', observations: '' });\r\n    const handleSave = async () => {\r\n        if (form.date && form.observations && user) {\r\n            try {\r\n                const activitiesCollectionRef = collection(db, 'users', user.uid, 'activities');\r\n                await addDoc(activitiesCollectionRef, { ...form, createdAt: new Date() });\r\n                alert('Actividad guardada con éxito!');\r\n                setForm({ date: '', status: 'En curso', observations: '' });\r\n            } catch (error) { console.error(\"Error: \", error); alert(\"Hubo un error al guardar.\"); }\r\n        }\r\n    };\r\n    return (\r\n        <div className=\"p-6\"><div className=\"bg-white p-8 rounded-2xl shadow-lg\">\r\n            <h2 className=\"text-2xl font-bold text-emerald-800 mb-6\">Agregar Actividad</h2>\r\n            {/* Formulario de actividad aquí */}\r\n            <div className=\"flex justify-end gap-4 mt-8\"><button onClick={onCancel} className=\"px-6 py-3 rounded-lg bg-stone-200\">Volver</button><button onClick={handleSave} className=\"px-6 py-3 rounded-lg bg-emerald-600 text-white\">Guardar</button></div>\r\n            <h3 className=\"text-xl font-bold text-emerald-800 my-4\">Actividades Recientes</h3>\r\n            {/* Lista de actividades aquí */}\r\n        </div></div>\r\n    );\r\n};\r\n\r\n\r\n// --- Componente Principal de la App ---\r\nexport default function App() {\r\n    const [user, setUser] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [currentPage, setCurrentPage] = useState('home');\r\n    const [owners, setOwners] = useState([]);\r\n    const [cattleData, setCattleData] = useState([]);\r\n    const [deceasedSoldData, setDeceasedSoldData] = useState([]);\r\n    const [activities, setActivities] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = onAuthStateChanged(auth, (currentUser) => {\r\n            setUser(currentUser); setLoading(false);\r\n            if(currentUser) { setCurrentPage('home'); }\r\n        });\r\n        return () => unsubscribe();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (user) {\r\n            const collections = ['owners', 'cattle', 'deceasedSoldCattle', 'activities'];\r\n            const setters = [setOwners, setCattleData, setDeceasedSoldData, setActivities];\r\n            const unsubscribes = collections.map((col, index) => {\r\n                const q = query(collection(db, 'users', user.uid, col));\r\n                return onSnapshot(q, (querySnapshot) => {\r\n                    const data = [];\r\n                    querySnapshot.forEach((doc) => { data.push({ ...doc.data(), docId: doc.id }); });\r\n                    setters[index](data);\r\n                });\r\n            });\r\n            return () => unsubscribes.forEach(unsub => unsub());\r\n        } else {\r\n            setOwners([]); setCattleData([]); setDeceasedSoldData([]); setActivities([]);\r\n        }\r\n    }, [user]);\r\n\r\n    if (loading) { return <div>Cargando...</div>; }\r\n    if (!user) { return <AuthScreen />; }\r\n\r\n    const renderPage = () => {\r\n        switch (currentPage) {\r\n            case 'registerOwner': return <RegisterOwnerScreen onCancel={() => setCurrentPage('home')} owners={owners} user={user} />;\r\n            case 'registerCattle': return <RegisterCattleScreen onCancel={() => setCurrentPage('home')} owners={owners} cattleData={cattleData} user={user} />;\r\n            case 'updateCattle': return <UpdateCattleScreen onCancel={() => setCurrentPage('home')} cattleData={cattleData} owners={owners} user={user} />;\r\n            case 'consult': return <ConsultScreen cattleData={cattleData} owners={owners} deceasedSoldData={deceasedSoldData} />;\r\n            case 'activities': return <RegisterActivitiesScreen onCancel={() => setCurrentPage('home')} activities={activities} user={user} />;\r\n            case 'home': default: return <HomeScreen navigate={setCurrentPage} />;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"bg-stone-100 min-h-screen font-sans\">\r\n            <Header title=\"Finca Moreno Z\" onMenuClick={() => {}} />\r\n            <main>{renderPage()}</main>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":";;;;;;;AAEA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,OAAO,QAAQ,OAAO;AAC3D,SAASC,IAAI,EAAEC,IAAI,EAAEC,MAAM,EAAEC,IAAI,EAAEC,CAAC,EAAEC,IAAI,EAAEC,QAAQ,EAAEC,KAAK,EAAEC,QAAQ,EAAEC,IAAI,EAAEC,MAAM,EAAEC,QAAQ,EAAEC,KAAK,EAAEC,WAAW,EAAEC,YAAY,QAAQ,cAAc;;AAErJ;AACA,SAASC,IAAI,EAAEC,EAAE,QAAQ,YAAY;AACrC,SACEC,kBAAkB,EAClBC,8BAA8B,EAC9BC,0BAA0B,EAC1BC,OAAO,QACF,eAAe;AACtB,SACEC,UAAU,EACVC,MAAM,EACNC,UAAU,EACVC,KAAK,EACLC,GAAG,EACHC,SAAS,EACTC,SAAS,EACTC,UAAU,EACVC,KAAK,EACLC,OAAO,QACF,oBAAoB;;AAG3B;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACvB,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGvC,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACwC,KAAK,EAAEC,QAAQ,CAAC,GAAGzC,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAAC0C,QAAQ,EAAEC,WAAW,CAAC,GAAG3C,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAAC4C,KAAK,EAAEC,QAAQ,CAAC,GAAG7C,QAAQ,CAAC,EAAE,CAAC;EAEtC,MAAM8C,UAAU,GAAG,MAAOC,CAAC,IAAK;IAC9BA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBH,QAAQ,CAAC,EAAE,CAAC;IACZ,IAAI;MACF,IAAIP,OAAO,EAAE;QACX,MAAMhB,0BAA0B,CAACJ,IAAI,EAAEsB,KAAK,EAAEE,QAAQ,CAAC;MACzD,CAAC,MAAM;QACL,MAAMrB,8BAA8B,CAACH,IAAI,EAAEsB,KAAK,EAAEE,QAAQ,CAAC;MAC7D;IACF,CAAC,CAAC,OAAOO,GAAG,EAAE;MACZJ,QAAQ,CAAC,SAAS,GAAGI,GAAG,CAACC,OAAO,CAACC,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC,CAAC;IAC7D;EACF,CAAC;EAED,oBACEhB,OAAA;IAAKiB,SAAS,EAAC,yEAAyE;IAAAC,QAAA,eACtFlB,OAAA;MAAKiB,SAAS,EAAC,oDAAoD;MAAAC,QAAA,gBACjElB,OAAA;QAAKiB,SAAS,EAAC,0BAA0B;QAAAC,QAAA,eACvClB,OAAA;UAAKmB,GAAG,EAAC,6CAA6C;UAACC,GAAG,EAAC,MAAM;UAACH,SAAS,EAAC;QAAW;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvF,CAAC,eACNxB,OAAA;QAAIiB,SAAS,EAAC,sDAAsD;QAAAC,QAAA,EACjEf,OAAO,GAAG,gBAAgB,GAAG;MAAc;QAAAkB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1C,CAAC,eACLxB,OAAA;QAAGiB,SAAS,EAAC,iCAAiC;QAAAC,QAAA,EAAC;MAA2B;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,eAE9ExB,OAAA;QAAMyB,QAAQ,EAAEd,UAAW;QAAAO,QAAA,gBACzBlB,OAAA;UAAKiB,SAAS,EAAC,MAAM;UAAAC,QAAA,gBACnBlB,OAAA;YAAOiB,SAAS,EAAC,uCAAuC;YAAAC,QAAA,EAAC;UAAkB;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACnFxB,OAAA;YAAO0B,IAAI,EAAC,OAAO;YAACC,KAAK,EAAEtB,KAAM;YAACuB,QAAQ,EAAGhB,CAAC,IAAKN,QAAQ,CAACM,CAAC,CAACiB,MAAM,CAACF,KAAK,CAAE;YAACV,SAAS,EAAC,qDAAqD;YAACa,QAAQ;UAAA;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrJ,CAAC,eACNxB,OAAA;UAAKiB,SAAS,EAAC,MAAM;UAAAC,QAAA,gBACnBlB,OAAA;YAAOiB,SAAS,EAAC,uCAAuC;YAAAC,QAAA,EAAC;UAAU;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC3ExB,OAAA;YAAO0B,IAAI,EAAC,UAAU;YAACC,KAAK,EAAEpB,QAAS;YAACqB,QAAQ,EAAGhB,CAAC,IAAKJ,WAAW,CAACI,CAAC,CAACiB,MAAM,CAACF,KAAK,CAAE;YAACV,SAAS,EAAC,qDAAqD;YAACa,QAAQ;UAAA;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9J,CAAC,EACLf,KAAK,iBAAIT,OAAA;UAAGiB,SAAS,EAAC,2BAA2B;UAAAC,QAAA,EAAET;QAAK;UAAAY,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC9DxB,OAAA;UAAQ0B,IAAI,EAAC,QAAQ;UAACT,SAAS,EAAC,0IAA0I;UAAAC,QAAA,GACvKf,OAAO,gBAAGH,OAAA,CAACpB,KAAK;YAACmD,IAAI,EAAE;UAAG;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,gBAAGxB,OAAA,CAACrB,QAAQ;YAACoD,IAAI,EAAE;UAAG;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,EACtDrB,OAAO,GAAG,UAAU,GAAG,aAAa;QAAA;UAAAkB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/B,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC,eAEPxB,OAAA;QAAKiB,SAAS,EAAC,kBAAkB;QAAAC,QAAA,eAC/BlB,OAAA;UAAQgC,OAAO,EAAEA,CAAA,KAAM5B,UAAU,CAAC,CAACD,OAAO,CAAE;UAACc,SAAS,EAAC,kCAAkC;UAAAC,QAAA,EACtFf,OAAO,GAAG,mCAAmC,GAAG;QAAsC;UAAAkB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjF;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;;AAGD;AAAAtB,EAAA,CA1DMD,UAAU;AAAAgC,EAAA,GAAVhC,UAAU;AA2DhB,MAAMiC,KAAK,GAAGA,CAAC;EAAEhB,QAAQ;EAAEiB,OAAO;EAAEC;AAAM,CAAC,kBACvCpC,OAAA;EAAKiB,SAAS,EAAC,gFAAgF;EAAAC,QAAA,eAC3FlB,OAAA;IAAKiB,SAAS,EAAC,qDAAqD;IAAAC,QAAA,gBAChElB,OAAA;MAAKiB,SAAS,EAAC,iEAAiE;MAAAC,QAAA,gBAC5ElB,OAAA;QAAIiB,SAAS,EAAC,oCAAoC;QAAAC,QAAA,EAAEkB;MAAK;QAAAf,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAC/DxB,OAAA;QAAQgC,OAAO,EAAEG,OAAQ;QAAClB,SAAS,EAAC,qCAAqC;QAAAC,QAAA,eAAClB,OAAA,CAAC5B,CAAC;UAAC2D,IAAI,EAAE;QAAG;UAAAV,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjG,CAAC,eACNxB,OAAA;MAAKiB,SAAS,EAAC,KAAK;MAAAC,QAAA,EAAEA;IAAQ;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACpC;AAAC;EAAAH,QAAA,EAAAC,YAAA;EAAAC,UAAA;EAAAC,YAAA;AAAA,OACL,CACR;AAACa,GAAA,GAVIH,KAAK;AAYX,MAAMI,MAAM,GAAGA,CAAC;EAAEF,KAAK;EAAEG;AAAY,CAAC,KAAK;EACzC,MAAMC,YAAY,GAAGA,CAAA,KAAM;IAAEpD,OAAO,CAACL,IAAI,CAAC;EAAE,CAAC;EAC7C,oBACEiB,OAAA;IAAQiB,SAAS,EAAC,6FAA6F;IAAAC,QAAA,gBAC3GlB,OAAA;MAAKiB,SAAS,EAAC,mBAAmB;MAAAC,QAAA,gBAC9BlB,OAAA;QAAQgC,OAAO,EAAEO,WAAY;QAACtB,SAAS,EAAC,4CAA4C;QAAAC,QAAA,eAAClB,OAAA,CAAC7B,IAAI;UAAC4D,IAAI,EAAE;QAAG;UAAAV,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eAChHxB,OAAA;QAAKmB,GAAG,EAAC,6CAA6C;QAACC,GAAG,EAAC,MAAM;QAACH,SAAS,EAAC;MAAoD;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACnIxB,OAAA;QAAIiB,SAAS,EAAC,wCAAwC;QAAAC,QAAA,EAAEkB;MAAK;QAAAf,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAClE,CAAC,eACNxB,OAAA;MAAQgC,OAAO,EAAEQ,YAAa;MAACvB,SAAS,EAAC,iFAAiF;MAAAC,QAAA,gBACxHlB,OAAA,CAACtB,MAAM;QAACqD,IAAI,EAAE;MAAG;QAAAV,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,UACtB;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEb,CAAC;;AAED;AAAAiB,GAAA,GAhBMH,MAAM;AAiBZ,MAAMI,oBAAoB,GAAIC,SAAS,IAAK;EACxC,IAAI,CAACA,SAAS,EAAE,OAAO,CAAC;EACxB,MAAMC,KAAK,GAAG,IAAIC,IAAI,CAAC,CAAC;EACxB,MAAMC,KAAK,GAAG,IAAID,IAAI,CAACF,SAAS,CAAC;EACjC,IAAII,MAAM,GAAG,CAACH,KAAK,CAACI,WAAW,CAAC,CAAC,GAAGF,KAAK,CAACE,WAAW,CAAC,CAAC,IAAI,EAAE;EAC7DD,MAAM,IAAID,KAAK,CAACG,QAAQ,CAAC,CAAC;EAC1BF,MAAM,IAAIH,KAAK,CAACK,QAAQ,CAAC,CAAC;EAC1B,OAAOF,MAAM,IAAI,CAAC,GAAG,CAAC,GAAGA,MAAM;AACnC,CAAC;AAED,MAAMG,mBAAmB,GAAIC,MAAM,IAAK;EACpC,IAAI,CAACA,MAAM,IAAI,CAACA,MAAM,CAACR,SAAS,IAAI,CAACQ,MAAM,CAACC,MAAM,EAAE,OAAO,KAAK;EAChE,MAAMC,WAAW,GAAGX,oBAAoB,CAACS,MAAM,CAACR,SAAS,CAAC;EAC1D,IAAIU,WAAW,IAAI,EAAE,EAAE,OAAO,WAAW;EACzC,IAAIF,MAAM,CAACC,MAAM,KAAK,QAAQ,EAAE;IAC5B,IAAID,MAAM,CAACG,SAAS,IAAIH,MAAM,CAACG,SAAS,CAACC,MAAM,GAAG,CAAC,EAAE;MACjD,MAAMC,SAAS,GAAG,IAAIX,IAAI,CAACY,IAAI,CAACC,GAAG,CAAC,GAAGP,MAAM,CAACG,SAAS,CAACK,GAAG,CAACC,CAAC,IAAI,IAAIf,IAAI,CAACe,CAAC,CAACjB,SAAS,CAAC,CAAC,CAAC,CAAC;MACzF,MAAMkB,gBAAgB,GAAGnB,oBAAoB,CAACc,SAAS,CAAC;MACxD,OAAOK,gBAAgB,IAAI,EAAE,GAAG,aAAa,GAAG,YAAY;IAChE;IACA,OAAOR,WAAW,IAAI,EAAE,GAAG,SAAS,GAAG,MAAM;EACjD;EACA,IAAIF,MAAM,CAACC,MAAM,KAAK,OAAO,EAAE;IAC3B,IAAIC,WAAW,IAAI,EAAE,EAAE,OAAO,SAAS;IACvC,IAAIF,MAAM,CAACW,WAAW,KAAK,IAAI,EAAE,OAAO,kBAAkB;IAC1D,IAAIX,MAAM,CAACW,WAAW,KAAK,KAAK,EAAE,OAAO,MAAM;IAC/C,OAAO,cAAc;EACzB;EACA,OAAO,aAAa;AACxB,CAAC;;AAGD;AACA,MAAMC,UAAU,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EACjC,MAAMC,OAAO,GAAG,CACZ;IAAEC,KAAK,EAAE,iBAAiB;IAAEC,IAAI,EAAE,gBAAgB;IAAEC,IAAI,eAAEpE,OAAA,CAAChC,IAAI;MAACiD,SAAS,EAAC;IAAW;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE;EAAE,CAAC,EAC1F;IAAE0C,KAAK,EAAE,sBAAsB;IAAEC,IAAI,EAAE,cAAc;IAAEC,IAAI,eAAEpE,OAAA,CAAC/B,IAAI;MAACgD,SAAS,EAAC;IAAW;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE;EAAE,CAAC,EAC7F;IAAE0C,KAAK,EAAE,WAAW;IAAEC,IAAI,EAAE,SAAS;IAAEC,IAAI,eAAEpE,OAAA,CAAC1B,QAAQ;MAAC2C,SAAS,EAAC;IAAW;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE;EAAE,CAAC,EACjF;IAAE0C,KAAK,EAAE,yBAAyB;IAAEC,IAAI,EAAE,YAAY;IAAEC,IAAI,eAAEpE,OAAA,CAACxB,QAAQ;MAACyC,SAAS,EAAC;IAAW;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE;EAAE,CAAC,EAClG;IAAE0C,KAAK,EAAE,wBAAwB;IAAEC,IAAI,EAAE,eAAe;IAAEC,IAAI,eAAEpE,OAAA,CAACzB,KAAK;MAAC0C,SAAS,EAAC;IAAW;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE;EAAE,CAAC,CACpG;EACD,oBACIxB,OAAA;IAAKiB,SAAS,EAAC,4BAA4B;IAAAC,QAAA,EACtC+C,OAAO,CAACN,GAAG,CAAEU,GAAG,iBACbrE,OAAA;MAAuBgC,OAAO,EAAEA,CAAA,KAAMgC,QAAQ,CAACK,GAAG,CAACF,IAAI,CAAE;MAAClD,SAAS,EAAC,oPAAoP;MAAAC,QAAA,GACnTmD,GAAG,CAACD,IAAI,eACTpE,OAAA;QAAMiB,SAAS,EAAC,4BAA4B;QAAAC,QAAA,EAAEmD,GAAG,CAACH;MAAK;QAAA7C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC;IAAA,GAFtD6C,GAAG,CAACF,IAAI;MAAA9C,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAGb,CACX;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACD,CAAC;AAEd,CAAC;AAAC8C,GAAA,GAlBIP,UAAU;AAoBhB,MAAMQ,mBAAmB,GAAGA,CAAC;EAAEC,QAAQ;EAAEC,MAAM;EAAEC;AAAK,CAAC,KAAK;EAAAC,GAAA;EACxD,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGhH,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAMiH,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC3B,IAAIF,IAAI,CAACG,IAAI,CAAC,CAAC,IAAIL,IAAI,EAAE;MACrB,IAAI;QACA,MAAMM,mBAAmB,GAAG3F,UAAU,CAACL,EAAE,EAAE,OAAO,EAAE0F,IAAI,CAACO,GAAG,EAAE,QAAQ,CAAC;QACvE,MAAM3F,MAAM,CAAC0F,mBAAmB,EAAE;UAAEJ,IAAI,EAAEA,IAAI,CAACG,IAAI,CAAC;QAAE,CAAC,CAAC;QACxDG,KAAK,CAAC,iCAAiC,CAAC;QACxCV,QAAQ,CAAC,CAAC;MACd,CAAC,CAAC,OAAO/D,KAAK,EAAE;QAAE0E,OAAO,CAAC1E,KAAK,CAAC,SAAS,EAAEA,KAAK,CAAC;QAAEyE,KAAK,CAAC,2BAA2B,CAAC;MAAE;IAC3F;EACJ,CAAC;EACD,oBACIlF,OAAA;IAAKiB,SAAS,EAAC,KAAK;IAAAC,QAAA,gBAChBlB,OAAA;MAAKiB,SAAS,EAAC,oCAAoC;MAAAC,QAAA,gBAC/ClB,OAAA;QAAIiB,SAAS,EAAC,0CAA0C;QAAAC,QAAA,EAAC;MAA2B;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACzFxB,OAAA;QAAKiB,SAAS,EAAC,MAAM;QAAAC,QAAA,gBAAClB,OAAA;UAAOiB,SAAS,EAAC,uCAAuC;UAAAC,QAAA,EAAC;QAAkB;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAAAxB,OAAA;UAAO0B,IAAI,EAAC,MAAM;UAACC,KAAK,EAAEiD,IAAK;UAAChD,QAAQ,EAAGhB,CAAC,IAAKiE,OAAO,CAACjE,CAAC,CAACiB,MAAM,CAACF,KAAK,CAAE;UAACV,SAAS,EAAC;QAAqD;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAC3PxB,OAAA;QAAKiB,SAAS,EAAC,wBAAwB;QAAAC,QAAA,gBAAClB,OAAA;UAAQgC,OAAO,EAAEwC,QAAS;UAACvD,SAAS,EAAC,gEAAgE;UAAAC,QAAA,EAAC;QAAQ;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAAAxB,OAAA;UAAQgC,OAAO,EAAE8C,UAAW;UAAC7D,SAAS,EAAC,sFAAsF;UAAAC,QAAA,gBAAClB,OAAA,CAAC3B,IAAI;YAAC0D,IAAI,EAAE;UAAG;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAC,CAAC,YAAQ;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpU,CAAC,eACNxB,OAAA;MAAKiB,SAAS,EAAC,yCAAyC;MAAAC,QAAA,gBACpDlB,OAAA;QAAIiB,SAAS,EAAC,yCAAyC;QAAAC,QAAA,EAAC;MAAwB;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EACpFiD,MAAM,CAAClB,MAAM,GAAG,CAAC,gBAAIvD,OAAA;QAAIiB,SAAS,EAAC,2BAA2B;QAAAC,QAAA,EAAEuD,MAAM,CAACd,GAAG,CAACyB,KAAK,iBAAIpF,OAAA;UAAmBiB,SAAS,EAAC,qBAAqB;UAAAC,QAAA,EAAEkE,KAAK,CAACR;QAAI,GAArDQ,KAAK,CAACC,EAAE;UAAAhE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAkD,CAAC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,gBAAKxB,OAAA;QAAGiB,SAAS,EAAC,gBAAgB;QAAAC,QAAA,EAAC;MAAgC;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAE;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACvO,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEd,CAAC;AAACmD,GAAA,CAzBIJ,mBAAmB;AAAAe,GAAA,GAAnBf,mBAAmB;AA2BzB,MAAMgB,oBAAoB,GAAGA,CAAC;EAAEf,QAAQ;EAAEC,MAAM;EAAEe,UAAU;EAAEd;AAAK,CAAC,KAAK;EAAAe,GAAA;EACrE,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAG9H,QAAQ,CAAC;IAAEwH,EAAE,EAAE,EAAE;IAAE1C,SAAS,EAAE,EAAE;IAAES,MAAM,EAAE,QAAQ;IAAEwC,MAAM,EAAE,EAAE;IAAEC,SAAS,EAAE,EAAE;IAAEC,YAAY,EAAE,EAAE;IAAEC,OAAO,EAAEtB,MAAM,CAAClB,MAAM,GAAG,CAAC,GAAGkB,MAAM,CAAC,CAAC,CAAC,CAACY,EAAE,GAAG;EAAG,CAAC,CAAC;EAC1K,MAAM,CAACW,SAAS,EAAEC,YAAY,CAAC,GAAGpI,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAMqI,UAAU,GAAGnI,OAAO,CAAC,MAAMmF,mBAAmB,CAACwC,IAAI,CAAC,EAAE,CAACA,IAAI,CAAC/C,SAAS,EAAE+C,IAAI,CAACtC,MAAM,CAAC,CAAC;EAC1F,MAAM+C,YAAY,GAAIvF,CAAC,IAAK;IAAE,MAAM;MAAEgE,IAAI;MAAEjD;IAAM,CAAC,GAAGf,CAAC,CAACiB,MAAM;IAAE8D,OAAO,CAACS,IAAI,KAAK;MAAE,GAAGA,IAAI;MAAE,CAACxB,IAAI,GAAGjD;IAAM,CAAC,CAAC,CAAC;EAAE,CAAC;EAChH,MAAM0E,cAAc,GAAGA,CAAA,KAAM;IACzB,MAAMC,MAAM,GAAGd,UAAU,CAAC7B,GAAG,CAAC4C,CAAC,IAAIA,CAAC,CAACC,QAAQ,CAACxF,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC,CAACyF,MAAM,CAACpB,EAAE,IAAIA,EAAE,CAACqB,UAAU,CAAC,MAAM,CAAC,CAAC;IACxG,MAAMC,SAAS,GAAGL,MAAM,CAAC/C,MAAM,GAAG,CAAC,GAAGE,IAAI,CAACC,GAAG,CAAC,GAAG4C,MAAM,CAAC3C,GAAG,CAAC0B,EAAE,IAAIuB,QAAQ,CAACvB,EAAE,CAACwB,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;IACnG,OAAO,OAAOC,MAAM,CAACH,SAAS,GAAG,CAAC,CAAC,CAACI,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE;EAC1D,CAAC;EACD,MAAMjC,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC3B,MAAMkC,OAAO,GAAGhB,SAAS,GAAGK,cAAc,CAAC,CAAC,GAAGX,IAAI,CAACL,EAAE,CAACN,IAAI,CAAC,CAAC;IAC7D,IAAI,CAACiC,OAAO,IAAI,CAACtB,IAAI,CAAC/C,SAAS,IAAI,CAAC+C,IAAI,CAACE,MAAM,IAAI,CAACF,IAAI,CAACK,OAAO,EAAE;MAAEb,KAAK,CAAC,oDAAoD,CAAC;MAAE;IAAQ;IACzI,IAAI,CAACc,SAAS,IAAIR,UAAU,CAACyB,IAAI,CAACV,CAAC,IAAIA,CAAC,CAACC,QAAQ,CAACU,WAAW,CAAC,CAAC,KAAKF,OAAO,CAACE,WAAW,CAAC,CAAC,CAAC,EAAE;MAAEhC,KAAK,CAAC,+CAA+C,CAAC;MAAE;IAAQ;IAC9J,IAAIR,IAAI,EAAE;MACN,IAAI;QACA,MAAMyC,mBAAmB,GAAG9H,UAAU,CAACL,EAAE,EAAE,OAAO,EAAE0F,IAAI,CAACO,GAAG,EAAE,QAAQ,CAAC;QACvE,MAAM3F,MAAM,CAAC6H,mBAAmB,EAAE;UAAE,GAAGzB,IAAI;UAAEc,QAAQ,EAAEQ,OAAO;UAAEI,MAAM,EAAE,MAAM;UAAE9D,SAAS,EAAE,EAAE;UAAEsC,MAAM,EAAEyB,UAAU,CAAC3B,IAAI,CAACE,MAAM,CAAC;UAAE0B,SAAS,EAAE,IAAIzE,IAAI,CAAC;QAAE,CAAC,CAAC;QACxJqC,KAAK,CAAC,yBAAyB,CAAC;QAChCV,QAAQ,CAAC,CAAC;MACd,CAAC,CAAC,OAAO/D,KAAK,EAAE;QAAE0E,OAAO,CAAC1E,KAAK,CAAC,SAAS,EAAEA,KAAK,CAAC;QAAEyE,KAAK,CAAC,2BAA2B,CAAC;MAAE;IAC3F;EACJ,CAAC;EACD,oBACIlF,OAAA;IAAKiB,SAAS,EAAC,KAAK;IAAAC,QAAA,eAAClB,OAAA;MAAKiB,SAAS,EAAC,oCAAoC;MAAAC,QAAA,gBAAClB,OAAA;QAAIiB,SAAS,EAAC,0CAA0C;QAAAC,QAAA,EAAC;MAAmB;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAAAxB,OAAA;QAAKiB,SAAS,EAAC,uCAAuC;QAAAC,QAAA,gBAAClB,OAAA;UAAAkB,QAAA,gBAAKlB,OAAA;YAAOiB,SAAS,EAAC,uCAAuC;YAAAC,QAAA,EAAC;UAAwB;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAAAxB,OAAA;YAAKiB,SAAS,EAAC,yBAAyB;YAAAC,QAAA,gBAAClB,OAAA;cAAO0B,IAAI,EAAC,MAAM;cAACkD,IAAI,EAAC,IAAI;cAACjD,KAAK,EAAEqE,SAAS,GAAGK,cAAc,CAAC,CAAC,GAAGX,IAAI,CAACL,EAAG;cAACzD,QAAQ,EAAEuE,YAAa;cAACoB,QAAQ,EAAEvB,SAAU;cAAC/E,SAAS,EAAC;YAA2E;cAAAI,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eAAAxB,OAAA;cAAQgC,OAAO,EAAEA,CAAA,KAAMiE,YAAY,CAAC,CAACD,SAAS,CAAE;cAAC/E,SAAS,EAAE,wDAAwD+E,SAAS,GAAG,2BAA2B,GAAG,cAAc,EAAG;cAAA9E,QAAA,EAAC;YAAI;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eAAAxB,OAAA;UAAAkB,QAAA,gBAAKlB,OAAA;YAAOiB,SAAS,EAAC,uCAAuC;YAAAC,QAAA,EAAC;UAAmB;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAAAxB,OAAA;YAAO0B,IAAI,EAAC,MAAM;YAACkD,IAAI,EAAC,WAAW;YAACjD,KAAK,EAAE+D,IAAI,CAAC/C,SAAU;YAACf,QAAQ,EAAEuE,YAAa;YAAClF,SAAS,EAAC;UAAqD;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eAAAxB,OAAA;UAAAkB,QAAA,gBAAKlB,OAAA;YAAOiB,SAAS,EAAC,uCAAuC;YAAAC,QAAA,EAAC;UAAM;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAAAxB,OAAA;YAAQ4E,IAAI,EAAC,QAAQ;YAACjD,KAAK,EAAE+D,IAAI,CAACtC,MAAO;YAACxB,QAAQ,EAAEuE,YAAa;YAAClF,SAAS,EAAC,8DAA8D;YAAAC,QAAA,gBAAClB,OAAA;cAAQ2B,KAAK,EAAC,QAAQ;cAAAT,QAAA,EAAC;YAAM;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eAAAxB,OAAA;cAAQ2B,KAAK,EAAC,OAAO;cAAAT,QAAA,EAAC;YAAK;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eAAAxB,OAAA;UAAAkB,QAAA,gBAAKlB,OAAA;YAAOiB,SAAS,EAAC,uCAAuC;YAAAC,QAAA,EAAC;UAAS;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAAAxB,OAAA;YAAO0B,IAAI,EAAC,QAAQ;YAACkD,IAAI,EAAC,QAAQ;YAACjD,KAAK,EAAE+D,IAAI,CAACE,MAAO;YAAChE,QAAQ,EAAEuE,YAAa;YAAClF,SAAS,EAAC;UAAqD;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eAAAxB,OAAA;UAAAkB,QAAA,gBAAKlB,OAAA;YAAOiB,SAAS,EAAC,uCAAuC;YAAAC,QAAA,EAAC;UAAoB;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAAAxB,OAAA;YAAO0B,IAAI,EAAC,MAAM;YAACkD,IAAI,EAAC,WAAW;YAACjD,KAAK,EAAE+D,IAAI,CAACG,SAAU;YAACjE,QAAQ,EAAEuE,YAAa;YAAClF,SAAS,EAAC;UAAqD;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eAAAxB,OAAA;UAAAkB,QAAA,gBAAKlB,OAAA;YAAOiB,SAAS,EAAC,uCAAuC;YAAAC,QAAA,EAAC;UAAwB;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAAAxB,OAAA;YAAO0B,IAAI,EAAC,MAAM;YAACC,KAAK,EAAEuE,UAAW;YAACqB,QAAQ;YAACtG,SAAS,EAAC;UAAkE;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eAAAxB,OAAA;UAAKiB,SAAS,EAAC,eAAe;UAAAC,QAAA,gBAAClB,OAAA;YAAOiB,SAAS,EAAC,uCAAuC;YAAAC,QAAA,EAAC;UAAe;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAAAxB,OAAA;YAAO0B,IAAI,EAAC,MAAM;YAACkD,IAAI,EAAC,cAAc;YAACjD,KAAK,EAAE+D,IAAI,CAACI,YAAa;YAAClE,QAAQ,EAAEuE,YAAa;YAAClF,SAAS,EAAC;UAAqD;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eAAAxB,OAAA;UAAKiB,SAAS,EAAC,eAAe;UAAAC,QAAA,gBAAClB,OAAA;YAAOiB,SAAS,EAAC,uCAAuC;YAAAC,QAAA,EAAC;UAAW;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAAAxB,OAAA;YAAQ4E,IAAI,EAAC,SAAS;YAACjD,KAAK,EAAE+D,IAAI,CAACK,OAAQ;YAACnE,QAAQ,EAAEuE,YAAa;YAAClF,SAAS,EAAC,8DAA8D;YAACsG,QAAQ,EAAE9C,MAAM,CAAClB,MAAM,KAAK,CAAE;YAAArC,QAAA,EAAEuD,MAAM,CAAClB,MAAM,GAAG,CAAC,GAAGkB,MAAM,CAACd,GAAG,CAACC,CAAC,iBAAI5D,OAAA;cAAmB2B,KAAK,EAAEiC,CAAC,CAACyB,EAAG;cAAAnE,QAAA,EAAE0C,CAAC,CAACgB;YAAI,GAA1BhB,CAAC,CAACyB,EAAE;cAAAhE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAA+B,CAAC,CAAC,gBAAGxB,OAAA;cAAAkB,QAAA,EAAQ;YAA+B;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAS,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAAAxB,OAAA;QAAKiB,SAAS,EAAC,6BAA6B;QAAAC,QAAA,gBAAClB,OAAA;UAAQgC,OAAO,EAAEwC,QAAS;UAACvD,SAAS,EAAC,gEAAgE;UAAAC,QAAA,EAAC;QAAQ;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAAAxB,OAAA;UAAQgC,OAAO,EAAE8C,UAAW;UAAC7D,SAAS,EAAC,sFAAsF;UAAAC,QAAA,gBAAClB,OAAA,CAAC3B,IAAI;YAAC0D,IAAI,EAAE;UAAG;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAC,CAAC,YAAQ;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK,CAAC;AAEx/F,CAAC;AAACiE,GAAA,CA1BIF,oBAAoB;AAAAiC,GAAA,GAApBjC,oBAAoB;AA4B1B,MAAMkC,kBAAkB,GAAGA,CAAC;EAAEjD,QAAQ;EAAEgB,UAAU;EAAEf,MAAM;EAAEC;AAAK,CAAC,KAAK;EAAAgD,GAAA;EACnE,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAG/J,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACgK,cAAc,EAAEC,iBAAiB,CAAC,GAAGjK,QAAQ,CAAC,IAAI,CAAC;EAC1D,MAAM,CAAC6H,IAAI,EAAEC,OAAO,CAAC,GAAG9H,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACkK,KAAK,EAAEC,QAAQ,CAAC,GAAGnK,QAAQ,CAAC;IAAEoK,MAAM,EAAE,KAAK;IAAEvG,IAAI,EAAE,IAAI;IAAEwG,IAAI,EAAE;EAAK,CAAC,CAAC;EAC7E,MAAMC,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC7B,MAAMC,CAAC,GAAG5I,KAAK,CAACH,UAAU,CAACL,EAAE,EAAE,OAAO,EAAE0F,IAAI,CAACO,GAAG,EAAE,QAAQ,CAAC,EAAEpF,KAAK,CAAC,UAAU,EAAE,IAAI,EAAE8H,UAAU,CAAC5C,IAAI,CAAC,CAAC,CAACmC,WAAW,CAAC,CAAC,CAAC,CAAC;IACtH,MAAMmB,aAAa,GAAG,MAAMvI,OAAO,CAACsI,CAAC,CAAC;IACtC,IAAI,CAACC,aAAa,CAACC,KAAK,EAAE;MACtB,MAAM7I,GAAG,GAAG4I,aAAa,CAACE,IAAI,CAAC,CAAC,CAAC;MACjC,MAAMC,WAAW,GAAG;QAAE,GAAG/I,GAAG,CAACyI,IAAI,CAAC,CAAC;QAAEO,KAAK,EAAEhJ,GAAG,CAAC4F;MAAG,CAAC;MACpDyC,iBAAiB,CAACU,WAAW,CAAC;MAC9B7C,OAAO,CAAC6C,WAAW,CAAC;IACxB,CAAC,MAAM;MAAEtD,KAAK,CAAC,8CAA8C,CAAC;MAAE4C,iBAAiB,CAAC,IAAI,CAAC;MAAEnC,OAAO,CAAC,IAAI,CAAC;IAAE;EAC5G,CAAC;EACD,MAAM+C,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC7B,MAAMC,YAAY,GAAGlJ,GAAG,CAACT,EAAE,EAAE,OAAO,EAAE0F,IAAI,CAACO,GAAG,EAAE,QAAQ,EAAE4C,cAAc,CAACY,KAAK,CAAC;IAC/E,MAAM/I,SAAS,CAACiJ,YAAY,EAAEjD,IAAI,CAAC;IACnCR,KAAK,CAAC,mCAAmC,CAAC;IAC1CV,QAAQ,CAAC,CAAC;EACd,CAAC;EACD,MAAMoE,kBAAkB,GAAG,MAAAA,CAAOC,SAAS,EAAEC,IAAI,KAAK;IAClD,MAAMC,KAAK,GAAGnJ,UAAU,CAACZ,EAAE,CAAC;IAC5B,MAAMgK,SAAS,GAAGvJ,GAAG,CAACT,EAAE,EAAE,OAAO,EAAE0F,IAAI,CAACO,GAAG,EAAE,QAAQ,EAAE4C,cAAc,CAACY,KAAK,CAAC;IAC5E,MAAMQ,SAAS,GAAGxJ,GAAG,CAACJ,UAAU,CAACL,EAAE,EAAE,OAAO,EAAE0F,IAAI,CAACO,GAAG,EAAE,oBAAoB,CAAC,CAAC;IAC9E,MAAMiE,WAAW,GAAG,GAAGL,SAAS,KAAK,SAAS,GAAG,GAAG,GAAG,GAAG,IAAIhB,cAAc,CAACrB,QAAQ,EAAE;IACvF,MAAM2C,WAAW,GAAG;MAAE,GAAGtB,cAAc;MAAE,GAAGnC,IAAI;MAAE0B,MAAM,EAAEyB,SAAS;MAAEO,gBAAgB,EAAEN,IAAI;MAAEtC,QAAQ,EAAE0C,WAAW;MAAEG,aAAa,EAAExB,cAAc,CAACY;IAAM,CAAC;IACzJ,OAAOU,WAAW,CAACV,KAAK,CAAC,CAAC;IAC1BM,KAAK,CAACO,GAAG,CAACL,SAAS,EAAEE,WAAW,CAAC;IACjCJ,KAAK,CAACQ,MAAM,CAACP,SAAS,CAAC;IACvB,MAAMD,KAAK,CAACS,MAAM,CAAC,CAAC;IACpBtE,KAAK,CAAC,6CAA6C2D,SAAS,GAAG,CAAC;IAChErE,QAAQ,CAAC,CAAC;EACd,CAAC;EACD;EACA,oBACIxE,OAAA;IAAKiB,SAAS,EAAC,KAAK;IAAAC,QAAA,gBAChBlB,OAAA;MAAKiB,SAAS,EAAC,yCAAyC;MAAAC,QAAA,gBACpDlB,OAAA;QAAIiB,SAAS,EAAC,0CAA0C;QAAAC,QAAA,EAAC;MAAc;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC5ExB,OAAA;QAAKiB,SAAS,EAAC,YAAY;QAAAC,QAAA,gBACvBlB,OAAA;UAAO0B,IAAI,EAAC,MAAM;UAACC,KAAK,EAAEgG,UAAW;UAAC/F,QAAQ,EAAGhB,CAAC,IAAKgH,aAAa,CAAChH,CAAC,CAACiB,MAAM,CAACF,KAAK,CAAE;UAAC8H,WAAW,EAAC,yBAAsB;UAACxI,SAAS,EAAC;QAAoC;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAC1KxB,OAAA;UAAQgC,OAAO,EAAEmG,YAAa;UAAClH,SAAS,EAAC,8DAA8D;UAAAC,QAAA,eAAClB,OAAA,CAAC9B,MAAM;YAAC6D,IAAI,EAAE;UAAG;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAC;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,EACLqG,cAAc,IAAInC,IAAI,iBACnB1F,OAAA;MAAKiB,SAAS,EAAC,oCAAoC;MAAAC,QAAA,gBAE/ClB,OAAA;QAAAkB,QAAA,GAAG,YAAU,EAACwE,IAAI,CAACc,QAAQ;MAAA;QAAAnF,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAEhCxB,OAAA;QAAKiB,SAAS,EAAC,6BAA6B;QAAAC,QAAA,gBACxClB,OAAA;UAAQgC,OAAO,EAAEwC,QAAS;UAACvD,SAAS,EAAC,mCAAmC;UAAAC,QAAA,EAAC;QAAQ;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAC1FxB,OAAA;UAAQgC,OAAO,EAAE0G,YAAa;UAACzH,SAAS,EAAC,gDAAgD;UAAAC,QAAA,EAAC;QAAU;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5G,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CACR;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACA,CAAC;AAEd,CAAC;AAACkG,GAAA,CAzDID,kBAAkB;AAAAiC,GAAA,GAAlBjC,kBAAkB;AA2DxB,MAAMkC,aAAa,GAAGA,CAAC;EAAEnE,UAAU;EAAEf,MAAM;EAAEmF;AAAiB,CAAC,KAAK;EAChE;EACA,oBAAO5J,OAAA;IAAKiB,SAAS,EAAC,KAAK;IAAAC,QAAA,eAAClB,OAAA;MAAKiB,SAAS,EAAC,oCAAoC;MAAAC,QAAA,eAAClB,OAAA;QAAIiB,SAAS,EAAC,0CAA0C;QAAAC,QAAA,EAAC;MAAmB;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAgC;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK,CAAC;AAC5M,CAAC;AAACqI,GAAA,GAHIF,aAAa;AAKnB,MAAMG,wBAAwB,GAAGA,CAAC;EAAEtF,QAAQ;EAAEuF,UAAU;EAAErF;AAAK,CAAC,KAAK;EAAAsF,GAAA;EACjE,MAAM,CAACtE,IAAI,EAAEC,OAAO,CAAC,GAAG9H,QAAQ,CAAC;IAAEiL,IAAI,EAAE,EAAE;IAAE1B,MAAM,EAAE,UAAU;IAAE6C,YAAY,EAAE;EAAG,CAAC,CAAC;EACpF,MAAMnF,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC3B,IAAIY,IAAI,CAACoD,IAAI,IAAIpD,IAAI,CAACuE,YAAY,IAAIvF,IAAI,EAAE;MACxC,IAAI;QACA,MAAMwF,uBAAuB,GAAG7K,UAAU,CAACL,EAAE,EAAE,OAAO,EAAE0F,IAAI,CAACO,GAAG,EAAE,YAAY,CAAC;QAC/E,MAAM3F,MAAM,CAAC4K,uBAAuB,EAAE;UAAE,GAAGxE,IAAI;UAAE4B,SAAS,EAAE,IAAIzE,IAAI,CAAC;QAAE,CAAC,CAAC;QACzEqC,KAAK,CAAC,+BAA+B,CAAC;QACtCS,OAAO,CAAC;UAAEmD,IAAI,EAAE,EAAE;UAAE1B,MAAM,EAAE,UAAU;UAAE6C,YAAY,EAAE;QAAG,CAAC,CAAC;MAC/D,CAAC,CAAC,OAAOxJ,KAAK,EAAE;QAAE0E,OAAO,CAAC1E,KAAK,CAAC,SAAS,EAAEA,KAAK,CAAC;QAAEyE,KAAK,CAAC,2BAA2B,CAAC;MAAE;IAC3F;EACJ,CAAC;EACD,oBACIlF,OAAA;IAAKiB,SAAS,EAAC,KAAK;IAAAC,QAAA,eAAClB,OAAA;MAAKiB,SAAS,EAAC,oCAAoC;MAAAC,QAAA,gBACpElB,OAAA;QAAIiB,SAAS,EAAC,0CAA0C;QAAAC,QAAA,EAAC;MAAiB;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAE/ExB,OAAA;QAAKiB,SAAS,EAAC,6BAA6B;QAAAC,QAAA,gBAAClB,OAAA;UAAQgC,OAAO,EAAEwC,QAAS;UAACvD,SAAS,EAAC,mCAAmC;UAAAC,QAAA,EAAC;QAAM;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAAAxB,OAAA;UAAQgC,OAAO,EAAE8C,UAAW;UAAC7D,SAAS,EAAC,gDAAgD;UAAAC,QAAA,EAAC;QAAO;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACnPxB,OAAA;QAAIiB,SAAS,EAAC,yCAAyC;QAAAC,QAAA,EAAC;MAAqB;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAEjF;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK,CAAC;AAEpB,CAAC;;AAGD;AAAAwI,GAAA,CAxBMF,wBAAwB;AAAAK,GAAA,GAAxBL,wBAAwB;AAyB9B,eAAe,SAASM,GAAGA,CAAA,EAAG;EAAAC,GAAA;EAC1B,MAAM,CAAC3F,IAAI,EAAE4F,OAAO,CAAC,GAAGzM,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAAC0M,OAAO,EAAEC,UAAU,CAAC,GAAG3M,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAAC4M,WAAW,EAAEC,cAAc,CAAC,GAAG7M,QAAQ,CAAC,MAAM,CAAC;EACtD,MAAM,CAAC4G,MAAM,EAAEkG,SAAS,CAAC,GAAG9M,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAAC2H,UAAU,EAAEoF,aAAa,CAAC,GAAG/M,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAAC+L,gBAAgB,EAAEiB,mBAAmB,CAAC,GAAGhN,QAAQ,CAAC,EAAE,CAAC;EAC5D,MAAM,CAACkM,UAAU,EAAEe,aAAa,CAAC,GAAGjN,QAAQ,CAAC,EAAE,CAAC;EAEhDC,SAAS,CAAC,MAAM;IACZ,MAAMiN,WAAW,GAAG9L,kBAAkB,CAACF,IAAI,EAAGiM,WAAW,IAAK;MAC1DV,OAAO,CAACU,WAAW,CAAC;MAAER,UAAU,CAAC,KAAK,CAAC;MACvC,IAAGQ,WAAW,EAAE;QAAEN,cAAc,CAAC,MAAM,CAAC;MAAE;IAC9C,CAAC,CAAC;IACF,OAAO,MAAMK,WAAW,CAAC,CAAC;EAC9B,CAAC,EAAE,EAAE,CAAC;EAENjN,SAAS,CAAC,MAAM;IACZ,IAAI4G,IAAI,EAAE;MACN,MAAMuG,WAAW,GAAG,CAAC,QAAQ,EAAE,QAAQ,EAAE,oBAAoB,EAAE,YAAY,CAAC;MAC5E,MAAMC,OAAO,GAAG,CAACP,SAAS,EAAEC,aAAa,EAAEC,mBAAmB,EAAEC,aAAa,CAAC;MAC9E,MAAMK,YAAY,GAAGF,WAAW,CAACtH,GAAG,CAAC,CAACyH,GAAG,EAAEC,KAAK,KAAK;QACjD,MAAMjD,CAAC,GAAG5I,KAAK,CAACH,UAAU,CAACL,EAAE,EAAE,OAAO,EAAE0F,IAAI,CAACO,GAAG,EAAEmG,GAAG,CAAC,CAAC;QACvD,OAAO7L,UAAU,CAAC6I,CAAC,EAAGC,aAAa,IAAK;UACpC,MAAMH,IAAI,GAAG,EAAE;UACfG,aAAa,CAACiD,OAAO,CAAE7L,GAAG,IAAK;YAAEyI,IAAI,CAACqD,IAAI,CAAC;cAAE,GAAG9L,GAAG,CAACyI,IAAI,CAAC,CAAC;cAAEO,KAAK,EAAEhJ,GAAG,CAAC4F;YAAG,CAAC,CAAC;UAAE,CAAC,CAAC;UAChF6F,OAAO,CAACG,KAAK,CAAC,CAACnD,IAAI,CAAC;QACxB,CAAC,CAAC;MACN,CAAC,CAAC;MACF,OAAO,MAAMiD,YAAY,CAACG,OAAO,CAACE,KAAK,IAAIA,KAAK,CAAC,CAAC,CAAC;IACvD,CAAC,MAAM;MACHb,SAAS,CAAC,EAAE,CAAC;MAAEC,aAAa,CAAC,EAAE,CAAC;MAAEC,mBAAmB,CAAC,EAAE,CAAC;MAAEC,aAAa,CAAC,EAAE,CAAC;IAChF;EACJ,CAAC,EAAE,CAACpG,IAAI,CAAC,CAAC;EAEV,IAAI6F,OAAO,EAAE;IAAE,oBAAOvK,OAAA;MAAAkB,QAAA,EAAK;IAAW;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EAAE;EAC9C,IAAI,CAACkD,IAAI,EAAE;IAAE,oBAAO1E,OAAA,CAACC,UAAU;MAAAoB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAE;EAEpC,MAAMiK,UAAU,GAAGA,CAAA,KAAM;IACrB,QAAQhB,WAAW;MACf,KAAK,eAAe;QAAE,oBAAOzK,OAAA,CAACuE,mBAAmB;UAACC,QAAQ,EAAEA,CAAA,KAAMkG,cAAc,CAAC,MAAM,CAAE;UAACjG,MAAM,EAAEA,MAAO;UAACC,IAAI,EAAEA;QAAK;UAAArD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MACxH,KAAK,gBAAgB;QAAE,oBAAOxB,OAAA,CAACuF,oBAAoB;UAACf,QAAQ,EAAEA,CAAA,KAAMkG,cAAc,CAAC,MAAM,CAAE;UAACjG,MAAM,EAAEA,MAAO;UAACe,UAAU,EAAEA,UAAW;UAACd,IAAI,EAAEA;QAAK;UAAArD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAClJ,KAAK,cAAc;QAAE,oBAAOxB,OAAA,CAACyH,kBAAkB;UAACjD,QAAQ,EAAEA,CAAA,KAAMkG,cAAc,CAAC,MAAM,CAAE;UAAClF,UAAU,EAAEA,UAAW;UAACf,MAAM,EAAEA,MAAO;UAACC,IAAI,EAAEA;QAAK;UAAArD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAC9I,KAAK,SAAS;QAAE,oBAAOxB,OAAA,CAAC2J,aAAa;UAACnE,UAAU,EAAEA,UAAW;UAACf,MAAM,EAAEA,MAAO;UAACmF,gBAAgB,EAAEA;QAAiB;UAAAvI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MACpH,KAAK,YAAY;QAAE,oBAAOxB,OAAA,CAAC8J,wBAAwB;UAACtF,QAAQ,EAAEA,CAAA,KAAMkG,cAAc,CAAC,MAAM,CAAE;UAACX,UAAU,EAAEA,UAAW;UAACrF,IAAI,EAAEA;QAAK;UAAArD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAClI,KAAK,MAAM;MAAE;QAAS,oBAAOxB,OAAA,CAAC+D,UAAU;UAACC,QAAQ,EAAE0G;QAAe;UAAArJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;IACzE;EACJ,CAAC;EAED,oBACIxB,OAAA;IAAKiB,SAAS,EAAC,qCAAqC;IAAAC,QAAA,gBAChDlB,OAAA,CAACsC,MAAM;MAACF,KAAK,EAAC,gBAAgB;MAACG,WAAW,EAAEA,CAAA,KAAM,CAAC;IAAE;MAAAlB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACxDxB,OAAA;MAAAkB,QAAA,EAAOuK,UAAU,CAAC;IAAC;MAAApK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAO,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC1B,CAAC;AAEd;AAAC6I,GAAA,CAvDuBD,GAAG;AAAAsB,GAAA,GAAHtB,GAAG;AAAA,IAAAnI,EAAA,EAAAI,GAAA,EAAAI,GAAA,EAAA6B,GAAA,EAAAgB,GAAA,EAAAkC,GAAA,EAAAkC,GAAA,EAAAG,GAAA,EAAAM,GAAA,EAAAuB,GAAA;AAAAC,YAAA,CAAA1J,EAAA;AAAA0J,YAAA,CAAAtJ,GAAA;AAAAsJ,YAAA,CAAAlJ,GAAA;AAAAkJ,YAAA,CAAArH,GAAA;AAAAqH,YAAA,CAAArG,GAAA;AAAAqG,YAAA,CAAAnE,GAAA;AAAAmE,YAAA,CAAAjC,GAAA;AAAAiC,YAAA,CAAA9B,GAAA;AAAA8B,YAAA,CAAAxB,GAAA;AAAAwB,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}