{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alezv\\\\Desktop\\\\App\\\\React\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s6 = $RefreshSig$(),\n  _s7 = $RefreshSig$(),\n  _s8 = $RefreshSig$();\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { Plus, Edit, Search, Menu, X, Save, FileText, Users, Activity, Home, LogOut, UserPlus, LogIn, Shield, Trash2 } from 'lucide-react';\n\n// Importa los servicios de Firebase desde tu archivo de configuración\nimport { auth, db, storage } from './firebase';\nimport { onAuthStateChanged, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from \"firebase/auth\";\nimport { collection, addDoc, onSnapshot, query, doc, updateDoc, writeBatch, where, getDocs, deleteDoc, serverTimestamp } from \"firebase/firestore\";\nimport { ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\n\n// --- CONFIGURACIÓN DE ADMINISTRADOR ---\n// TODO: Añade aquí los correos de los usuarios que serán administradores.\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ADMIN_EMAILS = [\"admin@example.com\", \"alezvalopz@gmail.com\"];\n\n// --- Pantalla de Autenticación (Login y Registro) ---\nconst AuthScreen = () => {\n  _s();\n  const [isLogin, setIsLogin] = useState(true);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const handleAuth = async e => {\n    e.preventDefault();\n    setError('');\n    try {\n      if (isLogin) {\n        await signInWithEmailAndPassword(auth, email, password);\n      } else {\n        const userCredential = await createUserWithEmailAndPassword(auth, email, password);\n        const usersCollectionRef = collection(db, 'users_public_info');\n        await addDoc(usersCollectionRef, {\n          uid: userCredential.user.uid,\n          email: userCredential.user.email\n        });\n      }\n    } catch (err) {\n      setError(\"Error: \" + err.message.replace('Firebase: ', ''));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-stone-100 flex flex-col justify-center items-center p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full max-w-md bg-white rounded-2xl shadow-xl p-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center mb-6\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"http://googleusercontent.com/file_content/2\",\n          alt: \"Logo\",\n          className: \"h-20 w-20\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 51\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-3xl font-bold text-center text-emerald-800 mb-2\",\n        children: isLogin ? 'Iniciar Sesión' : 'Crear Cuenta'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-center text-stone-500 mb-8\",\n        children: \"Bienvenido a Finca Moreno Z\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleAuth,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-stone-700 font-medium mb-2\",\n            children: \"Correo Electr\\xF3nico\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            value: email,\n            onChange: e => setEmail(e.target.value),\n            className: \"w-full px-4 py-3 border border-stone-300 rounded-lg\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 116\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-stone-700 font-medium mb-2\",\n            children: \"Contrase\\xF1a\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            value: password,\n            onChange: e => setPassword(e.target.value),\n            className: \"w-full px-4 py-3 border border-stone-300 rounded-lg\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 108\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-500 text-sm mb-4\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"w-full bg-emerald-600 text-white font-bold py-3 rounded-lg hover:bg-emerald-700 transition-colors flex items-center justify-center gap-2\",\n          children: [isLogin ? /*#__PURE__*/_jsxDEV(LogIn, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 193\n          }, this) : /*#__PURE__*/_jsxDEV(UserPlus, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 215\n          }, this), isLogin ? 'Ingresar' : 'Registrarse']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6 text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setIsLogin(!isLogin),\n          className: \"text-emerald-600 hover:underline\",\n          children: isLogin ? '¿No tienes una cuenta? Regístrate' : '¿Ya tienes una cuenta? Inicia sesión'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 43\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n\n// --- Componentes de la UI (Reutilizados) ---\n_s(AuthScreen, \"DLymbcnx0Zs0Cek/m6zME3DDhKs=\");\n_c = AuthScreen;\nconst Modal = ({\n  children,\n  onClose,\n  title\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4\",\n  children: /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-2xl shadow-2xl w-full max-w-md m-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center p-4 border-b border-stone-200\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-bold text-emerald-800\",\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 296\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClose,\n        className: \"text-stone-400 hover:text-stone-600\",\n        children: /*#__PURE__*/_jsxDEV(X, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 433\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 359\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 215\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-6\",\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 463\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 146\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 63,\n  columnNumber: 50\n}, this);\n_c2 = Modal;\nconst Header = ({\n  title,\n  onMenuClick\n}) => {\n  const handleLogout = () => {\n    signOut(auth);\n  };\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    className: \"bg-emerald-800 text-white p-4 shadow-lg flex items-center justify-between sticky top-0 z-40\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onMenuClick,\n        className: \"mr-4 p-2 rounded-full hover:bg-emerald-700\",\n        children: /*#__PURE__*/_jsxDEV(Menu, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 243\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 158\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"http://googleusercontent.com/file_content/2\",\n        alt: \"Logo\",\n        className: \"h-10 w-10 rounded-full bg-white p-1 object-contain\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 270\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold ml-4 tracking-wider\",\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 401\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 123\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleLogout,\n      className: \"flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-emerald-700 font-semibold\",\n      children: [/*#__PURE__*/_jsxDEV(LogOut, {\n        size: 18\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 597\n      }, this), \" Salir\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 474\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 11\n  }, this);\n};\n_c3 = Header;\nconst SideMenu = ({\n  isOpen,\n  onClose,\n  navigate,\n  isAdmin\n}) => {\n  const menuItems = [{\n    name: 'Inicio',\n    page: 'home',\n    icon: /*#__PURE__*/_jsxDEV(Home, {\n      size: 20\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 47\n    }, this),\n    adminOnly: false\n  }, {\n    name: 'Registrar Res',\n    page: 'registerCattle',\n    icon: /*#__PURE__*/_jsxDEV(Plus, {\n      size: 20\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 64\n    }, this),\n    adminOnly: false\n  }, {\n    name: 'Actualizar Res',\n    page: 'updateCattle',\n    icon: /*#__PURE__*/_jsxDEV(Edit, {\n      size: 20\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 63\n    }, this),\n    adminOnly: false\n  }, {\n    name: 'Consultar',\n    page: 'consult',\n    icon: /*#__PURE__*/_jsxDEV(FileText, {\n      size: 20\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 53\n    }, this),\n    adminOnly: false\n  }, {\n    name: 'Actividades',\n    page: 'activities',\n    icon: /*#__PURE__*/_jsxDEV(Activity, {\n      size: 20\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 58\n    }, this),\n    adminOnly: false\n  }, {\n    name: 'Propietarios',\n    page: 'registerOwner',\n    icon: /*#__PURE__*/_jsxDEV(Users, {\n      size: 20\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 62\n    }, this),\n    adminOnly: false\n  }, {\n    name: 'Panel de Admin',\n    page: 'admin',\n    icon: /*#__PURE__*/_jsxDEV(Shield, {\n      size: 20\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 56\n    }, this),\n    adminOnly: true\n  }];\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `fixed inset-0 bg-black bg-opacity-50 z-40 transition-opacity ${isOpen ? 'opacity-100' : 'opacity-0 pointer-events-none'}`,\n      onClick: onClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `fixed top-0 left-0 h-full bg-white w-72 shadow-xl z-50 transform transition-transform ${isOpen ? 'translate-x-0' : '-translate-x-full'}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-b flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-bold text-emerald-800\",\n          children: \"Men\\xFA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 398\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"text-stone-500 hover:text-stone-800\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 532\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 458\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 334\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: menuItems.map(item => (!item.adminOnly || isAdmin) && /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                navigate(item.page);\n                onClose();\n              },\n              className: \"w-full text-left flex items-center gap-3 px-4 py-3 rounded-lg text-stone-700 hover:bg-emerald-50 hover:text-emerald-800 font-medium transition-all\",\n              children: [item.icon, item.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 663\n            }, this)\n          }, item.page, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 643\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 583\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 562\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 179\n    }, this)]\n  }, void 0, true);\n};\n\n// --- Lógica de Negocio ---\n_c4 = SideMenu;\nconst calculateAgeInMonths = birthDate => {\n  if (!birthDate) return 0;\n  const today = new Date();\n  const birth = new Date(birthDate);\n  let months = (today.getFullYear() - birth.getFullYear()) * 12;\n  months -= birth.getMonth();\n  months += today.getMonth();\n  return months <= 0 ? 0 : months;\n};\nconst determineCattleType = cattle => {\n  if (!cattle || !cattle.birthDate || !cattle.gender) return 'N/A';\n  const ageInMonths = calculateAgeInMonths(cattle.birthDate);\n  if (ageInMonths <= 12) return 'Ternero/a';\n  if (cattle.gender === 'Hembra') {\n    if (cattle.offspring && cattle.offspring.length > 0) {\n      const lastParto = new Date(Math.max(...cattle.offspring.map(o => new Date(o.birthDate))));\n      const monthsSinceParto = calculateAgeInMonths(lastParto);\n      return monthsSinceParto <= 12 ? 'Vaca Parida' : 'Vaca Horra';\n    }\n    return ageInMonths <= 24 ? 'Novilla' : 'Vaca';\n  }\n  if (cattle.gender === 'Macho') {\n    if (ageInMonths <= 24) return 'Levante';\n    if (cattle.isCastrated === true) return 'Macho de Engorde';\n    if (cattle.isCastrated === false) return 'Toro';\n    return 'Macho Adulto';\n  }\n  return 'Desconocido';\n};\n\n// --- Pantallas de la Aplicación ---\nconst HomeScreen = ({\n  navigate\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"grid grid-cols-2 gap-6 p-6\",\n    children: [{\n      label: 'Registro de Res',\n      page: 'registerCattle',\n      icon: /*#__PURE__*/_jsxDEV(Plus, {\n        className: \"w-12 h-12\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 152\n      }, this)\n    }, {\n      label: 'Actualización de Res',\n      page: 'updateCattle',\n      icon: /*#__PURE__*/_jsxDEV(Edit, {\n        className: \"w-12 h-12\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 246\n      }, this)\n    }, {\n      label: 'Consultar',\n      page: 'consult',\n      icon: /*#__PURE__*/_jsxDEV(FileText, {\n        className: \"w-12 h-12\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 324\n      }, this)\n    }, {\n      label: 'Registro de Actividades',\n      page: 'activities',\n      icon: /*#__PURE__*/_jsxDEV(Activity, {\n        className: \"w-12 h-12\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 423\n      }, this)\n    }, {\n      label: 'Registrar Propietarios',\n      page: 'registerOwner',\n      icon: /*#__PURE__*/_jsxDEV(Users, {\n        className: \"w-12 h-12\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 524\n      }, this)\n    }].map(btn => /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => navigate(btn.page),\n      className: \"bg-white rounded-2xl shadow-lg p-6 flex flex-col items-center justify-center text-center text-emerald-800 hover:bg-emerald-50 hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 aspect-square border-b-4 border-amber-400\",\n      children: [btn.icon, /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"mt-4 font-semibold text-lg\",\n        children: btn.label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 896\n      }, this)]\n    }, btn.page, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 573\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 48\n  }, this);\n};\n_c5 = HomeScreen;\nconst RegisterOwnerScreen = ({\n  onCancel,\n  owners,\n  user\n}) => {\n  _s2();\n  const [name, setName] = useState('');\n  const handleSave = async () => {\n    if (name.trim() && user) {\n      try {\n        await addDoc(collection(db, 'users', user.uid, 'owners'), {\n          name: name.trim()\n        });\n        alert('Propietario guardado!');\n        onCancel();\n      } catch (error) {\n        console.error(\"Error: \", error);\n        alert(\"Error al guardar.\");\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-8 rounded-2xl shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-emerald-800 mb-6\",\n        children: \"Registrar Nuevo Propietario\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 460\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-stone-700 font-medium mb-2\",\n          children: \"Nombre y Apellidos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 571\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: name,\n          onChange: e => setName(e.target.value),\n          className: \"w-full px-4 py-3 border border-stone-300 rounded-lg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 654\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 549\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onCancel,\n          className: \"px-6 py-3 rounded-lg bg-stone-200 text-stone-700 font-semibold\",\n          children: \"Cancelar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 840\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSave,\n          className: \"px-6 py-3 rounded-lg bg-emerald-600 text-white font-semibold flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Save, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 1085\n          }, this), \" Guardar\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 959\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 800\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 408\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-8 bg-white p-8 rounded-2xl shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-bold text-emerald-800 mb-4\",\n        children: \"Propietarios Registrados\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 1188\n      }, this), owners.length > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"divide-y divide-stone-200\",\n        children: owners.map(owner => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"py-3 text-stone-600\",\n          children: owner.name\n        }, owner.docId, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 1358\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 1295\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-stone-500\",\n        children: \"No hay propietarios registrados.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 1441\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 1131\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 387\n  }, this);\n};\n_s2(RegisterOwnerScreen, \"/PAWDgWx7+Y6BmsFMUKcdrcX5eM=\");\n_c6 = RegisterOwnerScreen;\nconst RegisterCattleScreen = ({\n  onCancel,\n  owners,\n  cattleData,\n  user,\n  targetUserUid\n}) => {\n  _s3();\n  const [form, setForm] = useState({\n    id: '',\n    birthDate: '',\n    gender: 'Hembra',\n    weight: '',\n    parentsId: '',\n    lastVaccines: '',\n    ownerId: owners.length > 0 ? owners[0].docId : ''\n  });\n  const [useAutoId, setUseAutoId] = useState(true);\n  const [photos, setPhotos] = useState([]);\n  const [isUploading, setIsUploading] = useState(false);\n  const cattleType = useMemo(() => determineCattleType(form), [form.birthDate, form.gender]);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setForm(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handlePhotoChange = e => {\n    if (e.target.files.length > 0 && photos.length < 3) {\n      setPhotos(prev => [...prev, ...Array.from(e.target.files).slice(0, 3 - prev.length)]);\n    }\n  };\n  const generateAutoId = () => {\n    const allIds = cattleData.map(c => c.customId.replace(/^[VM]-/, '')).filter(id => id.startsWith('FMZ-'));\n    const lastIdNum = allIds.length > 0 ? Math.max(...allIds.map(id => parseInt(id.split('-')[1]))) : 0;\n    return `FMZ-${String(lastIdNum + 1).padStart(3, '0')}`;\n  };\n  const handleSave = async () => {\n    const finalId = useAutoId ? generateAutoId() : form.id.trim();\n    if (!finalId || !form.birthDate || !form.weight || !form.ownerId) {\n      alert(\"Campos obligatorios incompletos.\");\n      return;\n    }\n    if (!useAutoId && cattleData.some(c => c.customId.toUpperCase() === finalId.toUpperCase())) {\n      alert(\"El código ya existe.\");\n      return;\n    }\n    const userIdToSave = targetUserUid || user.uid;\n    if (!userIdToSave) {\n      alert(\"No se pudo identificar al usuario.\");\n      return;\n    }\n    setIsUploading(true);\n    try {\n      const photoURLs = [];\n      for (const photo of photos) {\n        const photoRef = ref(storage, `cattle-photos/${userIdToSave}/${finalId}/${photo.name}`);\n        await uploadBytes(photoRef, photo);\n        const url = await getDownloadURL(photoRef);\n        photoURLs.push(url);\n      }\n      await addDoc(collection(db, 'users', userIdToSave, 'cattle'), {\n        ...form,\n        customId: finalId,\n        status: 'Viva',\n        offspring: [],\n        weight: parseFloat(form.weight),\n        createdAt: serverTimestamp(),\n        photoURLs\n      });\n      alert('Res guardada con éxito!');\n      onCancel();\n    } catch (error) {\n      console.error(\"Error: \", error);\n      alert(\"Error al guardar.\");\n    } finally {\n      setIsUploading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-8 rounded-2xl shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-emerald-800 mb-6\",\n        children: \"Registrar Nueva Res\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 82\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-stone-700 font-medium mb-2\",\n          children: \"Fotos (m\\xE1x. 3)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 185\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-4 items-center\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            multiple: true,\n            accept: \"image/*\",\n            onChange: handlePhotoChange,\n            className: \"text-sm\",\n            disabled: photos.length >= 3\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 305\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 264\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 163\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-stone-700 font-medium mb-2\",\n            children: \"C\\xF3digo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 503\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"id\",\n              value: useAutoId ? generateAutoId() : form.id,\n              onChange: handleChange,\n              disabled: useAutoId,\n              className: \"w-full px-4 py-3 border rounded-lg disabled:bg-stone-100\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 615\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setUseAutoId(!useAutoId),\n              className: `px-4 py-3 rounded-lg font-semibold ${useAutoId ? 'bg-emerald-600 text-white' : 'bg-stone-200'}`,\n              children: \"Auto\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 807\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 574\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 498\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-stone-700 font-medium mb-2\",\n            children: \"Nacimiento\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 995\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            name: \"birthDate\",\n            value: form.birthDate,\n            onChange: handleChange,\n            className: \"w-full px-4 py-3 border rounded-lg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 1070\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 990\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-stone-700 font-medium mb-2\",\n            children: \"G\\xE9nero\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 1213\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"gender\",\n            value: form.gender,\n            onChange: handleChange,\n            className: \"w-full px-4 py-3 border rounded-lg bg-white\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Hembra\",\n              children: \"Hembra\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 1406\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Macho\",\n              children: \"Macho\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 1444\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 1284\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 1208\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-stone-700 font-medium mb-2\",\n            children: \"Peso (Kg)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 1500\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"weight\",\n            value: form.weight,\n            onChange: handleChange,\n            className: \"w-full px-4 py-3 border rounded-lg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 1574\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 1495\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-stone-700 font-medium mb-2\",\n            children: \"Padres\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 1713\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"parentsId\",\n            value: form.parentsId,\n            onChange: handleChange,\n            className: \"w-full px-4 py-3 border rounded-lg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 1784\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 1708\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-stone-700 font-medium mb-2\",\n            children: \"Tipo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 1927\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: cattleType,\n            disabled: true,\n            className: \"w-full px-4 py-3 border rounded-lg bg-stone-100\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 1996\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 1922\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md:col-span-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-stone-700 font-medium mb-2\",\n            children: \"Vacunas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 2142\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"lastVaccines\",\n            value: form.lastVaccines,\n            onChange: handleChange,\n            className: \"w-full px-4 py-3 border rounded-lg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 2214\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 2111\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md:col-span-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-stone-700 font-medium mb-2\",\n            children: \"Propietario\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 2389\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"ownerId\",\n            value: form.ownerId,\n            onChange: handleChange,\n            className: \"w-full px-4 py-3 border rounded-lg bg-white\",\n            disabled: owners.length === 0,\n            children: owners.length > 0 ? owners.map(o => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: o.docId,\n              children: o.name\n            }, o.docId, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 2657\n            }, this)) : /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Registre un propietario\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 2716\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 2465\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 2358\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 443\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end gap-4 mt-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onCancel,\n          className: \"px-6 py-3 rounded-lg bg-stone-200\",\n          disabled: isUploading,\n          children: \"Cancelar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 2823\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSave,\n          className: \"px-6 py-3 rounded-lg bg-emerald-600 text-white flex items-center gap-2\",\n          disabled: isUploading,\n          children: isUploading ? 'Guardando...' : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Save, {\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 3105\n            }, this), \" Guardar\"]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 2936\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 2778\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 30\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 9\n  }, this);\n};\n_s3(RegisterCattleScreen, \"jrL4QXQPMjcakmeHtjCSkgTLlWI=\");\n_c7 = RegisterCattleScreen;\nconst UpdateCattleScreen = ({\n  onCancel,\n  owners,\n  user\n}) => {\n  _s4();\n  var _form$offspring;\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedCattle, setSelectedCattle] = useState(null);\n  const [form, setForm] = useState(null);\n  const [modal, setModal] = useState({\n    isOpen: false,\n    type: '',\n    data: null\n  });\n  const handleSearch = async () => {\n    const q = query(collection(db, 'users', user.uid, 'cattle'), where(\"customId\", \"==\", searchTerm.trim().toUpperCase()));\n    const querySnapshot = await getDocs(q);\n    if (!querySnapshot.empty) {\n      const doc = querySnapshot.docs[0];\n      const foundCattle = {\n        ...doc.data(),\n        docId: doc.id\n      };\n      setSelectedCattle(foundCattle);\n      setForm(foundCattle);\n    } else {\n      alert(\"Código inexistente\");\n      setSelectedCattle(null);\n      setForm(null);\n    }\n  };\n  const handleUpdate = async () => {\n    if (window.confirm(\"¿Seguro que deseas actualizar los datos?\")) {\n      const cattleDocRef = doc(db, 'users', user.uid, 'cattle', selectedCattle.docId);\n      await updateDoc(cattleDocRef, form);\n      alert(\"Información actualizada con éxito\");\n      onCancel();\n    }\n  };\n  const handleStatusChange = async (newStatus, date) => {\n    if (!date) {\n      alert(\"Por favor, selecciona una fecha.\");\n      return;\n    }\n    const batch = writeBatch(db);\n    const oldDocRef = doc(db, 'users', user.uid, 'cattle', selectedCattle.docId);\n    const newDocRef = doc(collection(db, 'users', user.uid, 'deceasedSoldCattle'));\n    const newCustomId = `${newStatus === 'Vendida' ? 'V' : 'M'}-${selectedCattle.customId}`;\n    const updatedData = {\n      ...selectedCattle,\n      ...form,\n      status: newStatus,\n      statusChangeDate: date,\n      customId: newCustomId,\n      originalDocId: selectedCattle.docId\n    };\n    delete updatedData.docId;\n    batch.set(newDocRef, updatedData);\n    batch.delete(oldDocRef);\n    await batch.commit();\n    alert(`Estado actualizado a ${newStatus}.`);\n    onCancel();\n  };\n  const handleAddOffspring = async (calfId, birthDate) => {\n    if (!calfId || !birthDate) {\n      alert(\"Completa los datos de la cría.\");\n      return;\n    }\n    const updatedOffspring = [...(form.offspring || []), {\n      calfId,\n      birthDate\n    }];\n    setForm(prev => ({\n      ...prev,\n      offspring: updatedOffspring\n    }));\n    setModal({\n      isOpen: false\n    });\n  };\n  const handleChange = e => setForm(prev => ({\n    ...prev,\n    [e.target.name]: e.target.value\n  }));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-8 rounded-2xl shadow-lg mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-emerald-800 mb-6\",\n        children: \"Actualizar Res\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 70\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value),\n          placeholder: \"Buscar por c\\xF3digo...\",\n          className: \"w-full px-4 py-3 border rounded-lg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 174\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSearch,\n          className: \"px-6 py-3 rounded-lg bg-emerald-600 text-white font-semibold\",\n          children: /*#__PURE__*/_jsxDEV(Search, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 448\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 344\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 146\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 13\n    }, this), selectedCattle && form && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-8 rounded-2xl shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-bold text-stone-800 mb-4\",\n        children: [\"Editando: \", form.customId]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-stone-700 font-medium\",\n            children: \"Peso (Kg)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 30\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"weight\",\n            value: form.weight,\n            onChange: handleChange,\n            className: \"w-full px-4 py-3 border rounded-lg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 99\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-stone-700 font-medium\",\n            children: \"Propietario\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 30\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"ownerId\",\n            value: form.ownerId,\n            onChange: handleChange,\n            className: \"w-full px-4 py-3 border rounded-lg bg-white\",\n            children: owners.map(o => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: o.docId,\n              children: o.name\n            }, o.docId, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 242\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 101\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 25\n        }, this), form.gender === 'Hembra' && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-stone-700 font-medium\",\n            children: [\"Cr\\xEDas (\", ((_form$offspring = form.offspring) === null || _form$offspring === void 0 ? void 0 : _form$offspring.length) || 0, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 59\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setModal({\n              isOpen: true,\n              type: 'addOffspring'\n            }),\n            className: \"w-full px-4 py-3 rounded-lg bg-sky-500 text-white font-semibold\",\n            children: \"A\\xF1adir Cr\\xEDa\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 156\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 54\n        }, this), form.gender === 'Macho' && calculateAgeInMonths(form.birthDate) > 24 && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-stone-700 font-medium\",\n            children: \"Castraci\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 103\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setForm(p => ({\n                ...p,\n                isCastrated: true\n              })),\n              className: `w-full py-2 rounded-lg ${form.isCastrated === true ? 'bg-emerald-600 text-white' : 'bg-stone-200'}`,\n              children: \"Capado\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 201\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setForm(p => ({\n                ...p,\n                isCastrated: false\n              })),\n              className: `w-full py-2 rounded-lg ${form.isCastrated === false ? 'bg-emerald-600 text-white' : 'bg-stone-200'}`,\n              children: \"Sin Capar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 393\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 173\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 98\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md:col-span-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-stone-700 font-medium\",\n            children: \"Estado\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 56\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: form.status,\n            onChange: e => e.target.value !== 'Viva' ? setModal({\n              isOpen: true,\n              type: 'changeStatus',\n              data: {\n                newStatus: e.target.value\n              }\n            }) : setForm(p => ({\n              ...p,\n              status: 'Viva'\n            })),\n            className: \"w-full px-4 py-3 border rounded-lg bg-white\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Viva\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 373\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Vendida\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 394\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Muerta\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 418\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 122\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end gap-4 mt-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onCancel,\n          className: \"px-6 py-3 rounded-lg bg-stone-200\",\n          children: \"Cancelar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 66\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleUpdate,\n          className: \"px-6 py-3 rounded-lg bg-emerald-600 text-white\",\n          children: \"Actualizar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 156\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 17\n    }, this), modal.isOpen && modal.type === 'changeStatus' && /*#__PURE__*/_jsxDEV(Modal, {\n      onClose: () => setModal({\n        isOpen: false\n      }),\n      title: `Cambiar Estado a ${modal.data.newStatus}`,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mb-4\",\n        children: \"Se requiere la fecha.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 164\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Fecha\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 214\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          id: \"statusDate\",\n          className: \"w-full px-4 py-2 border rounded-lg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 234\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 209\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-600 font-medium mt-4\",\n        children: \"\\xA1Atenci\\xF3n! Esta acci\\xF3n es irreversible.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 324\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end gap-4 mt-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setModal({\n            isOpen: false\n          }),\n          className: \"px-6 py-2 rounded-lg bg-stone-200\",\n          children: \"Cancelar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 457\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleStatusChange(modal.data.newStatus, document.getElementById('statusDate').value),\n          className: \"px-6 py-2 rounded-lg bg-red-600 text-white\",\n          children: \"Confirmar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 570\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 412\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 64\n    }, this), modal.isOpen && modal.type === 'addOffspring' && /*#__PURE__*/_jsxDEV(Modal, {\n      onClose: () => setModal({\n        isOpen: false\n      }),\n      title: \"A\\xF1adir Cr\\xEDa\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"C\\xF3digo de la Cr\\xEDa\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 165\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"calfId\",\n            className: \"w-full px-4 py-2 border rounded-lg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 197\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 160\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Fecha de Parto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 288\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            id: \"calfBirthDate\",\n            className: \"w-full px-4 py-2 border rounded-lg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 317\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 283\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 133\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end gap-4 mt-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setModal({\n            isOpen: false\n          }),\n          className: \"px-6 py-2 rounded-lg bg-stone-200\",\n          children: \"Cancelar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 461\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleAddOffspring(document.getElementById('calfId').value, document.getElementById('calfBirthDate').value),\n          className: \"px-6 py-2 rounded-lg bg-sky-500 text-white\",\n          children: \"Guardar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 574\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 416\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 64\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 174,\n    columnNumber: 9\n  }, this);\n};\n_s4(UpdateCattleScreen, \"/VgXfj08SNgIUu0k/peItzIXFM8=\");\n_c8 = UpdateCattleScreen;\nconst ConsultScreen = ({\n  cattleData,\n  owners,\n  deceasedSoldData\n}) => {\n  _s5();\n  const [view, setView] = useState('menu');\n  const [selectedOwner, setSelectedOwner] = useState(null);\n  const [detailsModal, setDetailsModal] = useState({\n    isOpen: false,\n    cattle: null\n  });\n  const CattleCard = ({\n    cattle,\n    onClick\n  }) => {\n    const owner = owners.find(o => o.docId === cattle.ownerId);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: () => onClick(cattle),\n      className: \"bg-white p-4 rounded-xl shadow-md hover:shadow-lg transition-shadow cursor-pointer border-l-4 border-amber-400\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-start\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-bold text-lg text-stone-800\",\n            children: cattle.customId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 583\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-stone-600\",\n            children: determineCattleType(cattle)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 652\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 578\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `px-3 py-1 rounded-full text-sm font-semibold ${cattle.status === 'Viva' ? 'bg-emerald-100 text-emerald-800' : 'bg-red-100 text-red-800'}`,\n          children: cattle.status\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 721\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 528\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-3 pt-3 border-t\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-stone-500\",\n          children: [\"Propietario: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium text-stone-700\",\n            children: owner ? owner.name : 'N/A'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 991\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 940\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 904\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 368\n    }, this);\n  };\n  const renderContent = () => {\n    switch (view) {\n      case 'byOwner':\n        if (!selectedOwner) {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setView('menu'),\n              className: \"mb-4 text-emerald-600 font-semibold\",\n              children: \"\\u2190 Volver\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 1190\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-bold mb-4\",\n              children: \"Selecciona un Propietario\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 1300\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: owners.map(o => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setSelectedOwner(o),\n                className: \"w-full text-left p-4 bg-stone-100 rounded-lg hover:bg-emerald-50\",\n                children: o.name\n              }, o.docId, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 1413\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 1369\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 1185\n          }, this);\n        }\n        const ownerCattle = cattleData.filter(c => c.ownerId === selectedOwner.docId);\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setSelectedOwner(null),\n            className: \"mb-4 text-emerald-600 font-semibold\",\n            children: \"\\u2190 Volver\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 1676\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-bold mb-4\",\n            children: [\"Reses de \", selectedOwner.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 1793\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",\n            children: ownerCattle.length > 0 ? ownerCattle.map(c => /*#__PURE__*/_jsxDEV(CattleCard, {\n              cattle: c,\n              onClick: cattle => setDetailsModal({\n                isOpen: true,\n                cattle\n              })\n            }, c.docId, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 1983\n            }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Este propietario no tiene reses.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 2090\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 1866\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 1671\n        }, this);\n      case 'all':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setView('menu'),\n            className: \"mb-4 text-emerald-600 font-semibold\",\n            children: \"\\u2190 Volver\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 2170\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-bold mb-4\",\n            children: \"Listado de Reses Vivas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 2280\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",\n            children: cattleData.map(c => /*#__PURE__*/_jsxDEV(CattleCard, {\n              cattle: c,\n              onClick: cattle => setDetailsModal({\n                isOpen: true,\n                cattle\n              })\n            }, c.docId, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 2437\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 2346\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 2165\n        }, this);\n      case 'deceasedSold':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setView('menu'),\n            className: \"mb-4 text-emerald-600 font-semibold\",\n            children: \"\\u2190 Volver\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 2591\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-bold mb-4\",\n            children: \"Listado de Reses Vendidas o Muertas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 2701\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",\n            children: deceasedSoldData.map(c => /*#__PURE__*/_jsxDEV(CattleCard, {\n              cattle: c,\n              onClick: cattle => setDetailsModal({\n                isOpen: true,\n                cattle\n              })\n            }, c.docId, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 2877\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 2780\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 2586\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setView('byOwner'),\n            className: \"w-full p-6 bg-white rounded-lg shadow-md text-left text-lg font-semibold hover:bg-emerald-50\",\n            children: \"Por Propietarios\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 3041\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setView('all'),\n            className: \"w-full p-6 bg-white rounded-lg shadow-md text-left text-lg font-semibold hover:bg-emerald-50\",\n            children: \"Reses Vivas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 3214\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setView('deceasedSold'),\n            className: \"w-full p-6 bg-white rounded-lg shadow-md text-left text-lg font-semibold hover:bg-emerald-50\",\n            children: \"Muertas/Vendidas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 3378\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 3014\n        }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-8 rounded-2xl shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-emerald-800 mb-6\",\n        children: \"Consultar Registros\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 3651\n      }, this), renderContent()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 3599\n    }, this), detailsModal.isOpen && detailsModal.cattle && /*#__PURE__*/_jsxDEV(Modal, {\n      onClose: () => setDetailsModal({\n        isOpen: false\n      }),\n      title: `Detalles de ${detailsModal.cattle.customId}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-3\",\n        children: [detailsModal.cattle.photoURLs && detailsModal.cattle.photoURLs.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-2\",\n          children: detailsModal.cattle.photoURLs.map(url => /*#__PURE__*/_jsxDEV(\"img\", {\n            src: url,\n            alt: \"foto\",\n            className: \"w-24 h-24 object-cover rounded-md\"\n          }, url, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 4090\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 4020\n        }, this), Object.entries(detailsModal.cattle).map(([key, value]) => {\n          if (['docId', 'createdAt', 'originalDocId', 'photoURLs'].includes(key)) return null;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium text-stone-600 capitalize\",\n              children: [key.replace(/([A-Z])/g, ' $1'), \":\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 4384\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-stone-800\",\n              children: String(value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 4480\n            }, this)]\n          }, key, true, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 4336\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium text-stone-600\",\n            children: \"Tipo:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 4584\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-stone-800\",\n            children: determineCattleType(detailsModal.cattle)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 4641\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 4546\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 3915\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end mt-6\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setDetailsModal({\n            isOpen: false\n          }),\n          className: \"px-6 py-2 rounded-lg bg-emerald-600 text-white\",\n          children: \"Cerrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 4774\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 4735\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 3803\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 194,\n    columnNumber: 3578\n  }, this);\n};\n_s5(ConsultScreen, \"8sQxAO5h2C3zKewBZ+2zmEtWY34=\");\n_c9 = ConsultScreen;\nconst RegisterActivitiesScreen = ({\n  onCancel,\n  activities,\n  user\n}) => {\n  _s6();\n  const [view, setView] = useState('menu');\n  const [form, setForm] = useState({\n    date: '',\n    status: 'En curso',\n    observations: ''\n  });\n  const handleSave = async () => {\n    if (form.date && form.observations && user) {\n      try {\n        await addDoc(collection(db, 'users', user.uid, 'activities'), {\n          ...form,\n          createdAt: new Date()\n        });\n        alert('Actividad guardada!');\n        setForm({\n          date: '',\n          status: 'En curso',\n          observations: ''\n        });\n        setView('consult');\n      } catch (error) {\n        console.error(\"Error: \", error);\n        alert(\"Error al guardar.\");\n      }\n    }\n  };\n  const sortedActivities = useMemo(() => [...activities].sort((a, b) => new Date(b.date) - new Date(a.date)), [activities]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-8 rounded-2xl shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-emerald-800 mb-6\",\n        children: \"Gesti\\xF3n de Actividades\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 785\n      }, this), view === 'menu' ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col md:flex-row gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setView('add'),\n          className: \"w-full p-6 bg-white rounded-lg shadow-md text-center text-lg font-semibold hover:bg-emerald-50\",\n          children: \"Agregar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 938\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setView('consult'),\n          className: \"w-full p-6 bg-white rounded-lg shadow-md text-center text-lg font-semibold hover:bg-emerald-50\",\n          children: \"Consultar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 1100\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 889\n      }, this) : view === 'add' ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setView('menu'),\n          className: \"mb-4 text-emerald-600 font-semibold\",\n          children: \"\\u2190 Volver\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 1301\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-bold mb-4\",\n          children: \"Agregar Actividad\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 1411\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Fecha\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 1504\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              value: form.date,\n              onChange: e => setForm({\n                ...form,\n                date: e.target.value\n              }),\n              className: \"w-full px-4 py-2 border rounded-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 1524\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 1499\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Estado\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 1678\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: form.status,\n              onChange: e => setForm({\n                ...form,\n                status: e.target.value\n              }),\n              className: \"w-full px-4 py-2 border rounded-lg bg-white\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"En curso\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 1842\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"Completada\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 1867\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 1699\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 1673\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Observaciones\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 1914\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: form.observations,\n              onChange: e => setForm({\n                ...form,\n                observations: e.target.value\n              }),\n              rows: \"4\",\n              className: \"w-full px-4 py-2 border rounded-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 1942\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 1909\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSave,\n              className: \"px-6 py-3 rounded-lg bg-emerald-600 text-white font-semibold\",\n              children: \"Guardar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 2150\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 2116\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 1472\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 1296\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setView('menu'),\n          className: \"mb-4 text-emerald-600 font-semibold\",\n          children: \"\\u2190 Volver\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 2296\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-bold mb-4\",\n          children: \"Registro de Actividades\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 2406\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-3\",\n          children: sortedActivities.map(act => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4 bg-stone-50 rounded-lg border\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-semibold\",\n                children: act.date\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 2648\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `px-2 py-1 text-xs font-bold rounded-full ${act.status === 'Completada' ? 'bg-emerald-200 text-emerald-800' : 'bg-amber-200 text-amber-800'}`,\n                children: act.status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 2691\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 2597\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-2 text-stone-600\",\n              children: act.observations\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 2876\n            }, this)]\n          }, act.docId, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 2530\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 2473\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 2291\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 733\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 195,\n    columnNumber: 712\n  }, this);\n};\n_s6(RegisterActivitiesScreen, \"zfFn41xungX8RZUoY16v7HCvrMc=\");\n_c0 = RegisterActivitiesScreen;\nconst AdminPanel = ({\n  onCancel,\n  user\n}) => {\n  _s7();\n  const [allUsers, setAllUsers] = useState([]);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [userData, setUserData] = useState({\n    owners: [],\n    cattle: []\n  });\n  const [view, setView] = useState('main');\n  useEffect(() => {\n    const q = query(collection(db, 'users_public_info'));\n    const unsub = onSnapshot(q, snapshot => {\n      setAllUsers(snapshot.docs.map(d => ({\n        ...d.data(),\n        docId: d.id\n      })));\n    });\n    return () => unsub();\n  }, []);\n  useEffect(() => {\n    if (selectedUser) {\n      const unsubOwners = onSnapshot(collection(db, 'users', selectedUser.uid, 'owners'), snapshot => {\n        setUserData(prev => ({\n          ...prev,\n          owners: snapshot.docs.map(d => ({\n            ...d.data(),\n            docId: d.id\n          }))\n        }));\n      });\n      const unsubCattle = onSnapshot(collection(db, 'users', selectedUser.uid, 'cattle'), snapshot => {\n        setUserData(prev => ({\n          ...prev,\n          cattle: snapshot.docs.map(d => ({\n            ...d.data(),\n            docId: d.id\n          }))\n        }));\n      });\n      return () => {\n        unsubOwners();\n        unsubCattle();\n      };\n    }\n  }, [selectedUser]);\n  const handleDelete = async (collectionName, docId) => {\n    if (window.confirm(\"¿Seguro que deseas eliminar este registro?\")) {\n      await deleteDoc(doc(db, 'users', selectedUser.uid, collectionName, docId));\n      alert(\"Registro eliminado.\");\n    }\n  };\n  if (view === 'registerCattle') {\n    return /*#__PURE__*/_jsxDEV(RegisterCattleScreen, {\n      onCancel: () => setView('main'),\n      owners: userData.owners,\n      cattleData: userData.cattle,\n      user: user,\n      targetUserUid: selectedUser.uid\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 45\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-8 rounded-2xl shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-emerald-800 mb-6\",\n        children: \"Panel de Administrador\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 82\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-stone-700 font-medium mb-2\",\n          children: \"Seleccionar Usuario\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 188\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          onChange: e => setSelectedUser(allUsers.find(u => u.uid === e.target.value)),\n          className: \"w-full p-2 border rounded\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"-- Elija un usuario --\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 398\n          }, this), allUsers.map(u => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: u.uid,\n            children: u.email\n          }, u.uid, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 465\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 272\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 166\n      }, this), selectedUser && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setView('registerCattle'),\n          className: \"my-4 px-4 py-2 bg-blue-500 text-white rounded\",\n          children: \"Registrar Res para Usuario\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 557\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-bold mt-6 mb-2\",\n            children: \"Propietarios\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 705\n          }, this), userData.owners.map(o => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center p-2 border-b\",\n            children: [o.name, \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleDelete('owners', o.docId),\n              className: \"text-red-500\",\n              children: /*#__PURE__*/_jsxDEV(Trash2, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 960\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 879\n            }, this)]\n          }, o.docId, true, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 792\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 700\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-bold mt-6 mb-2\",\n            children: \"Reses\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 1007\n          }, this), userData.cattle.map(c => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center p-2 border-b\",\n            children: [c.customId, \" - \", c.gender, \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleDelete('cattle', c.docId),\n              className: \"text-red-500\",\n              children: /*#__PURE__*/_jsxDEV(Trash2, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 1272\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 1191\n            }, this)]\n          }, c.docId, true, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 1087\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 1002\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 552\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 30\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 226,\n    columnNumber: 9\n  }, this);\n};\n\n// --- Componente Principal de la App ---\n_s7(AdminPanel, \"sexSsBnvoVcw41Lejgmsr1ZA4dI=\");\n_c1 = AdminPanel;\nexport default function App() {\n  _s8();\n  const [user, setUser] = useState(null);\n  const [isAdmin, setIsAdmin] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [currentPage, setCurrentPage] = useState('home');\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  const [owners, setOwners] = useState([]);\n  const [cattleData, setCattleData] = useState([]);\n  const [deceasedSoldData, setDeceasedSoldData] = useState([]);\n  const [activities, setActivities] = useState([]);\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, currentUser => {\n      setUser(currentUser);\n      setIsAdmin(currentUser ? ADMIN_EMAILS.includes(currentUser.email) : false);\n      setLoading(false);\n      if (currentUser) {\n        setCurrentPage('home');\n      }\n    });\n    return () => unsubscribe();\n  }, []);\n  useEffect(() => {\n    if (user) {\n      const collections = ['owners', 'cattle', 'deceasedSoldCattle', 'activities'];\n      const setters = [setOwners, setCattleData, setDeceasedSoldData, setActivities];\n      const unsubscribes = collections.map((col, index) => {\n        const q = query(collection(db, 'users', user.uid, col));\n        return onSnapshot(q, snapshot => {\n          setters[index](snapshot.docs.map(d => ({\n            ...d.data(),\n            docId: d.id\n          })));\n        });\n      });\n      return () => unsubscribes.forEach(unsub => unsub());\n    } else {\n      setOwners([]);\n      setCattleData([]);\n      setDeceasedSoldData([]);\n      setActivities([]);\n    }\n  }, [user]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center items-center h-screen\",\n      children: \"Cargando...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 27\n    }, this);\n  }\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(AuthScreen, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 25\n    }, this);\n  }\n  const renderPage = () => {\n    switch (currentPage) {\n      case 'registerOwner':\n        return /*#__PURE__*/_jsxDEV(RegisterOwnerScreen, {\n          onCancel: () => setCurrentPage('home'),\n          owners: owners,\n          user: user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 42\n        }, this);\n      case 'registerCattle':\n        return /*#__PURE__*/_jsxDEV(RegisterCattleScreen, {\n          onCancel: () => setCurrentPage('home'),\n          owners: owners,\n          cattleData: cattleData,\n          user: user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 43\n        }, this);\n      case 'updateCattle':\n        return /*#__PURE__*/_jsxDEV(UpdateCattleScreen, {\n          onCancel: () => setCurrentPage('home'),\n          owners: owners,\n          user: user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 41\n        }, this);\n      case 'consult':\n        return /*#__PURE__*/_jsxDEV(ConsultScreen, {\n          cattleData: cattleData,\n          owners: owners,\n          deceasedSoldData: deceasedSoldData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 36\n        }, this);\n      case 'activities':\n        return /*#__PURE__*/_jsxDEV(RegisterActivitiesScreen, {\n          onCancel: () => setCurrentPage('home'),\n          activities: activities,\n          user: user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 39\n        }, this);\n      case 'admin':\n        return isAdmin ? /*#__PURE__*/_jsxDEV(AdminPanel, {\n          onCancel: () => setCurrentPage('home'),\n          user: user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 44\n        }, this) : /*#__PURE__*/_jsxDEV(HomeScreen, {\n          navigate: setCurrentPage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 113\n        }, this);\n      case 'home':\n      default:\n        return /*#__PURE__*/_jsxDEV(HomeScreen, {\n          navigate: setCurrentPage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 42\n        }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-stone-100 min-h-screen font-sans\",\n    children: [/*#__PURE__*/_jsxDEV(SideMenu, {\n      isOpen: isMenuOpen,\n      onClose: () => setIsMenuOpen(false),\n      navigate: setCurrentPage,\n      isAdmin: isAdmin\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Header, {\n      title: \"Finca Moreno Z\",\n      onMenuClick: () => setIsMenuOpen(true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      children: renderPage()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 283,\n    columnNumber: 9\n  }, this);\n}\n_s8(App, \"vL8kU/H+oIlLHWb9icG8InZQZu8=\");\n_c10 = App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10;\n$RefreshReg$(_c, \"AuthScreen\");\n$RefreshReg$(_c2, \"Modal\");\n$RefreshReg$(_c3, \"Header\");\n$RefreshReg$(_c4, \"SideMenu\");\n$RefreshReg$(_c5, \"HomeScreen\");\n$RefreshReg$(_c6, \"RegisterOwnerScreen\");\n$RefreshReg$(_c7, \"RegisterCattleScreen\");\n$RefreshReg$(_c8, \"UpdateCattleScreen\");\n$RefreshReg$(_c9, \"ConsultScreen\");\n$RefreshReg$(_c0, \"RegisterActivitiesScreen\");\n$RefreshReg$(_c1, \"AdminPanel\");\n$RefreshReg$(_c10, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","Plus","Edit","Search","Menu","X","Save","FileText","Users","Activity","Home","LogOut","UserPlus","LogIn","Shield","Trash2","auth","db","storage","onAuthStateChanged","createUserWithEmailAndPassword","signInWithEmailAndPassword","signOut","collection","addDoc","onSnapshot","query","doc","updateDoc","writeBatch","where","getDocs","deleteDoc","serverTimestamp","ref","uploadBytes","getDownloadURL","jsxDEV","_jsxDEV","Fragment","_Fragment","ADMIN_EMAILS","AuthScreen","_s","isLogin","setIsLogin","email","setEmail","password","setPassword","error","setError","handleAuth","e","preventDefault","userCredential","usersCollectionRef","uid","user","err","message","replace","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","value","onChange","target","required","size","onClick","_c","Modal","onClose","title","_c2","Header","onMenuClick","handleLogout","_c3","SideMenu","isOpen","navigate","isAdmin","menuItems","name","page","icon","adminOnly","map","item","_c4","calculateAgeInMonths","birthDate","today","Date","birth","months","getFullYear","getMonth","determineCattleType","cattle","gender","ageInMonths","offspring","length","lastParto","Math","max","o","monthsSinceParto","isCastrated","HomeScreen","label","btn","_c5","RegisterOwnerScreen","onCancel","owners","_s2","setName","handleSave","trim","alert","console","owner","docId","_c6","RegisterCattleScreen","cattleData","targetUserUid","_s3","form","setForm","id","weight","parentsId","lastVaccines","ownerId","useAutoId","setUseAutoId","photos","setPhotos","isUploading","setIsUploading","cattleType","handleChange","prev","handlePhotoChange","files","Array","from","slice","generateAutoId","allIds","c","customId","filter","startsWith","lastIdNum","parseInt","split","String","padStart","finalId","some","toUpperCase","userIdToSave","photoURLs","photo","photoRef","url","push","status","parseFloat","createdAt","multiple","accept","disabled","_c7","UpdateCattleScreen","_s4","_form$offspring","searchTerm","setSearchTerm","selectedCattle","setSelectedCattle","modal","setModal","data","handleSearch","q","querySnapshot","empty","docs","foundCattle","handleUpdate","window","confirm","cattleDocRef","handleStatusChange","newStatus","date","batch","oldDocRef","newDocRef","newCustomId","updatedData","statusChangeDate","originalDocId","set","delete","commit","handleAddOffspring","calfId","updatedOffspring","placeholder","p","document","getElementById","_c8","ConsultScreen","deceasedSoldData","_s5","view","setView","selectedOwner","setSelectedOwner","detailsModal","setDetailsModal","CattleCard","find","renderContent","ownerCattle","Object","entries","key","includes","_c9","RegisterActivitiesScreen","activities","_s6","observations","sortedActivities","sort","a","b","rows","act","_c0","AdminPanel","_s7","allUsers","setAllUsers","selectedUser","setSelectedUser","userData","setUserData","unsub","snapshot","d","unsubOwners","unsubCattle","handleDelete","collectionName","u","_c1","App","_s8","setUser","setIsAdmin","loading","setLoading","currentPage","setCurrentPage","isMenuOpen","setIsMenuOpen","setOwners","setCattleData","setDeceasedSoldData","setActivities","unsubscribe","currentUser","collections","setters","unsubscribes","col","index","forEach","renderPage","_c10","$RefreshReg$"],"sources":["C:/Users/alezv/Desktop/App/React/src/App.js"],"sourcesContent":["\r\n\r\nimport React, { useState, useEffect, useMemo } from 'react';\r\nimport { Plus, Edit, Search, Menu, X, Save, FileText, Users, Activity, Home, LogOut, UserPlus, LogIn, Shield, Trash2 } from 'lucide-react';\r\n\r\n// Importa los servicios de Firebase desde tu archivo de configuración\r\nimport { auth, db, storage } from './firebase'; \r\nimport { onAuthStateChanged, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from \"firebase/auth\";\r\nimport { collection, addDoc, onSnapshot, query, doc, updateDoc, writeBatch, where, getDocs, deleteDoc, serverTimestamp } from \"firebase/firestore\";\r\nimport { ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\r\n\r\n// --- CONFIGURACIÓN DE ADMINISTRADOR ---\r\n// TODO: Añade aquí los correos de los usuarios que serán administradores.\r\nconst ADMIN_EMAILS = [\"admin@example.com\", \"alezvalopz@gmail.com\"];\r\n\r\n\r\n// --- Pantalla de Autenticación (Login y Registro) ---\r\nconst AuthScreen = () => {\r\n  const [isLogin, setIsLogin] = useState(true);\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [error, setError] = useState('');\r\n\r\n  const handleAuth = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    try {\r\n      if (isLogin) {\r\n        await signInWithEmailAndPassword(auth, email, password);\r\n      } else {\r\n        const userCredential = await createUserWithEmailAndPassword(auth, email, password);\r\n        const usersCollectionRef = collection(db, 'users_public_info');\r\n        await addDoc(usersCollectionRef, {\r\n            uid: userCredential.user.uid,\r\n            email: userCredential.user.email\r\n        });\r\n      }\r\n    } catch (err) {\r\n      setError(\"Error: \" + err.message.replace('Firebase: ', ''));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-stone-100 flex flex-col justify-center items-center p-4\">\r\n      <div className=\"w-full max-w-md bg-white rounded-2xl shadow-xl p-8\">\r\n        <div className=\"flex justify-center mb-6\"><img src=\"http://googleusercontent.com/file_content/2\" alt=\"Logo\" className=\"h-20 w-20\" /></div>\r\n        <h2 className=\"text-3xl font-bold text-center text-emerald-800 mb-2\">{isLogin ? 'Iniciar Sesión' : 'Crear Cuenta'}</h2>\r\n        <p className=\"text-center text-stone-500 mb-8\">Bienvenido a Finca Moreno Z</p>\r\n        <form onSubmit={handleAuth}>\r\n          <div className=\"mb-4\"><label className=\"block text-stone-700 font-medium mb-2\">Correo Electrónico</label><input type=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} className=\"w-full px-4 py-3 border border-stone-300 rounded-lg\" required /></div>\r\n          <div className=\"mb-6\"><label className=\"block text-stone-700 font-medium mb-2\">Contraseña</label><input type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} className=\"w-full px-4 py-3 border border-stone-300 rounded-lg\" required /></div>\r\n          {error && <p className=\"text-red-500 text-sm mb-4\">{error}</p>}\r\n          <button type=\"submit\" className=\"w-full bg-emerald-600 text-white font-bold py-3 rounded-lg hover:bg-emerald-700 transition-colors flex items-center justify-center gap-2\">{isLogin ? <LogIn size={18} /> : <UserPlus size={18} />}{isLogin ? 'Ingresar' : 'Registrarse'}</button>\r\n        </form>\r\n        <div className=\"mt-6 text-center\"><button onClick={() => setIsLogin(!isLogin)} className=\"text-emerald-600 hover:underline\">{isLogin ? '¿No tienes una cuenta? Regístrate' : '¿Ya tienes una cuenta? Inicia sesión'}</button></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n// --- Componentes de la UI (Reutilizados) ---\r\nconst Modal = ({ children, onClose, title }) => (<div className=\"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4\"><div className=\"bg-white rounded-2xl shadow-2xl w-full max-w-md m-4\"><div className=\"flex justify-between items-center p-4 border-b border-stone-200\"><h3 className=\"text-xl font-bold text-emerald-800\">{title}</h3><button onClick={onClose} className=\"text-stone-400 hover:text-stone-600\"><X size={24} /></button></div><div className=\"p-6\">{children}</div></div></div>);\r\nconst Header = ({ title, onMenuClick }) => {\r\n  const handleLogout = () => { signOut(auth); };\r\n  return (<header className=\"bg-emerald-800 text-white p-4 shadow-lg flex items-center justify-between sticky top-0 z-40\"><div className=\"flex items-center\"><button onClick={onMenuClick} className=\"mr-4 p-2 rounded-full hover:bg-emerald-700\"><Menu size={24} /></button><img src=\"http://googleusercontent.com/file_content/2\" alt=\"Logo\" className=\"h-10 w-10 rounded-full bg-white p-1 object-contain\" /><h1 className=\"text-2xl font-bold ml-4 tracking-wider\">{title}</h1></div><button onClick={handleLogout} className=\"flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-emerald-700 font-semibold\"><LogOut size={18} /> Salir</button></header>);\r\n};\r\nconst SideMenu = ({ isOpen, onClose, navigate, isAdmin }) => {\r\n    const menuItems = [\r\n        { name: 'Inicio', page: 'home', icon: <Home size={20} />, adminOnly: false },\r\n        { name: 'Registrar Res', page: 'registerCattle', icon: <Plus size={20} />, adminOnly: false },\r\n        { name: 'Actualizar Res', page: 'updateCattle', icon: <Edit size={20} />, adminOnly: false },\r\n        { name: 'Consultar', page: 'consult', icon: <FileText size={20} />, adminOnly: false },\r\n        { name: 'Actividades', page: 'activities', icon: <Activity size={20} />, adminOnly: false },\r\n        { name: 'Propietarios', page: 'registerOwner', icon: <Users size={20} />, adminOnly: false },\r\n        { name: 'Panel de Admin', page: 'admin', icon: <Shield size={20} />, adminOnly: true },\r\n    ];\r\n    return (<><div className={`fixed inset-0 bg-black bg-opacity-50 z-40 transition-opacity ${isOpen ? 'opacity-100' : 'opacity-0 pointer-events-none'}`} onClick={onClose}></div><div className={`fixed top-0 left-0 h-full bg-white w-72 shadow-xl z-50 transform transition-transform ${isOpen ? 'translate-x-0' : '-translate-x-full'}`}><div className=\"p-4 border-b flex justify-between items-center\"><h2 className=\"text-xl font-bold text-emerald-800\">Menú</h2><button onClick={onClose} className=\"text-stone-500 hover:text-stone-800\"><X size={24} /></button></div><nav className=\"p-4\"><ul>{menuItems.map(item => ((!item.adminOnly || isAdmin) && <li key={item.page}><button onClick={() => { navigate(item.page); onClose(); }} className=\"w-full text-left flex items-center gap-3 px-4 py-3 rounded-lg text-stone-700 hover:bg-emerald-50 hover:text-emerald-800 font-medium transition-all\">{item.icon}{item.name}</button></li>))}</ul></nav></div></>);\r\n};\r\n\r\n// --- Lógica de Negocio ---\r\nconst calculateAgeInMonths = (birthDate) => { if (!birthDate) return 0; const today = new Date(); const birth = new Date(birthDate); let months = (today.getFullYear() - birth.getFullYear()) * 12; months -= birth.getMonth(); months += today.getMonth(); return months <= 0 ? 0 : months; };\r\nconst determineCattleType = (cattle) => { if (!cattle || !cattle.birthDate || !cattle.gender) return 'N/A'; const ageInMonths = calculateAgeInMonths(cattle.birthDate); if (ageInMonths <= 12) return 'Ternero/a'; if (cattle.gender === 'Hembra') { if (cattle.offspring && cattle.offspring.length > 0) { const lastParto = new Date(Math.max(...cattle.offspring.map(o => new Date(o.birthDate)))); const monthsSinceParto = calculateAgeInMonths(lastParto); return monthsSinceParto <= 12 ? 'Vaca Parida' : 'Vaca Horra'; } return ageInMonths <= 24 ? 'Novilla' : 'Vaca'; } if (cattle.gender === 'Macho') { if (ageInMonths <= 24) return 'Levante'; if (cattle.isCastrated === true) return 'Macho de Engorde'; if (cattle.isCastrated === false) return 'Toro'; return 'Macho Adulto'; } return 'Desconocido'; };\r\n\r\n\r\n// --- Pantallas de la Aplicación ---\r\nconst HomeScreen = ({ navigate }) => { return (<div className=\"grid grid-cols-2 gap-6 p-6\">{[{ label: 'Registro de Res', page: 'registerCattle', icon: <Plus className=\"w-12 h-12\" /> },{ label: 'Actualización de Res', page: 'updateCattle', icon: <Edit className=\"w-12 h-12\" /> },{ label: 'Consultar', page: 'consult', icon: <FileText className=\"w-12 h-12\" /> },{ label: 'Registro de Actividades', page: 'activities', icon: <Activity className=\"w-12 h-12\" /> },{ label: 'Registrar Propietarios', page: 'registerOwner', icon: <Users className=\"w-12 h-12\" /> }].map((btn) => (<button key={btn.page} onClick={() => navigate(btn.page)} className=\"bg-white rounded-2xl shadow-lg p-6 flex flex-col items-center justify-center text-center text-emerald-800 hover:bg-emerald-50 hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 aspect-square border-b-4 border-amber-400\">{btn.icon}<span className=\"mt-4 font-semibold text-lg\">{btn.label}</span></button>))}</div>);};\r\nconst RegisterOwnerScreen = ({ onCancel, owners, user }) => { const [name, setName] = useState(''); const handleSave = async () => { if (name.trim() && user) { try { await addDoc(collection(db, 'users', user.uid, 'owners'), { name: name.trim() }); alert('Propietario guardado!'); onCancel(); } catch (error) { console.error(\"Error: \", error); alert(\"Error al guardar.\"); } } }; return (<div className=\"p-6\"><div className=\"bg-white p-8 rounded-2xl shadow-lg\"><h2 className=\"text-2xl font-bold text-emerald-800 mb-6\">Registrar Nuevo Propietario</h2><div className=\"mb-6\"><label className=\"block text-stone-700 font-medium mb-2\">Nombre y Apellidos</label><input type=\"text\" value={name} onChange={(e) => setName(e.target.value)} className=\"w-full px-4 py-3 border border-stone-300 rounded-lg\" /></div><div className=\"flex justify-end gap-4\"><button onClick={onCancel} className=\"px-6 py-3 rounded-lg bg-stone-200 text-stone-700 font-semibold\">Cancelar</button><button onClick={handleSave} className=\"px-6 py-3 rounded-lg bg-emerald-600 text-white font-semibold flex items-center gap-2\"><Save size={18}/> Guardar</button></div></div><div className=\"mt-8 bg-white p-8 rounded-2xl shadow-lg\"><h3 className=\"text-xl font-bold text-emerald-800 mb-4\">Propietarios Registrados</h3>{owners.length > 0 ? (<ul className=\"divide-y divide-stone-200\">{owners.map(owner => <li key={owner.docId} className=\"py-3 text-stone-600\">{owner.name}</li>)}</ul>) : (<p className=\"text-stone-500\">No hay propietarios registrados.</p>)}</div></div>);};\r\nconst RegisterCattleScreen = ({ onCancel, owners, cattleData, user, targetUserUid }) => {\r\n    const [form, setForm] = useState({ id: '', birthDate: '', gender: 'Hembra', weight: '', parentsId: '', lastVaccines: '', ownerId: owners.length > 0 ? owners[0].docId : '' });\r\n    const [useAutoId, setUseAutoId] = useState(true);\r\n    const [photos, setPhotos] = useState([]);\r\n    const [isUploading, setIsUploading] = useState(false);\r\n    const cattleType = useMemo(() => determineCattleType(form), [form.birthDate, form.gender]);\r\n    const handleChange = (e) => { const { name, value } = e.target; setForm(prev => ({ ...prev, [name]: value })); };\r\n    const handlePhotoChange = (e) => { if (e.target.files.length > 0 && photos.length < 3) { setPhotos(prev => [...prev, ...Array.from(e.target.files).slice(0, 3 - prev.length)]); }};\r\n    const generateAutoId = () => { const allIds = cattleData.map(c => c.customId.replace(/^[VM]-/, '')).filter(id => id.startsWith('FMZ-')); const lastIdNum = allIds.length > 0 ? Math.max(...allIds.map(id => parseInt(id.split('-')[1]))) : 0; return `FMZ-${String(lastIdNum + 1).padStart(3, '0')}`; };\r\n    const handleSave = async () => {\r\n        const finalId = useAutoId ? generateAutoId() : form.id.trim();\r\n        if (!finalId || !form.birthDate || !form.weight || !form.ownerId) { alert(\"Campos obligatorios incompletos.\"); return; }\r\n        if (!useAutoId && cattleData.some(c => c.customId.toUpperCase() === finalId.toUpperCase())) { alert(\"El código ya existe.\"); return; }\r\n        const userIdToSave = targetUserUid || user.uid;\r\n        if (!userIdToSave) { alert(\"No se pudo identificar al usuario.\"); return; }\r\n        setIsUploading(true);\r\n        try {\r\n            const photoURLs = [];\r\n            for (const photo of photos) {\r\n                const photoRef = ref(storage, `cattle-photos/${userIdToSave}/${finalId}/${photo.name}`);\r\n                await uploadBytes(photoRef, photo);\r\n                const url = await getDownloadURL(photoRef);\r\n                photoURLs.push(url);\r\n            }\r\n            await addDoc(collection(db, 'users', userIdToSave, 'cattle'), { ...form, customId: finalId, status: 'Viva', offspring: [], weight: parseFloat(form.weight), createdAt: serverTimestamp(), photoURLs });\r\n            alert('Res guardada con éxito!');\r\n            onCancel();\r\n        } catch (error) { console.error(\"Error: \", error); alert(\"Error al guardar.\"); }\r\n        finally { setIsUploading(false); }\r\n    };\r\n    return (\r\n        <div className=\"p-6\"><div className=\"bg-white p-8 rounded-2xl shadow-lg\"><h2 className=\"text-2xl font-bold text-emerald-800 mb-6\">Registrar Nueva Res</h2><div className=\"mb-4\"><label className=\"block text-stone-700 font-medium mb-2\">Fotos (máx. 3)</label><div className=\"flex gap-4 items-center\"><input type=\"file\" multiple accept=\"image/*\" onChange={handlePhotoChange} className=\"text-sm\" disabled={photos.length >= 3} /></div></div><div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\"><div><label className=\"block text-stone-700 font-medium mb-2\">Código</label><div className=\"flex items-center gap-2\"><input type=\"text\" name=\"id\" value={useAutoId ? generateAutoId() : form.id} onChange={handleChange} disabled={useAutoId} className=\"w-full px-4 py-3 border rounded-lg disabled:bg-stone-100\" /><button onClick={() => setUseAutoId(!useAutoId)} className={`px-4 py-3 rounded-lg font-semibold ${useAutoId ? 'bg-emerald-600 text-white' : 'bg-stone-200'}`}>Auto</button></div></div><div><label className=\"block text-stone-700 font-medium mb-2\">Nacimiento</label><input type=\"date\" name=\"birthDate\" value={form.birthDate} onChange={handleChange} className=\"w-full px-4 py-3 border rounded-lg\" /></div><div><label className=\"block text-stone-700 font-medium mb-2\">Género</label><select name=\"gender\" value={form.gender} onChange={handleChange} className=\"w-full px-4 py-3 border rounded-lg bg-white\"><option value=\"Hembra\">Hembra</option><option value=\"Macho\">Macho</option></select></div><div><label className=\"block text-stone-700 font-medium mb-2\">Peso (Kg)</label><input type=\"number\" name=\"weight\" value={form.weight} onChange={handleChange} className=\"w-full px-4 py-3 border rounded-lg\" /></div><div><label className=\"block text-stone-700 font-medium mb-2\">Padres</label><input type=\"text\" name=\"parentsId\" value={form.parentsId} onChange={handleChange} className=\"w-full px-4 py-3 border rounded-lg\" /></div><div><label className=\"block text-stone-700 font-medium mb-2\">Tipo</label><input type=\"text\" value={cattleType} disabled className=\"w-full px-4 py-3 border rounded-lg bg-stone-100\" /></div><div className=\"md:col-span-2\"><label className=\"block text-stone-700 font-medium mb-2\">Vacunas</label><input type=\"text\" name=\"lastVaccines\" value={form.lastVaccines} onChange={handleChange} className=\"w-full px-4 py-3 border rounded-lg\" /></div><div className=\"md:col-span-2\"><label className=\"block text-stone-700 font-medium mb-2\">Propietario</label><select name=\"ownerId\" value={form.ownerId} onChange={handleChange} className=\"w-full px-4 py-3 border rounded-lg bg-white\" disabled={owners.length === 0}>{owners.length > 0 ? owners.map(o => <option key={o.docId} value={o.docId}>{o.name}</option>) : <option>Registre un propietario</option>}</select></div></div><div className=\"flex justify-end gap-4 mt-8\"><button onClick={onCancel} className=\"px-6 py-3 rounded-lg bg-stone-200\" disabled={isUploading}>Cancelar</button><button onClick={handleSave} className=\"px-6 py-3 rounded-lg bg-emerald-600 text-white flex items-center gap-2\" disabled={isUploading}>{isUploading ? 'Guardando...' : <><Save size={18}/> Guardar</>}</button></div></div></div>\r\n    );\r\n};\r\nconst UpdateCattleScreen = ({ onCancel, owners, user }) => {\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [selectedCattle, setSelectedCattle] = useState(null);\r\n    const [form, setForm] = useState(null);\r\n    const [modal, setModal] = useState({ isOpen: false, type: '', data: null });\r\n\r\n    const handleSearch = async () => {\r\n        const q = query(collection(db, 'users', user.uid, 'cattle'), where(\"customId\", \"==\", searchTerm.trim().toUpperCase()));\r\n        const querySnapshot = await getDocs(q);\r\n        if (!querySnapshot.empty) {\r\n            const doc = querySnapshot.docs[0];\r\n            const foundCattle = { ...doc.data(), docId: doc.id };\r\n            setSelectedCattle(foundCattle);\r\n            setForm(foundCattle);\r\n        } else { alert(\"Código inexistente\"); setSelectedCattle(null); setForm(null); }\r\n    };\r\n\r\n    const handleUpdate = async () => {\r\n        if (window.confirm(\"¿Seguro que deseas actualizar los datos?\")) {\r\n            const cattleDocRef = doc(db, 'users', user.uid, 'cattle', selectedCattle.docId);\r\n            await updateDoc(cattleDocRef, form);\r\n            alert(\"Información actualizada con éxito\");\r\n            onCancel();\r\n        }\r\n    };\r\n\r\n    const handleStatusChange = async (newStatus, date) => {\r\n        if (!date) { alert(\"Por favor, selecciona una fecha.\"); return; }\r\n        const batch = writeBatch(db);\r\n        const oldDocRef = doc(db, 'users', user.uid, 'cattle', selectedCattle.docId);\r\n        const newDocRef = doc(collection(db, 'users', user.uid, 'deceasedSoldCattle'));\r\n        const newCustomId = `${newStatus === 'Vendida' ? 'V' : 'M'}-${selectedCattle.customId}`;\r\n        const updatedData = { ...selectedCattle, ...form, status: newStatus, statusChangeDate: date, customId: newCustomId, originalDocId: selectedCattle.docId };\r\n        delete updatedData.docId;\r\n        batch.set(newDocRef, updatedData);\r\n        batch.delete(oldDocRef);\r\n        await batch.commit();\r\n        alert(`Estado actualizado a ${newStatus}.`);\r\n        onCancel();\r\n    };\r\n\r\n    const handleAddOffspring = async (calfId, birthDate) => {\r\n        if (!calfId || !birthDate) { alert(\"Completa los datos de la cría.\"); return; }\r\n        const updatedOffspring = [...(form.offspring || []), { calfId, birthDate }];\r\n        setForm(prev => ({ ...prev, offspring: updatedOffspring }));\r\n        setModal({ isOpen: false });\r\n    };\r\n\r\n    const handleChange = (e) => setForm(prev => ({...prev, [e.target.name]: e.target.value}));\r\n\r\n    return (\r\n        <div className=\"p-6\">\r\n            <div className=\"bg-white p-8 rounded-2xl shadow-lg mb-6\"><h2 className=\"text-2xl font-bold text-emerald-800 mb-6\">Actualizar Res</h2><div className=\"flex gap-2\"><input type=\"text\" value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} placeholder=\"Buscar por código...\" className=\"w-full px-4 py-3 border rounded-lg\" /><button onClick={handleSearch} className=\"px-6 py-3 rounded-lg bg-emerald-600 text-white font-semibold\"><Search size={18}/></button></div></div>\r\n            {selectedCattle && form && (\r\n                <div className=\"bg-white p-8 rounded-2xl shadow-lg\">\r\n                    <h3 className=\"text-xl font-bold text-stone-800 mb-4\">Editando: {form.customId}</h3>\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                        <div><label className=\"block text-stone-700 font-medium\">Peso (Kg)</label><input type=\"number\" name=\"weight\" value={form.weight} onChange={handleChange} className=\"w-full px-4 py-3 border rounded-lg\" /></div>\r\n                        <div><label className=\"block text-stone-700 font-medium\">Propietario</label><select name=\"ownerId\" value={form.ownerId} onChange={handleChange} className=\"w-full px-4 py-3 border rounded-lg bg-white\">{owners.map(o => <option key={o.docId} value={o.docId}>{o.name}</option>)}</select></div>\r\n                        {form.gender === 'Hembra' && <div><label className=\"block text-stone-700 font-medium\">Crías ({form.offspring?.length || 0})</label><button onClick={() => setModal({isOpen: true, type: 'addOffspring'})} className=\"w-full px-4 py-3 rounded-lg bg-sky-500 text-white font-semibold\">Añadir Cría</button></div>}\r\n                        {form.gender === 'Macho' && calculateAgeInMonths(form.birthDate) > 24 && <div><label className=\"block text-stone-700 font-medium\">Castración</label><div className=\"flex gap-2\"><button onClick={() => setForm(p=>({...p, isCastrated: true}))} className={`w-full py-2 rounded-lg ${form.isCastrated === true ? 'bg-emerald-600 text-white' : 'bg-stone-200'}`}>Capado</button><button onClick={() => setForm(p=>({...p, isCastrated: false}))} className={`w-full py-2 rounded-lg ${form.isCastrated === false ? 'bg-emerald-600 text-white' : 'bg-stone-200'}`}>Sin Capar</button></div></div>}\r\n                        <div className=\"md:col-span-2\"><label className=\"block text-stone-700 font-medium\">Estado</label><select value={form.status} onChange={(e) => e.target.value !== 'Viva' ? setModal({isOpen: true, type: 'changeStatus', data: {newStatus: e.target.value}}) : setForm(p=>({...p, status: 'Viva'}))} className=\"w-full px-4 py-3 border rounded-lg bg-white\"><option>Viva</option><option>Vendida</option><option>Muerta</option></select></div>\r\n                    </div>\r\n                    <div className=\"flex justify-end gap-4 mt-8\"><button onClick={onCancel} className=\"px-6 py-3 rounded-lg bg-stone-200\">Cancelar</button><button onClick={handleUpdate} className=\"px-6 py-3 rounded-lg bg-emerald-600 text-white\">Actualizar</button></div>\r\n                </div>\r\n            )}\r\n            {modal.isOpen && modal.type === 'changeStatus' && (<Modal onClose={() => setModal({isOpen: false})} title={`Cambiar Estado a ${modal.data.newStatus}`}><p className=\"mb-4\">Se requiere la fecha.</p><div><label>Fecha</label><input type=\"date\" id=\"statusDate\" className=\"w-full px-4 py-2 border rounded-lg\" /></div><p className=\"text-red-600 font-medium mt-4\">¡Atención! Esta acción es irreversible.</p><div className=\"flex justify-end gap-4 mt-6\"><button onClick={() => setModal({isOpen: false})} className=\"px-6 py-2 rounded-lg bg-stone-200\">Cancelar</button><button onClick={() => handleStatusChange(modal.data.newStatus, document.getElementById('statusDate').value)} className=\"px-6 py-2 rounded-lg bg-red-600 text-white\">Confirmar</button></div></Modal>)}\r\n            {modal.isOpen && modal.type === 'addOffspring' && (<Modal onClose={() => setModal({isOpen: false})} title=\"Añadir Cría\"><div className=\"space-y-4\"><div><label>Código de la Cría</label><input type=\"text\" id=\"calfId\" className=\"w-full px-4 py-2 border rounded-lg\" /></div><div><label>Fecha de Parto</label><input type=\"date\" id=\"calfBirthDate\" className=\"w-full px-4 py-2 border rounded-lg\" /></div></div><div className=\"flex justify-end gap-4 mt-6\"><button onClick={() => setModal({isOpen: false})} className=\"px-6 py-2 rounded-lg bg-stone-200\">Cancelar</button><button onClick={() => handleAddOffspring(document.getElementById('calfId').value, document.getElementById('calfBirthDate').value)} className=\"px-6 py-2 rounded-lg bg-sky-500 text-white\">Guardar</button></div></Modal>)}\r\n        </div>\r\n    );\r\n};\r\nconst ConsultScreen = ({ cattleData, owners, deceasedSoldData }) => { const [view, setView] = useState('menu'); const [selectedOwner, setSelectedOwner] = useState(null); const [detailsModal, setDetailsModal] = useState({ isOpen: false, cattle: null }); const CattleCard = ({ cattle, onClick }) => { const owner = owners.find(o => o.docId === cattle.ownerId); return (<div onClick={() => onClick(cattle)} className=\"bg-white p-4 rounded-xl shadow-md hover:shadow-lg transition-shadow cursor-pointer border-l-4 border-amber-400\"><div className=\"flex justify-between items-start\"><div><p className=\"font-bold text-lg text-stone-800\">{cattle.customId}</p><p className=\"text-stone-600\">{determineCattleType(cattle)}</p></div><div className={`px-3 py-1 rounded-full text-sm font-semibold ${cattle.status === 'Viva' ? 'bg-emerald-100 text-emerald-800' : 'bg-red-100 text-red-800'}`}>{cattle.status}</div></div><div className=\"mt-3 pt-3 border-t\"><p className=\"text-sm text-stone-500\">Propietario: <span className=\"font-medium text-stone-700\">{owner ? owner.name : 'N/A'}</span></p></div></div>); }; const renderContent = () => { switch (view) { case 'byOwner': if (!selectedOwner) { return (<div><button onClick={() => setView('menu')} className=\"mb-4 text-emerald-600 font-semibold\">&larr; Volver</button><h3 className=\"text-xl font-bold mb-4\">Selecciona un Propietario</h3><div className=\"space-y-2\">{owners.map(o => <button key={o.docId} onClick={() => setSelectedOwner(o)} className=\"w-full text-left p-4 bg-stone-100 rounded-lg hover:bg-emerald-50\">{o.name}</button>)}</div></div>); } const ownerCattle = cattleData.filter(c => c.ownerId === selectedOwner.docId); return (<div><button onClick={() => setSelectedOwner(null)} className=\"mb-4 text-emerald-600 font-semibold\">&larr; Volver</button><h3 className=\"text-xl font-bold mb-4\">Reses de {selectedOwner.name}</h3><div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">{ownerCattle.length > 0 ? ownerCattle.map(c => <CattleCard key={c.docId} cattle={c} onClick={(cattle) => setDetailsModal({ isOpen: true, cattle })} />) : <p>Este propietario no tiene reses.</p>}</div></div>); case 'all': return (<div><button onClick={() => setView('menu')} className=\"mb-4 text-emerald-600 font-semibold\">&larr; Volver</button><h3 className=\"text-xl font-bold mb-4\">Listado de Reses Vivas</h3><div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">{cattleData.map(c => <CattleCard key={c.docId} cattle={c} onClick={(cattle) => setDetailsModal({ isOpen: true, cattle })} />)}</div></div>); case 'deceasedSold': return (<div><button onClick={() => setView('menu')} className=\"mb-4 text-emerald-600 font-semibold\">&larr; Volver</button><h3 className=\"text-xl font-bold mb-4\">Listado de Reses Vendidas o Muertas</h3><div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">{deceasedSoldData.map(c => <CattleCard key={c.docId} cattle={c} onClick={(cattle) => setDetailsModal({ isOpen: true, cattle })} />)}</div></div>); default: return (<div className=\"space-y-4\"><button onClick={() => setView('byOwner')} className=\"w-full p-6 bg-white rounded-lg shadow-md text-left text-lg font-semibold hover:bg-emerald-50\">Por Propietarios</button><button onClick={() => setView('all')} className=\"w-full p-6 bg-white rounded-lg shadow-md text-left text-lg font-semibold hover:bg-emerald-50\">Reses Vivas</button><button onClick={() => setView('deceasedSold')} className=\"w-full p-6 bg-white rounded-lg shadow-md text-left text-lg font-semibold hover:bg-emerald-50\">Muertas/Vendidas</button></div>); } }; return (<div className=\"p-6\"><div className=\"bg-white p-8 rounded-2xl shadow-lg\"><h2 className=\"text-2xl font-bold text-emerald-800 mb-6\">Consultar Registros</h2>{renderContent()}</div>{detailsModal.isOpen && detailsModal.cattle && (<Modal onClose={() => setDetailsModal({ isOpen: false })} title={`Detalles de ${detailsModal.cattle.customId}`}><div className=\"space-y-3\">{detailsModal.cattle.photoURLs && detailsModal.cattle.photoURLs.length > 0 && <div className=\"flex gap-2\">{detailsModal.cattle.photoURLs.map(url => <img key={url} src={url} alt=\"foto\" className=\"w-24 h-24 object-cover rounded-md\" />)}</div>}{Object.entries(detailsModal.cattle).map(([key, value]) => {if (['docId', 'createdAt', 'originalDocId', 'photoURLs'].includes(key)) return null; return (<div key={key} className=\"flex justify-between\"><span className=\"font-medium text-stone-600 capitalize\">{key.replace(/([A-Z])/g, ' $1')}:</span><span className=\"text-stone-800\">{String(value)}</span></div>);})}<div className=\"flex justify-between\"><span className=\"font-medium text-stone-600\">Tipo:</span><span className=\"text-stone-800\">{determineCattleType(detailsModal.cattle)}</span></div></div><div className=\"flex justify-end mt-6\"><button onClick={() => setDetailsModal({isOpen: false})} className=\"px-6 py-2 rounded-lg bg-emerald-600 text-white\">Cerrar</button></div></Modal>)}</div>);};\r\nconst RegisterActivitiesScreen = ({ onCancel, activities, user }) => { const [view, setView] = useState('menu'); const [form, setForm] = useState({ date: '', status: 'En curso', observations: '' }); const handleSave = async () => { if (form.date && form.observations && user) { try { await addDoc(collection(db, 'users', user.uid, 'activities'), { ...form, createdAt: new Date() }); alert('Actividad guardada!'); setForm({ date: '', status: 'En curso', observations: '' }); setView('consult'); } catch (error) { console.error(\"Error: \", error); alert(\"Error al guardar.\"); } } }; const sortedActivities = useMemo(() => [...activities].sort((a, b) => new Date(b.date) - new Date(a.date)), [activities]); return (<div className=\"p-6\"><div className=\"bg-white p-8 rounded-2xl shadow-lg\"><h2 className=\"text-2xl font-bold text-emerald-800 mb-6\">Gestión de Actividades</h2>{view === 'menu' ? (<div className=\"flex flex-col md:flex-row gap-4\"><button onClick={() => setView('add')} className=\"w-full p-6 bg-white rounded-lg shadow-md text-center text-lg font-semibold hover:bg-emerald-50\">Agregar</button><button onClick={() => setView('consult')} className=\"w-full p-6 bg-white rounded-lg shadow-md text-center text-lg font-semibold hover:bg-emerald-50\">Consultar</button></div>) : view === 'add' ? (<div><button onClick={() => setView('menu')} className=\"mb-4 text-emerald-600 font-semibold\">&larr; Volver</button><h3 className=\"text-xl font-bold mb-4\">Agregar Actividad</h3><div className=\"space-y-4\"><div><label>Fecha</label><input type=\"date\" value={form.date} onChange={e => setForm({...form, date: e.target.value})} className=\"w-full px-4 py-2 border rounded-lg\" /></div><div><label>Estado</label><select value={form.status} onChange={e => setForm({...form, status: e.target.value})} className=\"w-full px-4 py-2 border rounded-lg bg-white\"><option>En curso</option><option>Completada</option></select></div><div><label>Observaciones</label><textarea value={form.observations} onChange={e => setForm({...form, observations: e.target.value})} rows=\"4\" className=\"w-full px-4 py-2 border rounded-lg\"></textarea></div><div className=\"flex justify-end\"><button onClick={handleSave} className=\"px-6 py-3 rounded-lg bg-emerald-600 text-white font-semibold\">Guardar</button></div></div></div>) : (<div><button onClick={() => setView('menu')} className=\"mb-4 text-emerald-600 font-semibold\">&larr; Volver</button><h3 className=\"text-xl font-bold mb-4\">Registro de Actividades</h3><div className=\"space-y-3\">{sortedActivities.map(act => (<div key={act.docId} className=\"p-4 bg-stone-50 rounded-lg border\"><div className=\"flex justify-between items-center\"><p className=\"font-semibold\">{act.date}</p><span className={`px-2 py-1 text-xs font-bold rounded-full ${act.status === 'Completada' ? 'bg-emerald-200 text-emerald-800' : 'bg-amber-200 text-amber-800'}`}>{act.status}</span></div><p className=\"mt-2 text-stone-600\">{act.observations}</p></div>))}</div></div>)}</div></div>);};\r\nconst AdminPanel = ({ onCancel, user }) => {\r\n    const [allUsers, setAllUsers] = useState([]);\r\n    const [selectedUser, setSelectedUser] = useState(null);\r\n    const [userData, setUserData] = useState({ owners: [], cattle: [] });\r\n    const [view, setView] = useState('main');\r\n\r\n    useEffect(() => {\r\n        const q = query(collection(db, 'users_public_info'));\r\n        const unsub = onSnapshot(q, (snapshot) => { setAllUsers(snapshot.docs.map(d => ({...d.data(), docId: d.id }))); });\r\n        return () => unsub();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (selectedUser) {\r\n            const unsubOwners = onSnapshot(collection(db, 'users', selectedUser.uid, 'owners'), (snapshot) => { setUserData(prev => ({...prev, owners: snapshot.docs.map(d => ({...d.data(), docId: d.id })) })); });\r\n            const unsubCattle = onSnapshot(collection(db, 'users', selectedUser.uid, 'cattle'), (snapshot) => { setUserData(prev => ({...prev, cattle: snapshot.docs.map(d => ({...d.data(), docId: d.id })) })); });\r\n            return () => { unsubOwners(); unsubCattle(); };\r\n        }\r\n    }, [selectedUser]);\r\n\r\n    const handleDelete = async (collectionName, docId) => {\r\n        if(window.confirm(\"¿Seguro que deseas eliminar este registro?\")) {\r\n            await deleteDoc(doc(db, 'users', selectedUser.uid, collectionName, docId));\r\n            alert(\"Registro eliminado.\");\r\n        }\r\n    };\r\n\r\n    if (view === 'registerCattle') { return <RegisterCattleScreen onCancel={() => setView('main')} owners={userData.owners} cattleData={userData.cattle} user={user} targetUserUid={selectedUser.uid} />; }\r\n\r\n    return (\r\n        <div className=\"p-6\"><div className=\"bg-white p-8 rounded-2xl shadow-lg\"><h2 className=\"text-2xl font-bold text-emerald-800 mb-6\">Panel de Administrador</h2><div className=\"mb-4\"><label className=\"block text-stone-700 font-medium mb-2\">Seleccionar Usuario</label><select onChange={(e) => setSelectedUser(allUsers.find(u => u.uid === e.target.value))} className=\"w-full p-2 border rounded\"><option value=\"\">-- Elija un usuario --</option>{allUsers.map(u => <option key={u.uid} value={u.uid}>{u.email}</option>)}</select></div>{selectedUser && (<div><button onClick={() => setView('registerCattle')} className=\"my-4 px-4 py-2 bg-blue-500 text-white rounded\">Registrar Res para Usuario</button><div><h3 className=\"text-xl font-bold mt-6 mb-2\">Propietarios</h3>{userData.owners.map(o => <div key={o.docId} className=\"flex justify-between items-center p-2 border-b\">{o.name} <button onClick={() => handleDelete('owners', o.docId)} className=\"text-red-500\"><Trash2 size={18}/></button></div>)}</div><div><h3 className=\"text-xl font-bold mt-6 mb-2\">Reses</h3>{userData.cattle.map(c => <div key={c.docId} className=\"flex justify-between items-center p-2 border-b\">{c.customId} - {c.gender} <button onClick={() => handleDelete('cattle', c.docId)} className=\"text-red-500\"><Trash2 size={18}/></button></div>)}</div></div>)}</div></div>\r\n    );\r\n};\r\n\r\n\r\n// --- Componente Principal de la App ---\r\nexport default function App() {\r\n    const [user, setUser] = useState(null);\r\n    const [isAdmin, setIsAdmin] = useState(false);\r\n    const [loading, setLoading] = useState(true);\r\n    const [currentPage, setCurrentPage] = useState('home');\r\n    const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n    const [owners, setOwners] = useState([]);\r\n    const [cattleData, setCattleData] = useState([]);\r\n    const [deceasedSoldData, setDeceasedSoldData] = useState([]);\r\n    const [activities, setActivities] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = onAuthStateChanged(auth, (currentUser) => {\r\n            setUser(currentUser);\r\n            setIsAdmin(currentUser ? ADMIN_EMAILS.includes(currentUser.email) : false);\r\n            setLoading(false);\r\n            if(currentUser) { setCurrentPage('home'); }\r\n        });\r\n        return () => unsubscribe();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (user) {\r\n            const collections = ['owners', 'cattle', 'deceasedSoldCattle', 'activities'];\r\n            const setters = [setOwners, setCattleData, setDeceasedSoldData, setActivities];\r\n            const unsubscribes = collections.map((col, index) => {\r\n                const q = query(collection(db, 'users', user.uid, col));\r\n                return onSnapshot(q, (snapshot) => { setters[index](snapshot.docs.map(d => ({ ...d.data(), docId: d.id }))); });\r\n            });\r\n            return () => unsubscribes.forEach(unsub => unsub());\r\n        } else {\r\n            setOwners([]); setCattleData([]); setDeceasedSoldData([]); setActivities([]);\r\n        }\r\n    }, [user]);\r\n\r\n    if (loading) { return <div className=\"flex justify-center items-center h-screen\">Cargando...</div>; }\r\n    if (!user) { return <AuthScreen />; }\r\n\r\n    const renderPage = () => {\r\n        switch (currentPage) {\r\n            case 'registerOwner': return <RegisterOwnerScreen onCancel={() => setCurrentPage('home')} owners={owners} user={user} />;\r\n            case 'registerCattle': return <RegisterCattleScreen onCancel={() => setCurrentPage('home')} owners={owners} cattleData={cattleData} user={user} />;\r\n            case 'updateCattle': return <UpdateCattleScreen onCancel={() => setCurrentPage('home')} owners={owners} user={user} />;\r\n            case 'consult': return <ConsultScreen cattleData={cattleData} owners={owners} deceasedSoldData={deceasedSoldData} />;\r\n            case 'activities': return <RegisterActivitiesScreen onCancel={() => setCurrentPage('home')} activities={activities} user={user} />;\r\n            case 'admin': return isAdmin ? <AdminPanel onCancel={() => setCurrentPage('home')} user={user} /> : <HomeScreen navigate={setCurrentPage} />;\r\n            case 'home': default: return <HomeScreen navigate={setCurrentPage} />;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"bg-stone-100 min-h-screen font-sans\">\r\n            <SideMenu isOpen={isMenuOpen} onClose={() => setIsMenuOpen(false)} navigate={setCurrentPage} isAdmin={isAdmin} />\r\n            <Header title=\"Finca Moreno Z\" onMenuClick={() => setIsMenuOpen(true)} />\r\n            <main>{renderPage()}</main>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}