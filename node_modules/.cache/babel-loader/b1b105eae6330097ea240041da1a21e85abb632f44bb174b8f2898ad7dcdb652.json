{"ast":null,"code":"import _objectSpread from\"C:/Users/alezv/Desktop/App/React/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useMemo}from'react';import{Plus,Edit,Search,Menu,X,Save,FileText,Users,Activity,Home,LogOut,UserPlus,LogIn,Shield,Trash2}from'lucide-react';// Importa los servicios de Firebase desde tu archivo de configuración\nimport{auth,db,storage}from'./firebase';import{onAuthStateChanged,createUserWithEmailAndPassword,signInWithEmailAndPassword,signOut}from\"firebase/auth\";import{collection,addDoc,onSnapshot,query,doc,updateDoc,writeBatch,where,getDocs,deleteDoc,serverTimestamp}from\"firebase/firestore\";import{ref,uploadBytes,getDownloadURL}from\"firebase/storage\";// --- CONFIGURACIÓN DE ADMINISTRADOR ---\n// TODO: Añade aquí los correos de los usuarios que serán administradores.\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ADMIN_EMAILS=[\"admin@example.com\",\"alezvalopz@gmail.com\"];// --- Pantalla de Autenticación (Login y Registro) ---\nconst AuthScreen=()=>{const[isLogin,setIsLogin]=useState(true);const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState('');const handleAuth=async e=>{e.preventDefault();setError('');try{if(isLogin){await signInWithEmailAndPassword(auth,email,password);}else{const userCredential=await createUserWithEmailAndPassword(auth,email,password);const usersCollectionRef=collection(db,'users_public_info');await addDoc(usersCollectionRef,{uid:userCredential.user.uid,email:userCredential.user.email});}}catch(err){setError(\"Error: \"+err.message.replace('Firebase: ',''));}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-stone-100 flex flex-col justify-center items-center p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-md bg-white rounded-2xl shadow-xl p-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center mb-6\",children:/*#__PURE__*/_jsx(\"img\",{src:\"http://googleusercontent.com/file_content/2\",alt:\"Logo\",className:\"h-20 w-20\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-center text-emerald-800 mb-2\",children:isLogin?'Iniciar Sesión':'Crear Cuenta'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-stone-500 mb-8\",children:\"Bienvenido a Finca Moreno Z\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAuth,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-stone-700 font-medium mb-2\",children:\"Correo Electr\\xF3nico\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:e=>setEmail(e.target.value),className:\"w-full px-4 py-3 border border-stone-300 rounded-lg\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-stone-700 font-medium mb-2\",children:\"Contrase\\xF1a\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),className:\"w-full px-4 py-3 border border-stone-300 rounded-lg\",required:true})]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-sm mb-4\",children:error}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"w-full bg-emerald-600 text-white font-bold py-3 rounded-lg hover:bg-emerald-700 transition-colors flex items-center justify-center gap-2\",children:[isLogin?/*#__PURE__*/_jsx(LogIn,{size:18}):/*#__PURE__*/_jsx(UserPlus,{size:18}),isLogin?'Ingresar':'Registrarse']})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 text-center\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsLogin(!isLogin),className:\"text-emerald-600 hover:underline\",children:isLogin?'¿No tienes una cuenta? Regístrate':'¿Ya tienes una cuenta? Inicia sesión'})})]})});};// --- Componentes de la UI (Reutilizados) ---\nconst Modal=_ref=>{let{children,onClose,title}=_ref;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-2xl w-full max-w-md m-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-4 border-b border-stone-200\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-emerald-800\",children:title}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-stone-400 hover:text-stone-600\",children:/*#__PURE__*/_jsx(X,{size:24})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:children})]})});};const Header=_ref2=>{let{title,onMenuClick}=_ref2;const handleLogout=()=>{signOut(auth);};return/*#__PURE__*/_jsxs(\"header\",{className:\"bg-emerald-800 text-white p-4 shadow-lg flex items-center justify-between sticky top-0 z-40\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onMenuClick,className:\"mr-4 p-2 rounded-full hover:bg-emerald-700\",children:/*#__PURE__*/_jsx(Menu,{size:24})}),/*#__PURE__*/_jsx(\"img\",{src:\"http://googleusercontent.com/file_content/2\",alt:\"Logo\",className:\"h-10 w-10 rounded-full bg-white p-1 object-contain\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold ml-4 tracking-wider\",children:title})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleLogout,className:\"flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-emerald-700 font-semibold\",children:[/*#__PURE__*/_jsx(LogOut,{size:18}),\" Salir\"]})]});};const SideMenu=_ref3=>{let{isOpen,onClose,navigate,isAdmin}=_ref3;const menuItems=[{name:'Inicio',page:'home',icon:/*#__PURE__*/_jsx(Home,{size:20}),adminOnly:false},{name:'Registrar Res',page:'registerCattle',icon:/*#__PURE__*/_jsx(Plus,{size:20}),adminOnly:false},{name:'Actualizar Res',page:'updateCattle',icon:/*#__PURE__*/_jsx(Edit,{size:20}),adminOnly:false},{name:'Consultar',page:'consult',icon:/*#__PURE__*/_jsx(FileText,{size:20}),adminOnly:false},{name:'Actividades',page:'activities',icon:/*#__PURE__*/_jsx(Activity,{size:20}),adminOnly:false},{name:'Propietarios',page:'registerOwner',icon:/*#__PURE__*/_jsx(Users,{size:20}),adminOnly:false},{name:'Panel de Admin',page:'admin',icon:/*#__PURE__*/_jsx(Shield,{size:20}),adminOnly:true}];return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 z-40 transition-opacity \".concat(isOpen?'opacity-100':'opacity-0 pointer-events-none'),onClick:onClose}),/*#__PURE__*/_jsxs(\"div\",{className:\"fixed top-0 left-0 h-full bg-white w-72 shadow-xl z-50 transform transition-transform \".concat(isOpen?'translate-x-0':'-translate-x-full'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border-b flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-emerald-800\",children:\"Men\\xFA\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-stone-500 hover:text-stone-800\",children:/*#__PURE__*/_jsx(X,{size:24})})]}),/*#__PURE__*/_jsx(\"nav\",{className:\"p-4\",children:/*#__PURE__*/_jsx(\"ul\",{children:menuItems.map(item=>(!item.adminOnly||isAdmin)&&/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{navigate(item.page);onClose();},className:\"w-full text-left flex items-center gap-3 px-4 py-3 rounded-lg text-stone-700 hover:bg-emerald-50 hover:text-emerald-800 font-medium transition-all\",children:[item.icon,item.name]})},item.page))})})]})]});};// --- Lógica de Negocio ---\nconst calculateAgeInMonths=birthDate=>{if(!birthDate)return 0;const today=new Date();const birth=new Date(birthDate);let months=(today.getFullYear()-birth.getFullYear())*12;months-=birth.getMonth();months+=today.getMonth();return months<=0?0:months;};const determineCattleType=cattle=>{if(!cattle||!cattle.birthDate||!cattle.gender)return'N/A';const ageInMonths=calculateAgeInMonths(cattle.birthDate);if(ageInMonths<=12)return'Ternero/a';if(cattle.gender==='Hembra'){if(cattle.offspring&&cattle.offspring.length>0){const lastParto=new Date(Math.max(...cattle.offspring.map(o=>new Date(o.birthDate))));const monthsSinceParto=calculateAgeInMonths(lastParto);return monthsSinceParto<=12?'Vaca Parida':'Vaca Horra';}return ageInMonths<=24?'Novilla':'Vaca';}if(cattle.gender==='Macho'){if(ageInMonths<=24)return'Levante';if(cattle.isCastrated===true)return'Macho de Engorde';if(cattle.isCastrated===false)return'Toro';return'Macho Adulto';}return'Desconocido';};// --- Pantallas de la Aplicación ---\nconst HomeScreen=_ref4=>{let{navigate}=_ref4;return/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 gap-6 p-6\",children:[{label:'Registro de Res',page:'registerCattle',icon:/*#__PURE__*/_jsx(Plus,{className:\"w-12 h-12\"})},{label:'Actualización de Res',page:'updateCattle',icon:/*#__PURE__*/_jsx(Edit,{className:\"w-12 h-12\"})},{label:'Consultar',page:'consult',icon:/*#__PURE__*/_jsx(FileText,{className:\"w-12 h-12\"})},{label:'Registro de Actividades',page:'activities',icon:/*#__PURE__*/_jsx(Activity,{className:\"w-12 h-12\"})},{label:'Registrar Propietarios',page:'registerOwner',icon:/*#__PURE__*/_jsx(Users,{className:\"w-12 h-12\"})}].map(btn=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate(btn.page),className:\"bg-white rounded-2xl shadow-lg p-6 flex flex-col items-center justify-center text-center text-emerald-800 hover:bg-emerald-50 hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 aspect-square border-b-4 border-amber-400\",children:[btn.icon,/*#__PURE__*/_jsx(\"span\",{className:\"mt-4 font-semibold text-lg\",children:btn.label})]},btn.page))});};const RegisterOwnerScreen=_ref5=>{let{onCancel,owners,user}=_ref5;const[name,setName]=useState('');const handleSave=async()=>{if(name.trim()&&user){try{await addDoc(collection(db,'users',user.uid,'owners'),{name:name.trim()});alert('Propietario guardado!');onCancel();}catch(error){console.error(\"Error: \",error);alert(\"Error al guardar.\");}}};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded-2xl shadow-lg\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-emerald-800 mb-6\",children:\"Registrar Nuevo Propietario\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-stone-700 font-medium mb-2\",children:\"Nombre y Apellidos\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:e=>setName(e.target.value),className:\"w-full px-4 py-3 border border-stone-300 rounded-lg\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onCancel,className:\"px-6 py-3 rounded-lg bg-stone-200 text-stone-700 font-semibold\",children:\"Cancelar\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleSave,className:\"px-6 py-3 rounded-lg bg-emerald-600 text-white font-semibold flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Save,{size:18}),\" Guardar\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 bg-white p-8 rounded-2xl shadow-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-emerald-800 mb-4\",children:\"Propietarios Registrados\"}),owners.length>0?/*#__PURE__*/_jsx(\"ul\",{className:\"divide-y divide-stone-200\",children:owners.map(owner=>/*#__PURE__*/_jsx(\"li\",{className:\"py-3 text-stone-600\",children:owner.name},owner.docId))}):/*#__PURE__*/_jsx(\"p\",{className:\"text-stone-500\",children:\"No hay propietarios registrados.\"})]})]});};const RegisterCattleScreen=_ref6=>{let{onCancel,owners,cattleData,user,targetUserUid}=_ref6;const[form,setForm]=useState({id:'',birthDate:'',gender:'Hembra',weight:'',parentsId:'',lastVaccines:'',ownerId:owners.length>0?owners[0].docId:''});const[useAutoId,setUseAutoId]=useState(true);const[photos,setPhotos]=useState([]);const[isUploading,setIsUploading]=useState(false);const cattleType=useMemo(()=>determineCattleType(form),[form.birthDate,form.gender]);const handleChange=e=>{const{name,value}=e.target;setForm(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handlePhotoChange=e=>{if(e.target.files.length>0&&photos.length<3){setPhotos(prev=>[...prev,...Array.from(e.target.files).slice(0,3-prev.length)]);}};const generateAutoId=()=>{const allIds=cattleData.map(c=>c.customId.replace(/^[VM]-/,'')).filter(id=>id.startsWith('FMZ-'));const lastIdNum=allIds.length>0?Math.max(...allIds.map(id=>parseInt(id.split('-')[1]))):0;return\"FMZ-\".concat(String(lastIdNum+1).padStart(3,'0'));};const handleSave=async()=>{const finalId=useAutoId?generateAutoId():form.id.trim();if(!finalId||!form.birthDate||!form.weight||!form.ownerId){alert(\"Campos obligatorios incompletos.\");return;}if(!useAutoId&&cattleData.some(c=>c.customId.toUpperCase()===finalId.toUpperCase())){alert(\"El código ya existe.\");return;}const userIdToSave=targetUserUid||user.uid;if(!userIdToSave){alert(\"No se pudo identificar al usuario.\");return;}setIsUploading(true);try{const photoURLs=[];for(const photo of photos){const photoRef=ref(storage,\"cattle-photos/\".concat(userIdToSave,\"/\").concat(finalId,\"/\").concat(photo.name));await uploadBytes(photoRef,photo);const url=await getDownloadURL(photoRef);photoURLs.push(url);}await addDoc(collection(db,'users',userIdToSave,'cattle'),_objectSpread(_objectSpread({},form),{},{customId:finalId,status:'Viva',offspring:[],weight:parseFloat(form.weight),createdAt:serverTimestamp(),photoURLs}));alert('Res guardada con éxito!');onCancel();}catch(error){console.error(\"Error: \",error);alert(\"Error al guardar.\");}finally{setIsUploading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded-2xl shadow-lg\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-emerald-800 mb-6\",children:\"Registrar Nueva Res\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-stone-700 font-medium mb-2\",children:\"Fotos (m\\xE1x. 3)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-4 items-center\",children:/*#__PURE__*/_jsx(\"input\",{type:\"file\",multiple:true,accept:\"image/*\",onChange:handlePhotoChange,className:\"text-sm\",disabled:photos.length>=3})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-stone-700 font-medium mb-2\",children:\"C\\xF3digo\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"id\",value:useAutoId?generateAutoId():form.id,onChange:handleChange,disabled:useAutoId,className:\"w-full px-4 py-3 border rounded-lg disabled:bg-stone-100\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setUseAutoId(!useAutoId),className:\"px-4 py-3 rounded-lg font-semibold \".concat(useAutoId?'bg-emerald-600 text-white':'bg-stone-200'),children:\"Auto\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-stone-700 font-medium mb-2\",children:\"Nacimiento\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"birthDate\",value:form.birthDate,onChange:handleChange,className:\"w-full px-4 py-3 border rounded-lg\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-stone-700 font-medium mb-2\",children:\"G\\xE9nero\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"gender\",value:form.gender,onChange:handleChange,className:\"w-full px-4 py-3 border rounded-lg bg-white\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"Hembra\",children:\"Hembra\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Macho\",children:\"Macho\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-stone-700 font-medium mb-2\",children:\"Peso (Kg)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"weight\",value:form.weight,onChange:handleChange,className:\"w-full px-4 py-3 border rounded-lg\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-stone-700 font-medium mb-2\",children:\"Padres\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"parentsId\",value:form.parentsId,onChange:handleChange,className:\"w-full px-4 py-3 border rounded-lg\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-stone-700 font-medium mb-2\",children:\"Tipo\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:cattleType,disabled:true,className:\"w-full px-4 py-3 border rounded-lg bg-stone-100\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-stone-700 font-medium mb-2\",children:\"Vacunas\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"lastVaccines\",value:form.lastVaccines,onChange:handleChange,className:\"w-full px-4 py-3 border rounded-lg\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-stone-700 font-medium mb-2\",children:\"Propietario\"}),/*#__PURE__*/_jsx(\"select\",{name:\"ownerId\",value:form.ownerId,onChange:handleChange,className:\"w-full px-4 py-3 border rounded-lg bg-white\",disabled:owners.length===0,children:owners.length>0?owners.map(o=>/*#__PURE__*/_jsx(\"option\",{value:o.docId,children:o.name},o.docId)):/*#__PURE__*/_jsx(\"option\",{children:\"Registre un propietario\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-4 mt-8\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onCancel,className:\"px-6 py-3 rounded-lg bg-stone-200\",disabled:isUploading,children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSave,className:\"px-6 py-3 rounded-lg bg-emerald-600 text-white flex items-center gap-2\",disabled:isUploading,children:isUploading?'Guardando...':/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Save,{size:18}),\" Guardar\"]})})]})]})});};const UpdateCattleScreen=_ref7=>{var _form$offspring;let{onCancel,owners,user}=_ref7;const[searchTerm,setSearchTerm]=useState('');const[selectedCattle,setSelectedCattle]=useState(null);const[form,setForm]=useState(null);const[modal,setModal]=useState({isOpen:false,type:'',data:null});const handleSearch=async()=>{const q=query(collection(db,'users',user.uid,'cattle'),where(\"customId\",\"==\",searchTerm.trim().toUpperCase()));const querySnapshot=await getDocs(q);if(!querySnapshot.empty){const doc=querySnapshot.docs[0];const foundCattle=_objectSpread(_objectSpread({},doc.data()),{},{docId:doc.id});setSelectedCattle(foundCattle);setForm(foundCattle);}else{alert(\"Código inexistente\");setSelectedCattle(null);setForm(null);}};const handleUpdate=async()=>{if(window.confirm(\"¿Seguro que deseas actualizar los datos?\")){const cattleDocRef=doc(db,'users',user.uid,'cattle',selectedCattle.docId);await updateDoc(cattleDocRef,form);alert(\"Información actualizada con éxito\");onCancel();}};const handleStatusChange=async(newStatus,date)=>{if(!date){alert(\"Por favor, selecciona una fecha.\");return;}const batch=writeBatch(db);const oldDocRef=doc(db,'users',user.uid,'cattle',selectedCattle.docId);const newDocRef=doc(collection(db,'users',user.uid,'deceasedSoldCattle'));const newCustomId=\"\".concat(newStatus==='Vendida'?'V':'M',\"-\").concat(selectedCattle.customId);const updatedData=_objectSpread(_objectSpread(_objectSpread({},selectedCattle),form),{},{status:newStatus,statusChangeDate:date,customId:newCustomId,originalDocId:selectedCattle.docId});delete updatedData.docId;batch.set(newDocRef,updatedData);batch.delete(oldDocRef);await batch.commit();alert(\"Estado actualizado a \".concat(newStatus,\".\"));onCancel();};const handleAddOffspring=async(calfId,birthDate)=>{if(!calfId||!birthDate){alert(\"Completa los datos de la cría.\");return;}const updatedOffspring=[...(form.offspring||[]),{calfId,birthDate}];setForm(prev=>_objectSpread(_objectSpread({},prev),{},{offspring:updatedOffspring}));setModal({isOpen:false});};const handleChange=e=>setForm(prev=>_objectSpread(_objectSpread({},prev),{},{[e.target.name]:e.target.value}));return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded-2xl shadow-lg mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-emerald-800 mb-6\",children:\"Actualizar Res\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),placeholder:\"Buscar por c\\xF3digo...\",className:\"w-full px-4 py-3 border rounded-lg\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSearch,className:\"px-6 py-3 rounded-lg bg-emerald-600 text-white font-semibold\",children:/*#__PURE__*/_jsx(Search,{size:18})})]})]}),selectedCattle&&form&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded-2xl shadow-lg\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-bold text-stone-800 mb-4\",children:[\"Editando: \",form.customId]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-stone-700 font-medium\",children:\"Peso (Kg)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"weight\",value:form.weight,onChange:handleChange,className:\"w-full px-4 py-3 border rounded-lg\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-stone-700 font-medium\",children:\"Propietario\"}),/*#__PURE__*/_jsx(\"select\",{name:\"ownerId\",value:form.ownerId,onChange:handleChange,className:\"w-full px-4 py-3 border rounded-lg bg-white\",children:owners.map(o=>/*#__PURE__*/_jsx(\"option\",{value:o.docId,children:o.name},o.docId))})]}),form.gender==='Hembra'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-stone-700 font-medium\",children:[\"Cr\\xEDas (\",((_form$offspring=form.offspring)===null||_form$offspring===void 0?void 0:_form$offspring.length)||0,\")\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setModal({isOpen:true,type:'addOffspring'}),className:\"w-full px-4 py-3 rounded-lg bg-sky-500 text-white font-semibold\",children:\"A\\xF1adir Cr\\xEDa\"})]}),form.gender==='Macho'&&calculateAgeInMonths(form.birthDate)>24&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-stone-700 font-medium\",children:\"Castraci\\xF3n\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setForm(p=>_objectSpread(_objectSpread({},p),{},{isCastrated:true})),className:\"w-full py-2 rounded-lg \".concat(form.isCastrated===true?'bg-emerald-600 text-white':'bg-stone-200'),children:\"Capado\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setForm(p=>_objectSpread(_objectSpread({},p),{},{isCastrated:false})),className:\"w-full py-2 rounded-lg \".concat(form.isCastrated===false?'bg-emerald-600 text-white':'bg-stone-200'),children:\"Sin Capar\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-stone-700 font-medium\",children:\"Estado\"}),/*#__PURE__*/_jsxs(\"select\",{value:form.status,onChange:e=>e.target.value!=='Viva'?setModal({isOpen:true,type:'changeStatus',data:{newStatus:e.target.value}}):setForm(p=>_objectSpread(_objectSpread({},p),{},{status:'Viva'})),className:\"w-full px-4 py-3 border rounded-lg bg-white\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"Viva\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Vendida\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Muerta\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-4 mt-8\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onCancel,className:\"px-6 py-3 rounded-lg bg-stone-200\",children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleUpdate,className:\"px-6 py-3 rounded-lg bg-emerald-600 text-white\",children:\"Actualizar\"})]})]}),modal.isOpen&&modal.type==='changeStatus'&&/*#__PURE__*/_jsxs(Modal,{onClose:()=>setModal({isOpen:false}),title:\"Cambiar Estado a \".concat(modal.data.newStatus),children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-4\",children:\"Se requiere la fecha.\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Fecha\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"statusDate\",className:\"w-full px-4 py-2 border rounded-lg\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600 font-medium mt-4\",children:\"\\xA1Atenci\\xF3n! Esta acci\\xF3n es irreversible.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-4 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setModal({isOpen:false}),className:\"px-6 py-2 rounded-lg bg-stone-200\",children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleStatusChange(modal.data.newStatus,document.getElementById('statusDate').value),className:\"px-6 py-2 rounded-lg bg-red-600 text-white\",children:\"Confirmar\"})]})]}),modal.isOpen&&modal.type==='addOffspring'&&/*#__PURE__*/_jsxs(Modal,{onClose:()=>setModal({isOpen:false}),title:\"A\\xF1adir Cr\\xEDa\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"C\\xF3digo de la Cr\\xEDa\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"calfId\",className:\"w-full px-4 py-2 border rounded-lg\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Fecha de Parto\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"calfBirthDate\",className:\"w-full px-4 py-2 border rounded-lg\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-4 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setModal({isOpen:false}),className:\"px-6 py-2 rounded-lg bg-stone-200\",children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAddOffspring(document.getElementById('calfId').value,document.getElementById('calfBirthDate').value),className:\"px-6 py-2 rounded-lg bg-sky-500 text-white\",children:\"Guardar\"})]})]})]});};const ConsultScreen=_ref8=>{let{cattleData,owners,deceasedSoldData}=_ref8;const[view,setView]=useState('menu');const[selectedOwner,setSelectedOwner]=useState(null);const[detailsModal,setDetailsModal]=useState({isOpen:false,cattle:null});const CattleCard=_ref9=>{let{cattle,onClick}=_ref9;const owner=owners.find(o=>o.docId===cattle.ownerId);return/*#__PURE__*/_jsxs(\"div\",{onClick:()=>onClick(cattle),className:\"bg-white p-4 rounded-xl shadow-md hover:shadow-lg transition-shadow cursor-pointer border-l-4 border-amber-400\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-lg text-stone-800\",children:cattle.customId}),/*#__PURE__*/_jsx(\"p\",{className:\"text-stone-600\",children:determineCattleType(cattle)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"px-3 py-1 rounded-full text-sm font-semibold \".concat(cattle.status==='Viva'?'bg-emerald-100 text-emerald-800':'bg-red-100 text-red-800'),children:cattle.status})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 pt-3 border-t\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-stone-500\",children:[\"Propietario: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-stone-700\",children:owner?owner.name:'N/A'})]})})]});};const renderContent=()=>{switch(view){case'byOwner':if(!selectedOwner){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setView('menu'),className:\"mb-4 text-emerald-600 font-semibold\",children:\"\\u2190 Volver\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mb-4\",children:\"Selecciona un Propietario\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:owners.map(o=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedOwner(o),className:\"w-full text-left p-4 bg-stone-100 rounded-lg hover:bg-emerald-50\",children:o.name},o.docId))})]});}const ownerCattle=cattleData.filter(c=>c.ownerId===selectedOwner.docId);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedOwner(null),className:\"mb-4 text-emerald-600 font-semibold\",children:\"\\u2190 Volver\"}),/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-bold mb-4\",children:[\"Reses de \",selectedOwner.name]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",children:ownerCattle.length>0?ownerCattle.map(c=>/*#__PURE__*/_jsx(CattleCard,{cattle:c,onClick:cattle=>setDetailsModal({isOpen:true,cattle})},c.docId)):/*#__PURE__*/_jsx(\"p\",{children:\"Este propietario no tiene reses.\"})})]});case'all':return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setView('menu'),className:\"mb-4 text-emerald-600 font-semibold\",children:\"\\u2190 Volver\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mb-4\",children:\"Listado de Reses Vivas\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",children:cattleData.map(c=>/*#__PURE__*/_jsx(CattleCard,{cattle:c,onClick:cattle=>setDetailsModal({isOpen:true,cattle})},c.docId))})]});case'deceasedSold':return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setView('menu'),className:\"mb-4 text-emerald-600 font-semibold\",children:\"\\u2190 Volver\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mb-4\",children:\"Listado de Reses Vendidas o Muertas\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",children:deceasedSoldData.map(c=>/*#__PURE__*/_jsx(CattleCard,{cattle:c,onClick:cattle=>setDetailsModal({isOpen:true,cattle})},c.docId))})]});default:return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setView('byOwner'),className:\"w-full p-6 bg-white rounded-lg shadow-md text-left text-lg font-semibold hover:bg-emerald-50\",children:\"Por Propietarios\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setView('all'),className:\"w-full p-6 bg-white rounded-lg shadow-md text-left text-lg font-semibold hover:bg-emerald-50\",children:\"Reses Vivas\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setView('deceasedSold'),className:\"w-full p-6 bg-white rounded-lg shadow-md text-left text-lg font-semibold hover:bg-emerald-50\",children:\"Muertas/Vendidas\"})]});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded-2xl shadow-lg\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-emerald-800 mb-6\",children:\"Consultar Registros\"}),renderContent()]}),detailsModal.isOpen&&detailsModal.cattle&&/*#__PURE__*/_jsxs(Modal,{onClose:()=>setDetailsModal({isOpen:false}),title:\"Detalles de \".concat(detailsModal.cattle.customId),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[detailsModal.cattle.photoURLs&&detailsModal.cattle.photoURLs.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-2\",children:detailsModal.cattle.photoURLs.map(url=>/*#__PURE__*/_jsx(\"img\",{src:url,alt:\"foto\",className:\"w-24 h-24 object-cover rounded-md\"},url))}),Object.entries(detailsModal.cattle).map(_ref0=>{let[key,value]=_ref0;if(['docId','createdAt','originalDocId','photoURLs'].includes(key))return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium text-stone-600 capitalize\",children:[key.replace(/([A-Z])/g,' $1'),\":\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-stone-800\",children:String(value)})]},key);}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-stone-600\",children:\"Tipo:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-stone-800\",children:determineCattleType(detailsModal.cattle)})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end mt-6\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setDetailsModal({isOpen:false}),className:\"px-6 py-2 rounded-lg bg-emerald-600 text-white\",children:\"Cerrar\"})})]})]});};const RegisterActivitiesScreen=_ref1=>{let{onCancel,activities,user}=_ref1;const[view,setView]=useState('menu');const[form,setForm]=useState({date:'',status:'En curso',observations:''});const handleSave=async()=>{if(form.date&&form.observations&&user){try{await addDoc(collection(db,'users',user.uid,'activities'),_objectSpread(_objectSpread({},form),{},{createdAt:new Date()}));alert('Actividad guardada!');setForm({date:'',status:'En curso',observations:''});setView('consult');}catch(error){console.error(\"Error: \",error);alert(\"Error al guardar.\");}}};const sortedActivities=useMemo(()=>[...activities].sort((a,b)=>new Date(b.date)-new Date(a.date)),[activities]);return/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded-2xl shadow-lg\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-emerald-800 mb-6\",children:\"Gesti\\xF3n de Actividades\"}),view==='menu'?/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setView('add'),className:\"w-full p-6 bg-white rounded-lg shadow-md text-center text-lg font-semibold hover:bg-emerald-50\",children:\"Agregar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setView('consult'),className:\"w-full p-6 bg-white rounded-lg shadow-md text-center text-lg font-semibold hover:bg-emerald-50\",children:\"Consultar\"})]}):view==='add'?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setView('menu'),className:\"mb-4 text-emerald-600 font-semibold\",children:\"\\u2190 Volver\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mb-4\",children:\"Agregar Actividad\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Fecha\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:form.date,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{date:e.target.value})),className:\"w-full px-4 py-2 border rounded-lg\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Estado\"}),/*#__PURE__*/_jsxs(\"select\",{value:form.status,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{status:e.target.value})),className:\"w-full px-4 py-2 border rounded-lg bg-white\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"En curso\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Completada\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Observaciones\"}),/*#__PURE__*/_jsx(\"textarea\",{value:form.observations,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{observations:e.target.value})),rows:\"4\",className:\"w-full px-4 py-2 border rounded-lg\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleSave,className:\"px-6 py-3 rounded-lg bg-emerald-600 text-white font-semibold\",children:\"Guardar\"})})]})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setView('menu'),className:\"mb-4 text-emerald-600 font-semibold\",children:\"\\u2190 Volver\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mb-4\",children:\"Registro de Actividades\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:sortedActivities.map(act=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-stone-50 rounded-lg border\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:act.date}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 text-xs font-bold rounded-full \".concat(act.status==='Completada'?'bg-emerald-200 text-emerald-800':'bg-amber-200 text-amber-800'),children:act.status})]}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-stone-600\",children:act.observations})]},act.docId))})]})]})});};const AdminPanel=_ref10=>{let{onCancel,user}=_ref10;const[allUsers,setAllUsers]=useState([]);const[selectedUser,setSelectedUser]=useState(null);const[userData,setUserData]=useState({owners:[],cattle:[]});const[view,setView]=useState('main');useEffect(()=>{const q=query(collection(db,'users_public_info'));const unsub=onSnapshot(q,snapshot=>{setAllUsers(snapshot.docs.map(d=>_objectSpread(_objectSpread({},d.data()),{},{docId:d.id})));});return()=>unsub();},[]);useEffect(()=>{if(selectedUser){const unsubOwners=onSnapshot(collection(db,'users',selectedUser.uid,'owners'),snapshot=>{setUserData(prev=>_objectSpread(_objectSpread({},prev),{},{owners:snapshot.docs.map(d=>_objectSpread(_objectSpread({},d.data()),{},{docId:d.id}))}));});const unsubCattle=onSnapshot(collection(db,'users',selectedUser.uid,'cattle'),snapshot=>{setUserData(prev=>_objectSpread(_objectSpread({},prev),{},{cattle:snapshot.docs.map(d=>_objectSpread(_objectSpread({},d.data()),{},{docId:d.id}))}));});return()=>{unsubOwners();unsubCattle();};}},[selectedUser]);const handleDelete=async(collectionName,docId)=>{if(window.confirm(\"¿Seguro que deseas eliminar este registro?\")){await deleteDoc(doc(db,'users',selectedUser.uid,collectionName,docId));alert(\"Registro eliminado.\");}};if(view==='registerCattle'){return/*#__PURE__*/_jsx(RegisterCattleScreen,{onCancel:()=>setView('main'),owners:userData.owners,cattleData:userData.cattle,user:user,targetUserUid:selectedUser.uid});}return/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded-2xl shadow-lg\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-emerald-800 mb-6\",children:\"Panel de Administrador\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-stone-700 font-medium mb-2\",children:\"Seleccionar Usuario\"}),/*#__PURE__*/_jsxs(\"select\",{onChange:e=>setSelectedUser(allUsers.find(u=>u.uid===e.target.value)),className:\"w-full p-2 border rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Elija un usuario --\"}),allUsers.map(u=>/*#__PURE__*/_jsx(\"option\",{value:u.uid,children:u.email},u.uid))]})]}),selectedUser&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setView('registerCattle'),className:\"my-4 px-4 py-2 bg-blue-500 text-white rounded\",children:\"Registrar Res para Usuario\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mt-6 mb-2\",children:\"Propietarios\"}),userData.owners.map(o=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-2 border-b\",children:[o.name,\" \",/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete('owners',o.docId),className:\"text-red-500\",children:/*#__PURE__*/_jsx(Trash2,{size:18})})]},o.docId))]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mt-6 mb-2\",children:\"Reses\"}),userData.cattle.map(c=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-2 border-b\",children:[c.customId,\" - \",c.gender,\" \",/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete('cattle',c.docId),className:\"text-red-500\",children:/*#__PURE__*/_jsx(Trash2,{size:18})})]},c.docId))]})]})]})});};// --- Componente Principal de la App ---\nexport default function App(){const[user,setUser]=useState(null);const[isAdmin,setIsAdmin]=useState(false);const[loading,setLoading]=useState(true);const[currentPage,setCurrentPage]=useState('home');const[isMenuOpen,setIsMenuOpen]=useState(false);const[owners,setOwners]=useState([]);const[cattleData,setCattleData]=useState([]);const[deceasedSoldData,setDeceasedSoldData]=useState([]);const[activities,setActivities]=useState([]);useEffect(()=>{const unsubscribe=onAuthStateChanged(auth,currentUser=>{setUser(currentUser);setIsAdmin(currentUser?ADMIN_EMAILS.includes(currentUser.email):false);setLoading(false);if(currentUser){setCurrentPage('home');}});return()=>unsubscribe();},[]);useEffect(()=>{if(user){const collections=['owners','cattle','deceasedSoldCattle','activities'];const setters=[setOwners,setCattleData,setDeceasedSoldData,setActivities];const unsubscribes=collections.map((col,index)=>{const q=query(collection(db,'users',user.uid,col));return onSnapshot(q,snapshot=>{setters[index](snapshot.docs.map(d=>_objectSpread(_objectSpread({},d.data()),{},{docId:d.id})));});});return()=>unsubscribes.forEach(unsub=>unsub());}else{setOwners([]);setCattleData([]);setDeceasedSoldData([]);setActivities([]);}},[user]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-screen\",children:\"Cargando...\"});}if(!user){return/*#__PURE__*/_jsx(AuthScreen,{});}const renderPage=()=>{switch(currentPage){case'registerOwner':return/*#__PURE__*/_jsx(RegisterOwnerScreen,{onCancel:()=>setCurrentPage('home'),owners:owners,user:user});case'registerCattle':return/*#__PURE__*/_jsx(RegisterCattleScreen,{onCancel:()=>setCurrentPage('home'),owners:owners,cattleData:cattleData,user:user});case'updateCattle':return/*#__PURE__*/_jsx(UpdateCattleScreen,{onCancel:()=>setCurrentPage('home'),owners:owners,user:user});case'consult':return/*#__PURE__*/_jsx(ConsultScreen,{cattleData:cattleData,owners:owners,deceasedSoldData:deceasedSoldData});case'activities':return/*#__PURE__*/_jsx(RegisterActivitiesScreen,{onCancel:()=>setCurrentPage('home'),activities:activities,user:user});case'admin':return isAdmin?/*#__PURE__*/_jsx(AdminPanel,{onCancel:()=>setCurrentPage('home'),user:user}):/*#__PURE__*/_jsx(HomeScreen,{navigate:setCurrentPage});case'home':default:return/*#__PURE__*/_jsx(HomeScreen,{navigate:setCurrentPage});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-stone-100 min-h-screen font-sans\",children:[/*#__PURE__*/_jsx(SideMenu,{isOpen:isMenuOpen,onClose:()=>setIsMenuOpen(false),navigate:setCurrentPage,isAdmin:isAdmin}),/*#__PURE__*/_jsx(Header,{title:\"Finca Moreno Z\",onMenuClick:()=>setIsMenuOpen(true)}),/*#__PURE__*/_jsx(\"main\",{children:renderPage()})]});}","map":{"version":3,"names":["React","useState","useEffect","useMemo","Plus","Edit","Search","Menu","X","Save","FileText","Users","Activity","Home","LogOut","UserPlus","LogIn","Shield","Trash2","auth","db","storage","onAuthStateChanged","createUserWithEmailAndPassword","signInWithEmailAndPassword","signOut","collection","addDoc","onSnapshot","query","doc","updateDoc","writeBatch","where","getDocs","deleteDoc","serverTimestamp","ref","uploadBytes","getDownloadURL","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ADMIN_EMAILS","AuthScreen","isLogin","setIsLogin","email","setEmail","password","setPassword","error","setError","handleAuth","e","preventDefault","userCredential","usersCollectionRef","uid","user","err","message","replace","className","children","src","alt","onSubmit","type","value","onChange","target","required","size","onClick","Modal","_ref","onClose","title","Header","_ref2","onMenuClick","handleLogout","SideMenu","_ref3","isOpen","navigate","isAdmin","menuItems","name","page","icon","adminOnly","concat","map","item","calculateAgeInMonths","birthDate","today","Date","birth","months","getFullYear","getMonth","determineCattleType","cattle","gender","ageInMonths","offspring","length","lastParto","Math","max","o","monthsSinceParto","isCastrated","HomeScreen","_ref4","label","btn","RegisterOwnerScreen","_ref5","onCancel","owners","setName","handleSave","trim","alert","console","owner","docId","RegisterCattleScreen","_ref6","cattleData","targetUserUid","form","setForm","id","weight","parentsId","lastVaccines","ownerId","useAutoId","setUseAutoId","photos","setPhotos","isUploading","setIsUploading","cattleType","handleChange","prev","_objectSpread","handlePhotoChange","files","Array","from","slice","generateAutoId","allIds","c","customId","filter","startsWith","lastIdNum","parseInt","split","String","padStart","finalId","some","toUpperCase","userIdToSave","photoURLs","photo","photoRef","url","push","status","parseFloat","createdAt","multiple","accept","disabled","UpdateCattleScreen","_ref7","_form$offspring","searchTerm","setSearchTerm","selectedCattle","setSelectedCattle","modal","setModal","data","handleSearch","q","querySnapshot","empty","docs","foundCattle","handleUpdate","window","confirm","cattleDocRef","handleStatusChange","newStatus","date","batch","oldDocRef","newDocRef","newCustomId","updatedData","statusChangeDate","originalDocId","set","delete","commit","handleAddOffspring","calfId","updatedOffspring","placeholder","p","document","getElementById","ConsultScreen","_ref8","deceasedSoldData","view","setView","selectedOwner","setSelectedOwner","detailsModal","setDetailsModal","CattleCard","_ref9","find","renderContent","ownerCattle","Object","entries","_ref0","key","includes","RegisterActivitiesScreen","_ref1","activities","observations","sortedActivities","sort","a","b","rows","act","AdminPanel","_ref10","allUsers","setAllUsers","selectedUser","setSelectedUser","userData","setUserData","unsub","snapshot","d","unsubOwners","unsubCattle","handleDelete","collectionName","u","App","setUser","setIsAdmin","loading","setLoading","currentPage","setCurrentPage","isMenuOpen","setIsMenuOpen","setOwners","setCattleData","setDeceasedSoldData","setActivities","unsubscribe","currentUser","collections","setters","unsubscribes","col","index","forEach","renderPage"],"sources":["C:/Users/alezv/Desktop/App/React/src/App.js"],"sourcesContent":["\r\n\r\nimport React, { useState, useEffect, useMemo } from 'react';\r\nimport { Plus, Edit, Search, Menu, X, Save, FileText, Users, Activity, Home, LogOut, UserPlus, LogIn, Shield, Trash2 } from 'lucide-react';\r\n\r\n// Importa los servicios de Firebase desde tu archivo de configuración\r\nimport { auth, db, storage } from './firebase'; \r\nimport { onAuthStateChanged, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from \"firebase/auth\";\r\nimport { collection, addDoc, onSnapshot, query, doc, updateDoc, writeBatch, where, getDocs, deleteDoc, serverTimestamp } from \"firebase/firestore\";\r\nimport { ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\r\n\r\n// --- CONFIGURACIÓN DE ADMINISTRADOR ---\r\n// TODO: Añade aquí los correos de los usuarios que serán administradores.\r\nconst ADMIN_EMAILS = [\"admin@example.com\", \"alezvalopz@gmail.com\"];\r\n\r\n\r\n// --- Pantalla de Autenticación (Login y Registro) ---\r\nconst AuthScreen = () => {\r\n  const [isLogin, setIsLogin] = useState(true);\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [error, setError] = useState('');\r\n\r\n  const handleAuth = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    try {\r\n      if (isLogin) {\r\n        await signInWithEmailAndPassword(auth, email, password);\r\n      } else {\r\n        const userCredential = await createUserWithEmailAndPassword(auth, email, password);\r\n        const usersCollectionRef = collection(db, 'users_public_info');\r\n        await addDoc(usersCollectionRef, {\r\n            uid: userCredential.user.uid,\r\n            email: userCredential.user.email\r\n        });\r\n      }\r\n    } catch (err) {\r\n      setError(\"Error: \" + err.message.replace('Firebase: ', ''));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-stone-100 flex flex-col justify-center items-center p-4\">\r\n      <div className=\"w-full max-w-md bg-white rounded-2xl shadow-xl p-8\">\r\n        <div className=\"flex justify-center mb-6\"><img src=\"http://googleusercontent.com/file_content/2\" alt=\"Logo\" className=\"h-20 w-20\" /></div>\r\n        <h2 className=\"text-3xl font-bold text-center text-emerald-800 mb-2\">{isLogin ? 'Iniciar Sesión' : 'Crear Cuenta'}</h2>\r\n        <p className=\"text-center text-stone-500 mb-8\">Bienvenido a Finca Moreno Z</p>\r\n        <form onSubmit={handleAuth}>\r\n          <div className=\"mb-4\"><label className=\"block text-stone-700 font-medium mb-2\">Correo Electrónico</label><input type=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} className=\"w-full px-4 py-3 border border-stone-300 rounded-lg\" required /></div>\r\n          <div className=\"mb-6\"><label className=\"block text-stone-700 font-medium mb-2\">Contraseña</label><input type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} className=\"w-full px-4 py-3 border border-stone-300 rounded-lg\" required /></div>\r\n          {error && <p className=\"text-red-500 text-sm mb-4\">{error}</p>}\r\n          <button type=\"submit\" className=\"w-full bg-emerald-600 text-white font-bold py-3 rounded-lg hover:bg-emerald-700 transition-colors flex items-center justify-center gap-2\">{isLogin ? <LogIn size={18} /> : <UserPlus size={18} />}{isLogin ? 'Ingresar' : 'Registrarse'}</button>\r\n        </form>\r\n        <div className=\"mt-6 text-center\"><button onClick={() => setIsLogin(!isLogin)} className=\"text-emerald-600 hover:underline\">{isLogin ? '¿No tienes una cuenta? Regístrate' : '¿Ya tienes una cuenta? Inicia sesión'}</button></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n// --- Componentes de la UI (Reutilizados) ---\r\nconst Modal = ({ children, onClose, title }) => (<div className=\"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4\"><div className=\"bg-white rounded-2xl shadow-2xl w-full max-w-md m-4\"><div className=\"flex justify-between items-center p-4 border-b border-stone-200\"><h3 className=\"text-xl font-bold text-emerald-800\">{title}</h3><button onClick={onClose} className=\"text-stone-400 hover:text-stone-600\"><X size={24} /></button></div><div className=\"p-6\">{children}</div></div></div>);\r\nconst Header = ({ title, onMenuClick }) => {\r\n  const handleLogout = () => { signOut(auth); };\r\n  return (<header className=\"bg-emerald-800 text-white p-4 shadow-lg flex items-center justify-between sticky top-0 z-40\"><div className=\"flex items-center\"><button onClick={onMenuClick} className=\"mr-4 p-2 rounded-full hover:bg-emerald-700\"><Menu size={24} /></button><img src=\"http://googleusercontent.com/file_content/2\" alt=\"Logo\" className=\"h-10 w-10 rounded-full bg-white p-1 object-contain\" /><h1 className=\"text-2xl font-bold ml-4 tracking-wider\">{title}</h1></div><button onClick={handleLogout} className=\"flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-emerald-700 font-semibold\"><LogOut size={18} /> Salir</button></header>);\r\n};\r\nconst SideMenu = ({ isOpen, onClose, navigate, isAdmin }) => {\r\n    const menuItems = [\r\n        { name: 'Inicio', page: 'home', icon: <Home size={20} />, adminOnly: false },\r\n        { name: 'Registrar Res', page: 'registerCattle', icon: <Plus size={20} />, adminOnly: false },\r\n        { name: 'Actualizar Res', page: 'updateCattle', icon: <Edit size={20} />, adminOnly: false },\r\n        { name: 'Consultar', page: 'consult', icon: <FileText size={20} />, adminOnly: false },\r\n        { name: 'Actividades', page: 'activities', icon: <Activity size={20} />, adminOnly: false },\r\n        { name: 'Propietarios', page: 'registerOwner', icon: <Users size={20} />, adminOnly: false },\r\n        { name: 'Panel de Admin', page: 'admin', icon: <Shield size={20} />, adminOnly: true },\r\n    ];\r\n    return (<><div className={`fixed inset-0 bg-black bg-opacity-50 z-40 transition-opacity ${isOpen ? 'opacity-100' : 'opacity-0 pointer-events-none'}`} onClick={onClose}></div><div className={`fixed top-0 left-0 h-full bg-white w-72 shadow-xl z-50 transform transition-transform ${isOpen ? 'translate-x-0' : '-translate-x-full'}`}><div className=\"p-4 border-b flex justify-between items-center\"><h2 className=\"text-xl font-bold text-emerald-800\">Menú</h2><button onClick={onClose} className=\"text-stone-500 hover:text-stone-800\"><X size={24} /></button></div><nav className=\"p-4\"><ul>{menuItems.map(item => ((!item.adminOnly || isAdmin) && <li key={item.page}><button onClick={() => { navigate(item.page); onClose(); }} className=\"w-full text-left flex items-center gap-3 px-4 py-3 rounded-lg text-stone-700 hover:bg-emerald-50 hover:text-emerald-800 font-medium transition-all\">{item.icon}{item.name}</button></li>))}</ul></nav></div></>);\r\n};\r\n\r\n// --- Lógica de Negocio ---\r\nconst calculateAgeInMonths = (birthDate) => { if (!birthDate) return 0; const today = new Date(); const birth = new Date(birthDate); let months = (today.getFullYear() - birth.getFullYear()) * 12; months -= birth.getMonth(); months += today.getMonth(); return months <= 0 ? 0 : months; };\r\nconst determineCattleType = (cattle) => { if (!cattle || !cattle.birthDate || !cattle.gender) return 'N/A'; const ageInMonths = calculateAgeInMonths(cattle.birthDate); if (ageInMonths <= 12) return 'Ternero/a'; if (cattle.gender === 'Hembra') { if (cattle.offspring && cattle.offspring.length > 0) { const lastParto = new Date(Math.max(...cattle.offspring.map(o => new Date(o.birthDate)))); const monthsSinceParto = calculateAgeInMonths(lastParto); return monthsSinceParto <= 12 ? 'Vaca Parida' : 'Vaca Horra'; } return ageInMonths <= 24 ? 'Novilla' : 'Vaca'; } if (cattle.gender === 'Macho') { if (ageInMonths <= 24) return 'Levante'; if (cattle.isCastrated === true) return 'Macho de Engorde'; if (cattle.isCastrated === false) return 'Toro'; return 'Macho Adulto'; } return 'Desconocido'; };\r\n\r\n\r\n// --- Pantallas de la Aplicación ---\r\nconst HomeScreen = ({ navigate }) => { return (<div className=\"grid grid-cols-2 gap-6 p-6\">{[{ label: 'Registro de Res', page: 'registerCattle', icon: <Plus className=\"w-12 h-12\" /> },{ label: 'Actualización de Res', page: 'updateCattle', icon: <Edit className=\"w-12 h-12\" /> },{ label: 'Consultar', page: 'consult', icon: <FileText className=\"w-12 h-12\" /> },{ label: 'Registro de Actividades', page: 'activities', icon: <Activity className=\"w-12 h-12\" /> },{ label: 'Registrar Propietarios', page: 'registerOwner', icon: <Users className=\"w-12 h-12\" /> }].map((btn) => (<button key={btn.page} onClick={() => navigate(btn.page)} className=\"bg-white rounded-2xl shadow-lg p-6 flex flex-col items-center justify-center text-center text-emerald-800 hover:bg-emerald-50 hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 aspect-square border-b-4 border-amber-400\">{btn.icon}<span className=\"mt-4 font-semibold text-lg\">{btn.label}</span></button>))}</div>);};\r\nconst RegisterOwnerScreen = ({ onCancel, owners, user }) => { const [name, setName] = useState(''); const handleSave = async () => { if (name.trim() && user) { try { await addDoc(collection(db, 'users', user.uid, 'owners'), { name: name.trim() }); alert('Propietario guardado!'); onCancel(); } catch (error) { console.error(\"Error: \", error); alert(\"Error al guardar.\"); } } }; return (<div className=\"p-6\"><div className=\"bg-white p-8 rounded-2xl shadow-lg\"><h2 className=\"text-2xl font-bold text-emerald-800 mb-6\">Registrar Nuevo Propietario</h2><div className=\"mb-6\"><label className=\"block text-stone-700 font-medium mb-2\">Nombre y Apellidos</label><input type=\"text\" value={name} onChange={(e) => setName(e.target.value)} className=\"w-full px-4 py-3 border border-stone-300 rounded-lg\" /></div><div className=\"flex justify-end gap-4\"><button onClick={onCancel} className=\"px-6 py-3 rounded-lg bg-stone-200 text-stone-700 font-semibold\">Cancelar</button><button onClick={handleSave} className=\"px-6 py-3 rounded-lg bg-emerald-600 text-white font-semibold flex items-center gap-2\"><Save size={18}/> Guardar</button></div></div><div className=\"mt-8 bg-white p-8 rounded-2xl shadow-lg\"><h3 className=\"text-xl font-bold text-emerald-800 mb-4\">Propietarios Registrados</h3>{owners.length > 0 ? (<ul className=\"divide-y divide-stone-200\">{owners.map(owner => <li key={owner.docId} className=\"py-3 text-stone-600\">{owner.name}</li>)}</ul>) : (<p className=\"text-stone-500\">No hay propietarios registrados.</p>)}</div></div>);};\r\nconst RegisterCattleScreen = ({ onCancel, owners, cattleData, user, targetUserUid }) => {\r\n    const [form, setForm] = useState({ id: '', birthDate: '', gender: 'Hembra', weight: '', parentsId: '', lastVaccines: '', ownerId: owners.length > 0 ? owners[0].docId : '' });\r\n    const [useAutoId, setUseAutoId] = useState(true);\r\n    const [photos, setPhotos] = useState([]);\r\n    const [isUploading, setIsUploading] = useState(false);\r\n    const cattleType = useMemo(() => determineCattleType(form), [form.birthDate, form.gender]);\r\n    const handleChange = (e) => { const { name, value } = e.target; setForm(prev => ({ ...prev, [name]: value })); };\r\n    const handlePhotoChange = (e) => { if (e.target.files.length > 0 && photos.length < 3) { setPhotos(prev => [...prev, ...Array.from(e.target.files).slice(0, 3 - prev.length)]); }};\r\n    const generateAutoId = () => { const allIds = cattleData.map(c => c.customId.replace(/^[VM]-/, '')).filter(id => id.startsWith('FMZ-')); const lastIdNum = allIds.length > 0 ? Math.max(...allIds.map(id => parseInt(id.split('-')[1]))) : 0; return `FMZ-${String(lastIdNum + 1).padStart(3, '0')}`; };\r\n    const handleSave = async () => {\r\n        const finalId = useAutoId ? generateAutoId() : form.id.trim();\r\n        if (!finalId || !form.birthDate || !form.weight || !form.ownerId) { alert(\"Campos obligatorios incompletos.\"); return; }\r\n        if (!useAutoId && cattleData.some(c => c.customId.toUpperCase() === finalId.toUpperCase())) { alert(\"El código ya existe.\"); return; }\r\n        const userIdToSave = targetUserUid || user.uid;\r\n        if (!userIdToSave) { alert(\"No se pudo identificar al usuario.\"); return; }\r\n        setIsUploading(true);\r\n        try {\r\n            const photoURLs = [];\r\n            for (const photo of photos) {\r\n                const photoRef = ref(storage, `cattle-photos/${userIdToSave}/${finalId}/${photo.name}`);\r\n                await uploadBytes(photoRef, photo);\r\n                const url = await getDownloadURL(photoRef);\r\n                photoURLs.push(url);\r\n            }\r\n            await addDoc(collection(db, 'users', userIdToSave, 'cattle'), { ...form, customId: finalId, status: 'Viva', offspring: [], weight: parseFloat(form.weight), createdAt: serverTimestamp(), photoURLs });\r\n            alert('Res guardada con éxito!');\r\n            onCancel();\r\n        } catch (error) { console.error(\"Error: \", error); alert(\"Error al guardar.\"); }\r\n        finally { setIsUploading(false); }\r\n    };\r\n    return (\r\n        <div className=\"p-6\"><div className=\"bg-white p-8 rounded-2xl shadow-lg\"><h2 className=\"text-2xl font-bold text-emerald-800 mb-6\">Registrar Nueva Res</h2><div className=\"mb-4\"><label className=\"block text-stone-700 font-medium mb-2\">Fotos (máx. 3)</label><div className=\"flex gap-4 items-center\"><input type=\"file\" multiple accept=\"image/*\" onChange={handlePhotoChange} className=\"text-sm\" disabled={photos.length >= 3} /></div></div><div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\"><div><label className=\"block text-stone-700 font-medium mb-2\">Código</label><div className=\"flex items-center gap-2\"><input type=\"text\" name=\"id\" value={useAutoId ? generateAutoId() : form.id} onChange={handleChange} disabled={useAutoId} className=\"w-full px-4 py-3 border rounded-lg disabled:bg-stone-100\" /><button onClick={() => setUseAutoId(!useAutoId)} className={`px-4 py-3 rounded-lg font-semibold ${useAutoId ? 'bg-emerald-600 text-white' : 'bg-stone-200'}`}>Auto</button></div></div><div><label className=\"block text-stone-700 font-medium mb-2\">Nacimiento</label><input type=\"date\" name=\"birthDate\" value={form.birthDate} onChange={handleChange} className=\"w-full px-4 py-3 border rounded-lg\" /></div><div><label className=\"block text-stone-700 font-medium mb-2\">Género</label><select name=\"gender\" value={form.gender} onChange={handleChange} className=\"w-full px-4 py-3 border rounded-lg bg-white\"><option value=\"Hembra\">Hembra</option><option value=\"Macho\">Macho</option></select></div><div><label className=\"block text-stone-700 font-medium mb-2\">Peso (Kg)</label><input type=\"number\" name=\"weight\" value={form.weight} onChange={handleChange} className=\"w-full px-4 py-3 border rounded-lg\" /></div><div><label className=\"block text-stone-700 font-medium mb-2\">Padres</label><input type=\"text\" name=\"parentsId\" value={form.parentsId} onChange={handleChange} className=\"w-full px-4 py-3 border rounded-lg\" /></div><div><label className=\"block text-stone-700 font-medium mb-2\">Tipo</label><input type=\"text\" value={cattleType} disabled className=\"w-full px-4 py-3 border rounded-lg bg-stone-100\" /></div><div className=\"md:col-span-2\"><label className=\"block text-stone-700 font-medium mb-2\">Vacunas</label><input type=\"text\" name=\"lastVaccines\" value={form.lastVaccines} onChange={handleChange} className=\"w-full px-4 py-3 border rounded-lg\" /></div><div className=\"md:col-span-2\"><label className=\"block text-stone-700 font-medium mb-2\">Propietario</label><select name=\"ownerId\" value={form.ownerId} onChange={handleChange} className=\"w-full px-4 py-3 border rounded-lg bg-white\" disabled={owners.length === 0}>{owners.length > 0 ? owners.map(o => <option key={o.docId} value={o.docId}>{o.name}</option>) : <option>Registre un propietario</option>}</select></div></div><div className=\"flex justify-end gap-4 mt-8\"><button onClick={onCancel} className=\"px-6 py-3 rounded-lg bg-stone-200\" disabled={isUploading}>Cancelar</button><button onClick={handleSave} className=\"px-6 py-3 rounded-lg bg-emerald-600 text-white flex items-center gap-2\" disabled={isUploading}>{isUploading ? 'Guardando...' : <><Save size={18}/> Guardar</>}</button></div></div></div>\r\n    );\r\n};\r\nconst UpdateCattleScreen = ({ onCancel, owners, user }) => {\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [selectedCattle, setSelectedCattle] = useState(null);\r\n    const [form, setForm] = useState(null);\r\n    const [modal, setModal] = useState({ isOpen: false, type: '', data: null });\r\n\r\n    const handleSearch = async () => {\r\n        const q = query(collection(db, 'users', user.uid, 'cattle'), where(\"customId\", \"==\", searchTerm.trim().toUpperCase()));\r\n        const querySnapshot = await getDocs(q);\r\n        if (!querySnapshot.empty) {\r\n            const doc = querySnapshot.docs[0];\r\n            const foundCattle = { ...doc.data(), docId: doc.id };\r\n            setSelectedCattle(foundCattle);\r\n            setForm(foundCattle);\r\n        } else { alert(\"Código inexistente\"); setSelectedCattle(null); setForm(null); }\r\n    };\r\n\r\n    const handleUpdate = async () => {\r\n        if (window.confirm(\"¿Seguro que deseas actualizar los datos?\")) {\r\n            const cattleDocRef = doc(db, 'users', user.uid, 'cattle', selectedCattle.docId);\r\n            await updateDoc(cattleDocRef, form);\r\n            alert(\"Información actualizada con éxito\");\r\n            onCancel();\r\n        }\r\n    };\r\n\r\n    const handleStatusChange = async (newStatus, date) => {\r\n        if (!date) { alert(\"Por favor, selecciona una fecha.\"); return; }\r\n        const batch = writeBatch(db);\r\n        const oldDocRef = doc(db, 'users', user.uid, 'cattle', selectedCattle.docId);\r\n        const newDocRef = doc(collection(db, 'users', user.uid, 'deceasedSoldCattle'));\r\n        const newCustomId = `${newStatus === 'Vendida' ? 'V' : 'M'}-${selectedCattle.customId}`;\r\n        const updatedData = { ...selectedCattle, ...form, status: newStatus, statusChangeDate: date, customId: newCustomId, originalDocId: selectedCattle.docId };\r\n        delete updatedData.docId;\r\n        batch.set(newDocRef, updatedData);\r\n        batch.delete(oldDocRef);\r\n        await batch.commit();\r\n        alert(`Estado actualizado a ${newStatus}.`);\r\n        onCancel();\r\n    };\r\n\r\n    const handleAddOffspring = async (calfId, birthDate) => {\r\n        if (!calfId || !birthDate) { alert(\"Completa los datos de la cría.\"); return; }\r\n        const updatedOffspring = [...(form.offspring || []), { calfId, birthDate }];\r\n        setForm(prev => ({ ...prev, offspring: updatedOffspring }));\r\n        setModal({ isOpen: false });\r\n    };\r\n\r\n    const handleChange = (e) => setForm(prev => ({...prev, [e.target.name]: e.target.value}));\r\n\r\n    return (\r\n        <div className=\"p-6\">\r\n            <div className=\"bg-white p-8 rounded-2xl shadow-lg mb-6\"><h2 className=\"text-2xl font-bold text-emerald-800 mb-6\">Actualizar Res</h2><div className=\"flex gap-2\"><input type=\"text\" value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} placeholder=\"Buscar por código...\" className=\"w-full px-4 py-3 border rounded-lg\" /><button onClick={handleSearch} className=\"px-6 py-3 rounded-lg bg-emerald-600 text-white font-semibold\"><Search size={18}/></button></div></div>\r\n            {selectedCattle && form && (\r\n                <div className=\"bg-white p-8 rounded-2xl shadow-lg\">\r\n                    <h3 className=\"text-xl font-bold text-stone-800 mb-4\">Editando: {form.customId}</h3>\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                        <div><label className=\"block text-stone-700 font-medium\">Peso (Kg)</label><input type=\"number\" name=\"weight\" value={form.weight} onChange={handleChange} className=\"w-full px-4 py-3 border rounded-lg\" /></div>\r\n                        <div><label className=\"block text-stone-700 font-medium\">Propietario</label><select name=\"ownerId\" value={form.ownerId} onChange={handleChange} className=\"w-full px-4 py-3 border rounded-lg bg-white\">{owners.map(o => <option key={o.docId} value={o.docId}>{o.name}</option>)}</select></div>\r\n                        {form.gender === 'Hembra' && <div><label className=\"block text-stone-700 font-medium\">Crías ({form.offspring?.length || 0})</label><button onClick={() => setModal({isOpen: true, type: 'addOffspring'})} className=\"w-full px-4 py-3 rounded-lg bg-sky-500 text-white font-semibold\">Añadir Cría</button></div>}\r\n                        {form.gender === 'Macho' && calculateAgeInMonths(form.birthDate) > 24 && <div><label className=\"block text-stone-700 font-medium\">Castración</label><div className=\"flex gap-2\"><button onClick={() => setForm(p=>({...p, isCastrated: true}))} className={`w-full py-2 rounded-lg ${form.isCastrated === true ? 'bg-emerald-600 text-white' : 'bg-stone-200'}`}>Capado</button><button onClick={() => setForm(p=>({...p, isCastrated: false}))} className={`w-full py-2 rounded-lg ${form.isCastrated === false ? 'bg-emerald-600 text-white' : 'bg-stone-200'}`}>Sin Capar</button></div></div>}\r\n                        <div className=\"md:col-span-2\"><label className=\"block text-stone-700 font-medium\">Estado</label><select value={form.status} onChange={(e) => e.target.value !== 'Viva' ? setModal({isOpen: true, type: 'changeStatus', data: {newStatus: e.target.value}}) : setForm(p=>({...p, status: 'Viva'}))} className=\"w-full px-4 py-3 border rounded-lg bg-white\"><option>Viva</option><option>Vendida</option><option>Muerta</option></select></div>\r\n                    </div>\r\n                    <div className=\"flex justify-end gap-4 mt-8\"><button onClick={onCancel} className=\"px-6 py-3 rounded-lg bg-stone-200\">Cancelar</button><button onClick={handleUpdate} className=\"px-6 py-3 rounded-lg bg-emerald-600 text-white\">Actualizar</button></div>\r\n                </div>\r\n            )}\r\n            {modal.isOpen && modal.type === 'changeStatus' && (<Modal onClose={() => setModal({isOpen: false})} title={`Cambiar Estado a ${modal.data.newStatus}`}><p className=\"mb-4\">Se requiere la fecha.</p><div><label>Fecha</label><input type=\"date\" id=\"statusDate\" className=\"w-full px-4 py-2 border rounded-lg\" /></div><p className=\"text-red-600 font-medium mt-4\">¡Atención! Esta acción es irreversible.</p><div className=\"flex justify-end gap-4 mt-6\"><button onClick={() => setModal({isOpen: false})} className=\"px-6 py-2 rounded-lg bg-stone-200\">Cancelar</button><button onClick={() => handleStatusChange(modal.data.newStatus, document.getElementById('statusDate').value)} className=\"px-6 py-2 rounded-lg bg-red-600 text-white\">Confirmar</button></div></Modal>)}\r\n            {modal.isOpen && modal.type === 'addOffspring' && (<Modal onClose={() => setModal({isOpen: false})} title=\"Añadir Cría\"><div className=\"space-y-4\"><div><label>Código de la Cría</label><input type=\"text\" id=\"calfId\" className=\"w-full px-4 py-2 border rounded-lg\" /></div><div><label>Fecha de Parto</label><input type=\"date\" id=\"calfBirthDate\" className=\"w-full px-4 py-2 border rounded-lg\" /></div></div><div className=\"flex justify-end gap-4 mt-6\"><button onClick={() => setModal({isOpen: false})} className=\"px-6 py-2 rounded-lg bg-stone-200\">Cancelar</button><button onClick={() => handleAddOffspring(document.getElementById('calfId').value, document.getElementById('calfBirthDate').value)} className=\"px-6 py-2 rounded-lg bg-sky-500 text-white\">Guardar</button></div></Modal>)}\r\n        </div>\r\n    );\r\n};\r\nconst ConsultScreen = ({ cattleData, owners, deceasedSoldData }) => { const [view, setView] = useState('menu'); const [selectedOwner, setSelectedOwner] = useState(null); const [detailsModal, setDetailsModal] = useState({ isOpen: false, cattle: null }); const CattleCard = ({ cattle, onClick }) => { const owner = owners.find(o => o.docId === cattle.ownerId); return (<div onClick={() => onClick(cattle)} className=\"bg-white p-4 rounded-xl shadow-md hover:shadow-lg transition-shadow cursor-pointer border-l-4 border-amber-400\"><div className=\"flex justify-between items-start\"><div><p className=\"font-bold text-lg text-stone-800\">{cattle.customId}</p><p className=\"text-stone-600\">{determineCattleType(cattle)}</p></div><div className={`px-3 py-1 rounded-full text-sm font-semibold ${cattle.status === 'Viva' ? 'bg-emerald-100 text-emerald-800' : 'bg-red-100 text-red-800'}`}>{cattle.status}</div></div><div className=\"mt-3 pt-3 border-t\"><p className=\"text-sm text-stone-500\">Propietario: <span className=\"font-medium text-stone-700\">{owner ? owner.name : 'N/A'}</span></p></div></div>); }; const renderContent = () => { switch (view) { case 'byOwner': if (!selectedOwner) { return (<div><button onClick={() => setView('menu')} className=\"mb-4 text-emerald-600 font-semibold\">&larr; Volver</button><h3 className=\"text-xl font-bold mb-4\">Selecciona un Propietario</h3><div className=\"space-y-2\">{owners.map(o => <button key={o.docId} onClick={() => setSelectedOwner(o)} className=\"w-full text-left p-4 bg-stone-100 rounded-lg hover:bg-emerald-50\">{o.name}</button>)}</div></div>); } const ownerCattle = cattleData.filter(c => c.ownerId === selectedOwner.docId); return (<div><button onClick={() => setSelectedOwner(null)} className=\"mb-4 text-emerald-600 font-semibold\">&larr; Volver</button><h3 className=\"text-xl font-bold mb-4\">Reses de {selectedOwner.name}</h3><div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">{ownerCattle.length > 0 ? ownerCattle.map(c => <CattleCard key={c.docId} cattle={c} onClick={(cattle) => setDetailsModal({ isOpen: true, cattle })} />) : <p>Este propietario no tiene reses.</p>}</div></div>); case 'all': return (<div><button onClick={() => setView('menu')} className=\"mb-4 text-emerald-600 font-semibold\">&larr; Volver</button><h3 className=\"text-xl font-bold mb-4\">Listado de Reses Vivas</h3><div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">{cattleData.map(c => <CattleCard key={c.docId} cattle={c} onClick={(cattle) => setDetailsModal({ isOpen: true, cattle })} />)}</div></div>); case 'deceasedSold': return (<div><button onClick={() => setView('menu')} className=\"mb-4 text-emerald-600 font-semibold\">&larr; Volver</button><h3 className=\"text-xl font-bold mb-4\">Listado de Reses Vendidas o Muertas</h3><div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">{deceasedSoldData.map(c => <CattleCard key={c.docId} cattle={c} onClick={(cattle) => setDetailsModal({ isOpen: true, cattle })} />)}</div></div>); default: return (<div className=\"space-y-4\"><button onClick={() => setView('byOwner')} className=\"w-full p-6 bg-white rounded-lg shadow-md text-left text-lg font-semibold hover:bg-emerald-50\">Por Propietarios</button><button onClick={() => setView('all')} className=\"w-full p-6 bg-white rounded-lg shadow-md text-left text-lg font-semibold hover:bg-emerald-50\">Reses Vivas</button><button onClick={() => setView('deceasedSold')} className=\"w-full p-6 bg-white rounded-lg shadow-md text-left text-lg font-semibold hover:bg-emerald-50\">Muertas/Vendidas</button></div>); } }; return (<div className=\"p-6\"><div className=\"bg-white p-8 rounded-2xl shadow-lg\"><h2 className=\"text-2xl font-bold text-emerald-800 mb-6\">Consultar Registros</h2>{renderContent()}</div>{detailsModal.isOpen && detailsModal.cattle && (<Modal onClose={() => setDetailsModal({ isOpen: false })} title={`Detalles de ${detailsModal.cattle.customId}`}><div className=\"space-y-3\">{detailsModal.cattle.photoURLs && detailsModal.cattle.photoURLs.length > 0 && <div className=\"flex gap-2\">{detailsModal.cattle.photoURLs.map(url => <img key={url} src={url} alt=\"foto\" className=\"w-24 h-24 object-cover rounded-md\" />)}</div>}{Object.entries(detailsModal.cattle).map(([key, value]) => {if (['docId', 'createdAt', 'originalDocId', 'photoURLs'].includes(key)) return null; return (<div key={key} className=\"flex justify-between\"><span className=\"font-medium text-stone-600 capitalize\">{key.replace(/([A-Z])/g, ' $1')}:</span><span className=\"text-stone-800\">{String(value)}</span></div>);})}<div className=\"flex justify-between\"><span className=\"font-medium text-stone-600\">Tipo:</span><span className=\"text-stone-800\">{determineCattleType(detailsModal.cattle)}</span></div></div><div className=\"flex justify-end mt-6\"><button onClick={() => setDetailsModal({isOpen: false})} className=\"px-6 py-2 rounded-lg bg-emerald-600 text-white\">Cerrar</button></div></Modal>)}</div>);};\r\nconst RegisterActivitiesScreen = ({ onCancel, activities, user }) => { const [view, setView] = useState('menu'); const [form, setForm] = useState({ date: '', status: 'En curso', observations: '' }); const handleSave = async () => { if (form.date && form.observations && user) { try { await addDoc(collection(db, 'users', user.uid, 'activities'), { ...form, createdAt: new Date() }); alert('Actividad guardada!'); setForm({ date: '', status: 'En curso', observations: '' }); setView('consult'); } catch (error) { console.error(\"Error: \", error); alert(\"Error al guardar.\"); } } }; const sortedActivities = useMemo(() => [...activities].sort((a, b) => new Date(b.date) - new Date(a.date)), [activities]); return (<div className=\"p-6\"><div className=\"bg-white p-8 rounded-2xl shadow-lg\"><h2 className=\"text-2xl font-bold text-emerald-800 mb-6\">Gestión de Actividades</h2>{view === 'menu' ? (<div className=\"flex flex-col md:flex-row gap-4\"><button onClick={() => setView('add')} className=\"w-full p-6 bg-white rounded-lg shadow-md text-center text-lg font-semibold hover:bg-emerald-50\">Agregar</button><button onClick={() => setView('consult')} className=\"w-full p-6 bg-white rounded-lg shadow-md text-center text-lg font-semibold hover:bg-emerald-50\">Consultar</button></div>) : view === 'add' ? (<div><button onClick={() => setView('menu')} className=\"mb-4 text-emerald-600 font-semibold\">&larr; Volver</button><h3 className=\"text-xl font-bold mb-4\">Agregar Actividad</h3><div className=\"space-y-4\"><div><label>Fecha</label><input type=\"date\" value={form.date} onChange={e => setForm({...form, date: e.target.value})} className=\"w-full px-4 py-2 border rounded-lg\" /></div><div><label>Estado</label><select value={form.status} onChange={e => setForm({...form, status: e.target.value})} className=\"w-full px-4 py-2 border rounded-lg bg-white\"><option>En curso</option><option>Completada</option></select></div><div><label>Observaciones</label><textarea value={form.observations} onChange={e => setForm({...form, observations: e.target.value})} rows=\"4\" className=\"w-full px-4 py-2 border rounded-lg\"></textarea></div><div className=\"flex justify-end\"><button onClick={handleSave} className=\"px-6 py-3 rounded-lg bg-emerald-600 text-white font-semibold\">Guardar</button></div></div></div>) : (<div><button onClick={() => setView('menu')} className=\"mb-4 text-emerald-600 font-semibold\">&larr; Volver</button><h3 className=\"text-xl font-bold mb-4\">Registro de Actividades</h3><div className=\"space-y-3\">{sortedActivities.map(act => (<div key={act.docId} className=\"p-4 bg-stone-50 rounded-lg border\"><div className=\"flex justify-between items-center\"><p className=\"font-semibold\">{act.date}</p><span className={`px-2 py-1 text-xs font-bold rounded-full ${act.status === 'Completada' ? 'bg-emerald-200 text-emerald-800' : 'bg-amber-200 text-amber-800'}`}>{act.status}</span></div><p className=\"mt-2 text-stone-600\">{act.observations}</p></div>))}</div></div>)}</div></div>);};\r\nconst AdminPanel = ({ onCancel, user }) => {\r\n    const [allUsers, setAllUsers] = useState([]);\r\n    const [selectedUser, setSelectedUser] = useState(null);\r\n    const [userData, setUserData] = useState({ owners: [], cattle: [] });\r\n    const [view, setView] = useState('main');\r\n\r\n    useEffect(() => {\r\n        const q = query(collection(db, 'users_public_info'));\r\n        const unsub = onSnapshot(q, (snapshot) => { setAllUsers(snapshot.docs.map(d => ({...d.data(), docId: d.id }))); });\r\n        return () => unsub();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (selectedUser) {\r\n            const unsubOwners = onSnapshot(collection(db, 'users', selectedUser.uid, 'owners'), (snapshot) => { setUserData(prev => ({...prev, owners: snapshot.docs.map(d => ({...d.data(), docId: d.id })) })); });\r\n            const unsubCattle = onSnapshot(collection(db, 'users', selectedUser.uid, 'cattle'), (snapshot) => { setUserData(prev => ({...prev, cattle: snapshot.docs.map(d => ({...d.data(), docId: d.id })) })); });\r\n            return () => { unsubOwners(); unsubCattle(); };\r\n        }\r\n    }, [selectedUser]);\r\n\r\n    const handleDelete = async (collectionName, docId) => {\r\n        if(window.confirm(\"¿Seguro que deseas eliminar este registro?\")) {\r\n            await deleteDoc(doc(db, 'users', selectedUser.uid, collectionName, docId));\r\n            alert(\"Registro eliminado.\");\r\n        }\r\n    };\r\n\r\n    if (view === 'registerCattle') { return <RegisterCattleScreen onCancel={() => setView('main')} owners={userData.owners} cattleData={userData.cattle} user={user} targetUserUid={selectedUser.uid} />; }\r\n\r\n    return (\r\n        <div className=\"p-6\"><div className=\"bg-white p-8 rounded-2xl shadow-lg\"><h2 className=\"text-2xl font-bold text-emerald-800 mb-6\">Panel de Administrador</h2><div className=\"mb-4\"><label className=\"block text-stone-700 font-medium mb-2\">Seleccionar Usuario</label><select onChange={(e) => setSelectedUser(allUsers.find(u => u.uid === e.target.value))} className=\"w-full p-2 border rounded\"><option value=\"\">-- Elija un usuario --</option>{allUsers.map(u => <option key={u.uid} value={u.uid}>{u.email}</option>)}</select></div>{selectedUser && (<div><button onClick={() => setView('registerCattle')} className=\"my-4 px-4 py-2 bg-blue-500 text-white rounded\">Registrar Res para Usuario</button><div><h3 className=\"text-xl font-bold mt-6 mb-2\">Propietarios</h3>{userData.owners.map(o => <div key={o.docId} className=\"flex justify-between items-center p-2 border-b\">{o.name} <button onClick={() => handleDelete('owners', o.docId)} className=\"text-red-500\"><Trash2 size={18}/></button></div>)}</div><div><h3 className=\"text-xl font-bold mt-6 mb-2\">Reses</h3>{userData.cattle.map(c => <div key={c.docId} className=\"flex justify-between items-center p-2 border-b\">{c.customId} - {c.gender} <button onClick={() => handleDelete('cattle', c.docId)} className=\"text-red-500\"><Trash2 size={18}/></button></div>)}</div></div>)}</div></div>\r\n    );\r\n};\r\n\r\n\r\n// --- Componente Principal de la App ---\r\nexport default function App() {\r\n    const [user, setUser] = useState(null);\r\n    const [isAdmin, setIsAdmin] = useState(false);\r\n    const [loading, setLoading] = useState(true);\r\n    const [currentPage, setCurrentPage] = useState('home');\r\n    const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n    const [owners, setOwners] = useState([]);\r\n    const [cattleData, setCattleData] = useState([]);\r\n    const [deceasedSoldData, setDeceasedSoldData] = useState([]);\r\n    const [activities, setActivities] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = onAuthStateChanged(auth, (currentUser) => {\r\n            setUser(currentUser);\r\n            setIsAdmin(currentUser ? ADMIN_EMAILS.includes(currentUser.email) : false);\r\n            setLoading(false);\r\n            if(currentUser) { setCurrentPage('home'); }\r\n        });\r\n        return () => unsubscribe();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (user) {\r\n            const collections = ['owners', 'cattle', 'deceasedSoldCattle', 'activities'];\r\n            const setters = [setOwners, setCattleData, setDeceasedSoldData, setActivities];\r\n            const unsubscribes = collections.map((col, index) => {\r\n                const q = query(collection(db, 'users', user.uid, col));\r\n                return onSnapshot(q, (snapshot) => { setters[index](snapshot.docs.map(d => ({ ...d.data(), docId: d.id }))); });\r\n            });\r\n            return () => unsubscribes.forEach(unsub => unsub());\r\n        } else {\r\n            setOwners([]); setCattleData([]); setDeceasedSoldData([]); setActivities([]);\r\n        }\r\n    }, [user]);\r\n\r\n    if (loading) { return <div className=\"flex justify-center items-center h-screen\">Cargando...</div>; }\r\n    if (!user) { return <AuthScreen />; }\r\n\r\n    const renderPage = () => {\r\n        switch (currentPage) {\r\n            case 'registerOwner': return <RegisterOwnerScreen onCancel={() => setCurrentPage('home')} owners={owners} user={user} />;\r\n            case 'registerCattle': return <RegisterCattleScreen onCancel={() => setCurrentPage('home')} owners={owners} cattleData={cattleData} user={user} />;\r\n            case 'updateCattle': return <UpdateCattleScreen onCancel={() => setCurrentPage('home')} owners={owners} user={user} />;\r\n            case 'consult': return <ConsultScreen cattleData={cattleData} owners={owners} deceasedSoldData={deceasedSoldData} />;\r\n            case 'activities': return <RegisterActivitiesScreen onCancel={() => setCurrentPage('home')} activities={activities} user={user} />;\r\n            case 'admin': return isAdmin ? <AdminPanel onCancel={() => setCurrentPage('home')} user={user} /> : <HomeScreen navigate={setCurrentPage} />;\r\n            case 'home': default: return <HomeScreen navigate={setCurrentPage} />;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"bg-stone-100 min-h-screen font-sans\">\r\n            <SideMenu isOpen={isMenuOpen} onClose={() => setIsMenuOpen(false)} navigate={setCurrentPage} isAdmin={isAdmin} />\r\n            <Header title=\"Finca Moreno Z\" onMenuClick={() => setIsMenuOpen(true)} />\r\n            <main>{renderPage()}</main>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}