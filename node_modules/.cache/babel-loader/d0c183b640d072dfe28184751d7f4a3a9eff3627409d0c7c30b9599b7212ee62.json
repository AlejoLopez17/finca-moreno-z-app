{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alezv\\\\Desktop\\\\App\\\\React\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s6 = $RefreshSig$(),\n  _s7 = $RefreshSig$();\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { Plus, Edit, Search, Menu, X, Save, FileText, Users, Activity, Home, LogOut, UserPlus, LogIn, ChevronLeft, ChevronRight } from 'lucide-react';\n\n// Importa los servicios de Firebase desde tu archivo de configuración\nimport { auth, db } from './firebase';\nimport { onAuthStateChanged, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from \"firebase/auth\";\nimport { collection, addDoc, onSnapshot, query, doc, updateDoc, writeBatch, where, getDocs } from \"firebase/firestore\";\n\n// --- Pantalla de Autenticación (Login y Registro) ---\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AuthScreen = () => {\n  _s();\n  const [isLogin, setIsLogin] = useState(true);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const handleAuth = async e => {\n    e.preventDefault();\n    setError('');\n    try {\n      if (isLogin) {\n        await signInWithEmailAndPassword(auth, email, password);\n      } else {\n        await createUserWithEmailAndPassword(auth, email, password);\n      }\n    } catch (err) {\n      setError(\"Error: \" + err.message.replace('Firebase: ', ''));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-stone-100 flex flex-col justify-center items-center p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full max-w-md bg-white rounded-2xl shadow-xl p-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center mb-6\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"http://googleusercontent.com/file_content/2\",\n          alt: \"Logo\",\n          className: \"h-20 w-20\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-3xl font-bold text-center text-emerald-800 mb-2\",\n        children: isLogin ? 'Iniciar Sesión' : 'Crear Cuenta'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-center text-stone-500 mb-8\",\n        children: \"Bienvenido a Finca Moreno Z\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleAuth,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-stone-700 font-medium mb-2\",\n            children: \"Correo Electr\\xF3nico\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            value: email,\n            onChange: e => setEmail(e.target.value),\n            className: \"w-full px-4 py-3 border border-stone-300 rounded-lg\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-stone-700 font-medium mb-2\",\n            children: \"Contrase\\xF1a\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            value: password,\n            onChange: e => setPassword(e.target.value),\n            className: \"w-full px-4 py-3 border border-stone-300 rounded-lg\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-500 text-sm mb-4\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"w-full bg-emerald-600 text-white font-bold py-3 rounded-lg hover:bg-emerald-700 transition-colors flex items-center justify-center gap-2\",\n          children: [isLogin ? /*#__PURE__*/_jsxDEV(LogIn, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 24\n          }, this) : /*#__PURE__*/_jsxDEV(UserPlus, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 46\n          }, this), isLogin ? 'Ingresar' : 'Registrarse']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6 text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setIsLogin(!isLogin),\n          className: \"text-emerald-600 hover:underline\",\n          children: isLogin ? '¿No tienes una cuenta? Regístrate' : '¿Ya tienes una cuenta? Inicia sesión'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n\n// --- Componentes de la UI (Reutilizados) ---\n_s(AuthScreen, \"DLymbcnx0Zs0Cek/m6zME3DDhKs=\");\n_c = AuthScreen;\nconst Modal = ({\n  children,\n  onClose,\n  title\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4\",\n  children: /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-2xl shadow-2xl w-full max-w-md m-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center p-4 border-b border-stone-200\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-bold text-emerald-800\",\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClose,\n        className: \"text-stone-400 hover:text-stone-600\",\n        children: /*#__PURE__*/_jsxDEV(X, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 91\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-6\",\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 9\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 88,\n  columnNumber: 5\n}, this);\n_c2 = Modal;\nconst Header = ({\n  title,\n  onMenuClick\n}) => {\n  const handleLogout = () => {\n    signOut(auth);\n  };\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    className: \"bg-emerald-800 text-white p-4 shadow-lg flex items-center justify-between sticky top-0 z-40\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onMenuClick,\n        className: \"mr-4 p-2 rounded-full hover:bg-emerald-700\",\n        children: /*#__PURE__*/_jsxDEV(Menu, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 98\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"http://googleusercontent.com/file_content/2\",\n        alt: \"Logo\",\n        className: \"h-10 w-10 rounded-full bg-white p-1 object-contain\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold ml-4 tracking-wider\",\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleLogout,\n      className: \"flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-emerald-700 font-semibold\",\n      children: [/*#__PURE__*/_jsxDEV(LogOut, {\n        size: 18\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }, this), \" Salir\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 5\n  }, this);\n};\n_c3 = Header;\nconst SideMenu = ({\n  isOpen,\n  onClose,\n  navigate\n}) => {\n  const menuItems = [{\n    name: 'Inicio',\n    page: 'home',\n    icon: /*#__PURE__*/_jsxDEV(Home, {\n      size: 20\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 47\n    }, this)\n  }, {\n    name: 'Registrar Res',\n    page: 'registerCattle',\n    icon: /*#__PURE__*/_jsxDEV(Plus, {\n      size: 20\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 64\n    }, this)\n  }, {\n    name: 'Actualizar Res',\n    page: 'updateCattle',\n    icon: /*#__PURE__*/_jsxDEV(Edit, {\n      size: 20\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 63\n    }, this)\n  }, {\n    name: 'Consultar',\n    page: 'consult',\n    icon: /*#__PURE__*/_jsxDEV(FileText, {\n      size: 20\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 53\n    }, this)\n  }, {\n    name: 'Actividades',\n    page: 'activities',\n    icon: /*#__PURE__*/_jsxDEV(Activity, {\n      size: 20\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 58\n    }, this)\n  }, {\n    name: 'Propietarios',\n    page: 'registerOwner',\n    icon: /*#__PURE__*/_jsxDEV(Users, {\n      size: 20\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 62\n    }, this)\n  }];\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `fixed inset-0 bg-black bg-opacity-50 z-40 transition-opacity ${isOpen ? 'opacity-100' : 'opacity-0 pointer-events-none'}`,\n      onClick: onClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `fixed top-0 left-0 h-full bg-white w-72 shadow-xl z-50 transform transition-transform ${isOpen ? 'translate-x-0' : '-translate-x-full'}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-b flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-bold text-emerald-800\",\n          children: \"Men\\xFA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"text-stone-500 hover:text-stone-800\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 95\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: menuItems.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                navigate(item.page);\n                onClose();\n              },\n              className: \"w-full text-left flex items-center gap-3 px-4 py-3 rounded-lg text-stone-700 hover:bg-emerald-50 hover:text-emerald-800 font-medium transition-all\",\n              children: [item.icon, item.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 33\n            }, this)\n          }, item.page, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n// --- Lógica de Negocio ---\n_c4 = SideMenu;\nconst calculateAgeInMonths = birthDate => {\n  if (!birthDate) return 0;\n  const today = new Date();\n  const birth = new Date(birthDate);\n  let months = (today.getFullYear() - birth.getFullYear()) * 12;\n  months -= birth.getMonth();\n  months += today.getMonth();\n  return months <= 0 ? 0 : months;\n};\nconst determineCattleType = cattle => {\n  if (!cattle || !cattle.birthDate || !cattle.gender) return 'N/A';\n  const ageInMonths = calculateAgeInMonths(cattle.birthDate);\n  if (ageInMonths <= 12) return 'Ternero/a';\n  if (cattle.gender === 'Hembra') {\n    if (cattle.offspring && cattle.offspring.length > 0) {\n      const lastParto = new Date(Math.max(...cattle.offspring.map(o => new Date(o.birthDate))));\n      const monthsSinceParto = calculateAgeInMonths(lastParto);\n      return monthsSinceParto <= 12 ? 'Vaca Parida' : 'Vaca Horra';\n    }\n    return ageInMonths <= 24 ? 'Novilla' : 'Vaca';\n  }\n  if (cattle.gender === 'Macho') {\n    if (ageInMonths <= 24) return 'Levante';\n    if (cattle.isCastrated === true) return 'Macho de Engorde';\n    if (cattle.isCastrated === false) return 'Toro';\n    return 'Macho Adulto';\n  }\n  return 'Desconocido';\n};\n\n// --- Pantallas de la Aplicación ---\nconst HomeScreen = ({\n  navigate\n}) => {\n  const buttons = [{\n    label: 'Registro de Res',\n    page: 'registerCattle',\n    icon: /*#__PURE__*/_jsxDEV(Plus, {\n      className: \"w-12 h-12\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 67\n    }, this)\n  }, {\n    label: 'Actualización de Res',\n    page: 'updateCattle',\n    icon: /*#__PURE__*/_jsxDEV(Edit, {\n      className: \"w-12 h-12\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 70\n    }, this)\n  }, {\n    label: 'Consultar',\n    page: 'consult',\n    icon: /*#__PURE__*/_jsxDEV(FileText, {\n      className: \"w-12 h-12\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 54\n    }, this)\n  }, {\n    label: 'Registro de Actividades',\n    page: 'activities',\n    icon: /*#__PURE__*/_jsxDEV(Activity, {\n      className: \"w-12 h-12\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 71\n    }, this)\n  }, {\n    label: 'Registrar Propietarios',\n    page: 'registerOwner',\n    icon: /*#__PURE__*/_jsxDEV(Users, {\n      className: \"w-12 h-12\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 73\n    }, this)\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"grid grid-cols-2 gap-6 p-6\",\n    children: buttons.map(btn => /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => navigate(btn.page),\n      className: \"bg-white rounded-2xl shadow-lg p-6 flex flex-col items-center justify-center text-center text-emerald-800 hover:bg-emerald-50 hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 aspect-square border-b-4 border-amber-400\",\n      children: [btn.icon, /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"mt-4 font-semibold text-lg\",\n        children: btn.label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 21\n      }, this)]\n    }, btn.page, true, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 17\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 193,\n    columnNumber: 9\n  }, this);\n};\n_c5 = HomeScreen;\nconst RegisterOwnerScreen = ({\n  onCancel,\n  owners,\n  user\n}) => {\n  _s2();\n  const [name, setName] = useState('');\n  const handleSave = async () => {\n    if (name.trim() && user) {\n      try {\n        const ownersCollectionRef = collection(db, 'users', user.uid, 'owners');\n        await addDoc(ownersCollectionRef, {\n          name: name.trim()\n        });\n        alert('Propietario guardado con éxito!');\n        onCancel();\n      } catch (error) {\n        console.error(\"Error: \", error);\n        alert(\"Hubo un error al guardar.\");\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-8 rounded-2xl shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-emerald-800 mb-6\",\n        children: \"Registrar Nuevo Propietario\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-stone-700 font-medium mb-2\",\n          children: \"Nombre y Apellidos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 39\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: name,\n          onChange: e => setName(e.target.value),\n          className: \"w-full px-4 py-3 border border-stone-300 rounded-lg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 122\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onCancel,\n          className: \"px-6 py-3 rounded-lg bg-stone-200 text-stone-700 font-semibold\",\n          children: \"Cancelar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 57\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSave,\n          className: \"px-6 py-3 rounded-lg bg-emerald-600 text-white font-semibold flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Save, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 302\n          }, this), \" Guardar\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 176\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-8 bg-white p-8 rounded-2xl shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-bold text-emerald-800 mb-4\",\n        children: \"Propietarios Registrados\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 17\n      }, this), owners.length > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"divide-y divide-stone-200\",\n        children: owners.map(owner => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"py-3 text-stone-600\",\n          children: owner.name\n        }, owner.docId, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 102\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 39\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-stone-500\",\n        children: \"No hay propietarios registrados.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 185\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 217,\n    columnNumber: 9\n  }, this);\n};\n_s2(RegisterOwnerScreen, \"/PAWDgWx7+Y6BmsFMUKcdrcX5eM=\");\n_c6 = RegisterOwnerScreen;\nconst RegisterCattleScreen = ({\n  onCancel,\n  owners,\n  cattleData,\n  user\n}) => {\n  _s3();\n  const [form, setForm] = useState({\n    id: '',\n    birthDate: '',\n    gender: 'Hembra',\n    weight: '',\n    parentsId: '',\n    lastVaccines: '',\n    ownerId: owners.length > 0 ? owners[0].docId : ''\n  });\n  const [useAutoId, setUseAutoId] = useState(true);\n  const cattleType = useMemo(() => determineCattleType(form), [form.birthDate, form.gender]);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setForm(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const generateAutoId = () => {\n    const allIds = cattleData.map(c => c.customId.replace(/^[VM]-/, '')).filter(id => id.startsWith('FMZ-'));\n    const lastIdNum = allIds.length > 0 ? Math.max(...allIds.map(id => parseInt(id.split('-')[1]))) : 0;\n    return `FMZ-${String(lastIdNum + 1).padStart(3, '0')}`;\n  };\n  const handleSave = async () => {\n    const finalId = useAutoId ? generateAutoId() : form.id.trim();\n    if (!finalId || !form.birthDate || !form.weight || !form.ownerId) {\n      alert(\"Por favor, completa todos los campos obligatorios.\");\n      return;\n    }\n    if (!useAutoId && cattleData.some(c => c.customId.toUpperCase() === finalId.toUpperCase())) {\n      alert(\"El código de identificación manual ya existe.\");\n      return;\n    }\n    if (user) {\n      try {\n        const cattleCollectionRef = collection(db, 'users', user.uid, 'cattle');\n        await addDoc(cattleCollectionRef, {\n          ...form,\n          customId: finalId,\n          status: 'Viva',\n          offspring: [],\n          weight: parseFloat(form.weight),\n          createdAt: new Date()\n        });\n        alert('Res guardada con éxito!');\n        onCancel();\n      } catch (error) {\n        console.error(\"Error: \", error);\n        alert(\"Hubo un error al guardar.\");\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-8 rounded-2xl shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-emerald-800 mb-6\",\n        children: \"Registrar Nueva Res\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 82\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-stone-700 font-medium mb-2\",\n            children: \"C\\xF3digo de Identificaci\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 223\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"id\",\n              value: useAutoId ? generateAutoId() : form.id,\n              onChange: handleChange,\n              disabled: useAutoId,\n              className: \"w-full px-4 py-3 border border-stone-300 rounded-lg disabled:bg-stone-100\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 353\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setUseAutoId(!useAutoId),\n              className: `px-4 py-3 rounded-lg font-semibold transition-colors ${useAutoId ? 'bg-emerald-600 text-white' : 'bg-stone-200'}`,\n              children: \"Auto\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 562\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 312\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 218\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-stone-700 font-medium mb-2\",\n            children: \"Fecha de Nacimiento\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 768\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            name: \"birthDate\",\n            value: form.birthDate,\n            onChange: handleChange,\n            className: \"w-full px-4 py-3 border border-stone-300 rounded-lg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 852\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 763\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-stone-700 font-medium mb-2\",\n            children: \"G\\xE9nero\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 1012\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"gender\",\n            value: form.gender,\n            onChange: handleChange,\n            className: \"w-full px-4 py-3 border border-stone-300 rounded-lg bg-white\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Hembra\",\n              children: \"Hembra\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 1222\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Macho\",\n              children: \"Macho\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 1260\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 1083\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 1007\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-stone-700 font-medium mb-2\",\n            children: \"Peso (Kg)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 1316\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"weight\",\n            value: form.weight,\n            onChange: handleChange,\n            className: \"w-full px-4 py-3 border border-stone-300 rounded-lg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 1390\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 1311\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-stone-700 font-medium mb-2\",\n            children: \"C\\xF3digo de los Padres\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 1546\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"parentsId\",\n            value: form.parentsId,\n            onChange: handleChange,\n            className: \"w-full px-4 py-3 border border-stone-300 rounded-lg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 1631\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 1541\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-stone-700 font-medium mb-2\",\n            children: \"Tipo de Cabeza de Ganado\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 1791\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: cattleType,\n            disabled: true,\n            className: \"w-full px-4 py-3 border border-stone-300 rounded-lg bg-stone-100\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 1880\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 1786\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md:col-span-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-stone-700 font-medium mb-2\",\n            children: \"\\xDAltimas Vacunas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 2043\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"lastVaccines\",\n            value: form.lastVaccines,\n            onChange: handleChange,\n            className: \"w-full px-4 py-3 border border-stone-300 rounded-lg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 2123\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 2012\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md:col-span-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-stone-700 font-medium mb-2\",\n            children: \"Propietario\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 2315\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"ownerId\",\n            value: form.ownerId,\n            onChange: handleChange,\n            className: \"w-full px-4 py-3 border border-stone-300 rounded-lg bg-white\",\n            disabled: owners.length === 0,\n            children: owners.length > 0 ? owners.map(o => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: o.docId,\n              children: o.name\n            }, o.docId, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 2600\n            }, this)) : /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Registre un propietario primero\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 2659\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 2391\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 2284\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 163\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end gap-4 mt-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onCancel,\n          className: \"px-6 py-3 rounded-lg bg-stone-200 text-stone-700 font-semibold\",\n          children: \"Cancelar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 2774\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSave,\n          className: \"px-6 py-3 rounded-lg bg-emerald-600 text-white font-semibold flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Save, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 3019\n          }, this), \" Guardar\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 2893\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 2729\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 30\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 255,\n    columnNumber: 9\n  }, this);\n};\n_s3(RegisterCattleScreen, \"zct8Pd2Dv1RRofJJrgvA7DIAFEM=\");\n_c7 = RegisterCattleScreen;\nconst UpdateCattleScreen = ({\n  onCancel,\n  owners,\n  user\n}) => {\n  _s4();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedCattle, setSelectedCattle] = useState(null);\n  const [form, setForm] = useState(null);\n  const handleSearch = async () => {\n    const q = query(collection(db, 'users', user.uid, 'cattle'), where(\"customId\", \"==\", searchTerm.trim().toUpperCase()));\n    const querySnapshot = await getDocs(q);\n    if (!querySnapshot.empty) {\n      const doc = querySnapshot.docs[0];\n      const foundCattle = {\n        ...doc.data(),\n        docId: doc.id\n      };\n      setSelectedCattle(foundCattle);\n      setForm(foundCattle);\n    } else {\n      alert(\"Código inexistente, valide que este correcto\");\n      setSelectedCattle(null);\n      setForm(null);\n    }\n  };\n  const handleUpdate = async () => {\n    const cattleDocRef = doc(db, 'users', user.uid, 'cattle', selectedCattle.docId);\n    await updateDoc(cattleDocRef, form);\n    alert(\"Información actualizada con éxito\");\n    onCancel();\n  };\n  const handleStatusChange = async (newStatus, date) => {\n    const batch = writeBatch(db);\n    const oldDocRef = doc(db, 'users', user.uid, 'cattle', selectedCattle.docId);\n    const newDocRef = doc(collection(db, 'users', user.uid, 'deceasedSoldCattle'));\n    const newCustomId = `${newStatus === 'Vendida' ? 'V' : 'M'}-${selectedCattle.customId}`;\n    const updatedData = {\n      ...selectedCattle,\n      ...form,\n      status: newStatus,\n      statusChangeDate: date,\n      customId: newCustomId,\n      originalDocId: selectedCattle.docId\n    };\n    delete updatedData.docId;\n    batch.set(newDocRef, updatedData);\n    batch.delete(oldDocRef);\n    await batch.commit();\n    alert(`El estado de la res ha sido actualizado a ${newStatus}.`);\n    onCancel();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-8 rounded-2xl shadow-lg mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-emerald-800 mb-6\",\n        children: \"Actualizar Res\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value),\n          placeholder: \"Buscar por c\\xF3digo...\",\n          className: \"w-full px-4 py-3 border rounded-lg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSearch,\n          className: \"px-6 py-3 rounded-lg bg-emerald-600 text-white font-semibold\",\n          children: /*#__PURE__*/_jsxDEV(Search, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 125\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 13\n    }, this), selectedCattle && form && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-8 rounded-2xl shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Editando: \", form.customId]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end gap-4 mt-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onCancel,\n          className: \"px-6 py-3 rounded-lg bg-stone-200\",\n          children: \"Cancelar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleUpdate,\n          className: \"px-6 py-3 rounded-lg bg-emerald-600 text-white\",\n          children: \"Actualizar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 293,\n    columnNumber: 9\n  }, this);\n};\n_s4(UpdateCattleScreen, \"4lZ9wTbqe3HLUtPxo3djF8vGV2Y=\");\n_c8 = UpdateCattleScreen;\nconst ConsultScreen = ({\n  cattleData,\n  owners,\n  deceasedSoldData\n}) => {\n  _s5();\n  const [view, setView] = useState('menu');\n  const [selectedOwner, setSelectedOwner] = useState(null);\n  const [detailsModal, setDetailsModal] = useState({\n    isOpen: false,\n    cattle: null\n  });\n  const CattleCard = ({\n    cattle,\n    onClick\n  }) => {\n    const owner = owners.find(o => o.docId === cattle.ownerId);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: () => onClick(cattle),\n      className: \"bg-white p-4 rounded-xl shadow-md hover:shadow-lg transition-shadow cursor-pointer border-l-4 border-amber-400\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-start\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-bold text-lg text-stone-800\",\n            children: cattle.customId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 26\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-stone-600\",\n            children: determineCattleType(cattle)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 95\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `px-3 py-1 rounded-full text-sm font-semibold ${cattle.status === 'Viva' ? 'bg-emerald-100 text-emerald-800' : 'bg-red-100 text-red-800'}`,\n          children: cattle.status\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-3 pt-3 border-t\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-stone-500\",\n          children: [\"Propietario: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium text-stone-700\",\n            children: owner ? owner.name : 'N/A'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 104\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 53\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 13\n    }, this);\n  };\n  const renderContent = () => {\n    switch (view) {\n      case 'byOwner':\n        if (!selectedOwner) {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setView('menu'),\n              className: \"mb-4 text-emerald-600 font-semibold\",\n              children: \"\\u2190 Volver\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 34\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-bold mb-4\",\n              children: \"Selecciona un Propietario\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 144\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: owners.map(o => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setSelectedOwner(o),\n                className: \"w-full text-left p-4 bg-stone-100 rounded-lg hover:bg-emerald-50\",\n                children: o.name\n              }, o.docId, false, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 257\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 213\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 29\n          }, this);\n        }\n        const ownerCattle = cattleData.filter(c => c.ownerId === selectedOwner.docId);\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setSelectedOwner(null),\n            className: \"mb-4 text-emerald-600 font-semibold\",\n            children: \"\\u2190 Volver\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 30\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-bold mb-4\",\n            children: [\"Reses de \", selectedOwner.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 147\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",\n            children: ownerCattle.length > 0 ? ownerCattle.map(c => /*#__PURE__*/_jsxDEV(CattleCard, {\n              cattle: c,\n              onClick: cattle => setDetailsModal({\n                isOpen: true,\n                cattle\n              })\n            }, c.docId, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 337\n            }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Este propietario no tiene reses.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 444\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 220\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 25\n        }, this);\n      case 'all':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setView('menu'),\n            className: \"mb-4 text-emerald-600 font-semibold\",\n            children: \"\\u2190 Volver\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 30\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-bold mb-4\",\n            children: \"Listado de Reses Vivas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 140\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",\n            children: cattleData.map(c => /*#__PURE__*/_jsxDEV(CattleCard, {\n              cattle: c,\n              onClick: cattle => setDetailsModal({\n                isOpen: true,\n                cattle\n              })\n            }, c.docId, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 297\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 206\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 25\n        }, this);\n      case 'deceasedSold':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setView('menu'),\n            className: \"mb-4 text-emerald-600 font-semibold\",\n            children: \"\\u2190 Volver\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 30\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-bold mb-4\",\n            children: \"Listado de Reses Vendidas o Muertas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 140\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",\n            children: deceasedSoldData.map(c => /*#__PURE__*/_jsxDEV(CattleCard, {\n              cattle: c,\n              onClick: cattle => setDetailsModal({\n                isOpen: true,\n                cattle\n              })\n            }, c.docId, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 316\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 219\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 25\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setView('byOwner'),\n            className: \"w-full p-6 bg-white rounded-lg shadow-md text-left text-lg font-semibold hover:bg-emerald-50\",\n            children: \"Consultar por Propietarios\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 52\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setView('all'),\n            className: \"w-full p-6 bg-white rounded-lg shadow-md text-left text-lg font-semibold hover:bg-emerald-50\",\n            children: \"Listado de Reses Vivas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 235\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setView('deceasedSold'),\n            className: \"w-full p-6 bg-white rounded-lg shadow-md text-left text-lg font-semibold hover:bg-emerald-50\",\n            children: \"Listado de Reses Muertas o Vendidas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 410\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 25\n        }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-8 rounded-2xl shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-emerald-800 mb-6\",\n        children: \"Consultar Registros\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 65\n      }, this), renderContent()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 13\n    }, this), detailsModal.isOpen && detailsModal.cattle && /*#__PURE__*/_jsxDEV(Modal, {\n      onClose: () => setDetailsModal({\n        isOpen: false\n      }),\n      title: `Detalles de ${detailsModal.cattle.customId}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-3\",\n        children: [Object.entries(detailsModal.cattle).map(([key, value]) => {\n          if (['docId', 'createdAt', 'originalDocId'].includes(key)) return null;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium text-stone-600 capitalize\",\n              children: [key.replace(/([A-Z])/g, ' $1'), \":\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 388\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-stone-800\",\n              children: String(value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 484\n            }, this)]\n          }, key, true, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 340\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium text-stone-600\",\n            children: \"Tipo de Ganado:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 588\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-stone-800\",\n            children: determineCattleType(detailsModal.cattle)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 655\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 550\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 173\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end mt-6\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setDetailsModal({\n            isOpen: false\n          }),\n          className: \"px-6 py-2 rounded-lg bg-emerald-600 text-white\",\n          children: \"Cerrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 788\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 749\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 61\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 348,\n    columnNumber: 9\n  }, this);\n};\n_s5(ConsultScreen, \"8sQxAO5h2C3zKewBZ+2zmEtWY34=\");\n_c9 = ConsultScreen;\nconst RegisterActivitiesScreen = ({\n  onCancel,\n  activities,\n  user\n}) => {\n  _s6();\n  const [view, setView] = useState('menu');\n  const [form, setForm] = useState({\n    date: '',\n    status: 'En curso',\n    observations: ''\n  });\n  const handleSave = async () => {\n    if (form.date && form.observations && user) {\n      try {\n        const activitiesCollectionRef = collection(db, 'users', user.uid, 'activities');\n        await addDoc(activitiesCollectionRef, {\n          ...form,\n          createdAt: new Date()\n        });\n        alert('Actividad guardada con éxito!');\n        setForm({\n          date: '',\n          status: 'En curso',\n          observations: ''\n        });\n        setView('consult');\n      } catch (error) {\n        console.error(\"Error: \", error);\n        alert(\"Hubo un error al guardar.\");\n      }\n    }\n  };\n  const sortedActivities = useMemo(() => [...activities].sort((a, b) => new Date(b.date) - new Date(a.date)), [activities]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-8 rounded-2xl shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-emerald-800 mb-6\",\n        children: \"Gesti\\xF3n de Actividades\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 13\n      }, this), view === 'menu' ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col md:flex-row gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setView('add'),\n          className: \"w-full p-6 bg-white rounded-lg shadow-md text-center text-lg font-semibold hover:bg-emerald-50\",\n          children: \"Agregar Actividad\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 82\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setView('consult'),\n          className: \"w-full p-6 bg-white rounded-lg shadow-md text-center text-lg font-semibold hover:bg-emerald-50\",\n          children: \"Consultar Registro\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 254\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 33\n      }, this) : view === 'add' ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setView('menu'),\n          className: \"mb-4 text-emerald-600 font-semibold\",\n          children: \"\\u2190 Volver\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 38\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-bold mb-4\",\n          children: \"Agregar Nueva Actividad\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 148\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Fecha\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 247\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              value: form.date,\n              onChange: e => setForm({\n                ...form,\n                date: e.target.value\n              }),\n              className: \"w-full px-4 py-2 border rounded-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 267\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 242\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Estado\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 421\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: form.status,\n              onChange: e => setForm({\n                ...form,\n                status: e.target.value\n              }),\n              className: \"w-full px-4 py-2 border rounded-lg bg-white\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"En curso\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 374,\n                columnNumber: 585\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"Completada\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 374,\n                columnNumber: 610\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 442\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 416\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Observaciones\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 657\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: form.observations,\n              onChange: e => setForm({\n                ...form,\n                observations: e.target.value\n              }),\n              rows: \"4\",\n              className: \"w-full px-4 py-2 border rounded-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 685\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 652\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSave,\n              className: \"px-6 py-3 rounded-lg bg-emerald-600 text-white font-semibold\",\n              children: \"Guardar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 893\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 859\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 215\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 33\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setView('menu'),\n          className: \"mb-4 text-emerald-600 font-semibold\",\n          children: \"\\u2190 Volver\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-bold mb-4\",\n          children: \"Registro de Actividades\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 131\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-3\",\n          children: sortedActivities.map(act => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4 bg-stone-50 rounded-lg border\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-semibold\",\n                children: act.date\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 375,\n                columnNumber: 373\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `px-2 py-1 text-xs font-bold rounded-full ${act.status === 'Completada' ? 'bg-emerald-200 text-emerald-800' : 'bg-amber-200 text-amber-800'}`,\n                children: act.status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 375,\n                columnNumber: 416\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 322\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-2 text-stone-600\",\n              children: act.observations\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 601\n            }, this)]\n          }, act.docId, true, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 255\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 198\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 16\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 30\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 371,\n    columnNumber: 9\n  }, this);\n};\n\n// --- Componente Principal de la App ---\n_s6(RegisterActivitiesScreen, \"zfFn41xungX8RZUoY16v7HCvrMc=\");\n_c0 = RegisterActivitiesScreen;\nexport default function App() {\n  _s7();\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [currentPage, setCurrentPage] = useState('home');\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  const [owners, setOwners] = useState([]);\n  const [cattleData, setCattleData] = useState([]);\n  const [deceasedSoldData, setDeceasedSoldData] = useState([]);\n  const [activities, setActivities] = useState([]);\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, currentUser => {\n      setUser(currentUser);\n      setLoading(false);\n      if (currentUser) {\n        setCurrentPage('home');\n      }\n    });\n    return () => unsubscribe();\n  }, []);\n  useEffect(() => {\n    if (user) {\n      const collections = ['owners', 'cattle', 'deceasedSoldCattle', 'activities'];\n      const setters = [setOwners, setCattleData, setDeceasedSoldData, setActivities];\n      const unsubscribes = collections.map((col, index) => {\n        const q = query(collection(db, 'users', user.uid, col));\n        return onSnapshot(q, querySnapshot => {\n          const data = [];\n          querySnapshot.forEach(doc => {\n            data.push({\n              ...doc.data(),\n              docId: doc.id\n            });\n          });\n          setters[index](data);\n        });\n      });\n      return () => unsubscribes.forEach(unsub => unsub());\n    } else {\n      setOwners([]);\n      setCattleData([]);\n      setDeceasedSoldData([]);\n      setActivities([]);\n    }\n  }, [user]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center items-center h-screen\",\n      children: \"Cargando...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 27\n    }, this);\n  }\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(AuthScreen, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 25\n    }, this);\n  }\n  const renderPage = () => {\n    switch (currentPage) {\n      case 'registerOwner':\n        return /*#__PURE__*/_jsxDEV(RegisterOwnerScreen, {\n          onCancel: () => setCurrentPage('home'),\n          owners: owners,\n          user: user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 42\n        }, this);\n      case 'registerCattle':\n        return /*#__PURE__*/_jsxDEV(RegisterCattleScreen, {\n          onCancel: () => setCurrentPage('home'),\n          owners: owners,\n          cattleData: cattleData,\n          user: user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 43\n        }, this);\n      case 'updateCattle':\n        return /*#__PURE__*/_jsxDEV(UpdateCattleScreen, {\n          onCancel: () => setCurrentPage('home'),\n          owners: owners,\n          user: user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 41\n        }, this);\n      case 'consult':\n        return /*#__PURE__*/_jsxDEV(ConsultScreen, {\n          cattleData: cattleData,\n          owners: owners,\n          deceasedSoldData: deceasedSoldData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 36\n        }, this);\n      case 'activities':\n        return /*#__PURE__*/_jsxDEV(RegisterActivitiesScreen, {\n          onCancel: () => setCurrentPage('home'),\n          activities: activities,\n          user: user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 39\n        }, this);\n      case 'home':\n      default:\n        return /*#__PURE__*/_jsxDEV(HomeScreen, {\n          navigate: setCurrentPage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 42\n        }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-stone-100 min-h-screen font-sans\",\n    children: [/*#__PURE__*/_jsxDEV(SideMenu, {\n      isOpen: isMenuOpen,\n      onClose: () => setIsMenuOpen(false),\n      navigate: setCurrentPage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Header, {\n      title: \"Finca Moreno Z\",\n      onMenuClick: () => setIsMenuOpen(true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 436,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      children: renderPage()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 437,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 434,\n    columnNumber: 9\n  }, this);\n}\n_s7(App, \"/vp4KofrBgKEsp9A7CXQlbui7/E=\");\n_c1 = App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1;\n$RefreshReg$(_c, \"AuthScreen\");\n$RefreshReg$(_c2, \"Modal\");\n$RefreshReg$(_c3, \"Header\");\n$RefreshReg$(_c4, \"SideMenu\");\n$RefreshReg$(_c5, \"HomeScreen\");\n$RefreshReg$(_c6, \"RegisterOwnerScreen\");\n$RefreshReg$(_c7, \"RegisterCattleScreen\");\n$RefreshReg$(_c8, \"UpdateCattleScreen\");\n$RefreshReg$(_c9, \"ConsultScreen\");\n$RefreshReg$(_c0, \"RegisterActivitiesScreen\");\n$RefreshReg$(_c1, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","Plus","Edit","Search","Menu","X","Save","FileText","Users","Activity","Home","LogOut","UserPlus","LogIn","ChevronLeft","ChevronRight","auth","db","onAuthStateChanged","createUserWithEmailAndPassword","signInWithEmailAndPassword","signOut","collection","addDoc","onSnapshot","query","doc","updateDoc","writeBatch","where","getDocs","jsxDEV","_jsxDEV","Fragment","_Fragment","AuthScreen","_s","isLogin","setIsLogin","email","setEmail","password","setPassword","error","setError","handleAuth","e","preventDefault","err","message","replace","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","value","onChange","target","required","size","onClick","_c","Modal","onClose","title","_c2","Header","onMenuClick","handleLogout","_c3","SideMenu","isOpen","navigate","menuItems","name","page","icon","map","item","_c4","calculateAgeInMonths","birthDate","today","Date","birth","months","getFullYear","getMonth","determineCattleType","cattle","gender","ageInMonths","offspring","length","lastParto","Math","max","o","monthsSinceParto","isCastrated","HomeScreen","buttons","label","btn","_c5","RegisterOwnerScreen","onCancel","owners","user","_s2","setName","handleSave","trim","ownersCollectionRef","uid","alert","console","owner","docId","_c6","RegisterCattleScreen","cattleData","_s3","form","setForm","id","weight","parentsId","lastVaccines","ownerId","useAutoId","setUseAutoId","cattleType","handleChange","prev","generateAutoId","allIds","c","customId","filter","startsWith","lastIdNum","parseInt","split","String","padStart","finalId","some","toUpperCase","cattleCollectionRef","status","parseFloat","createdAt","disabled","_c7","UpdateCattleScreen","_s4","searchTerm","setSearchTerm","selectedCattle","setSelectedCattle","handleSearch","q","querySnapshot","empty","docs","foundCattle","data","handleUpdate","cattleDocRef","handleStatusChange","newStatus","date","batch","oldDocRef","newDocRef","newCustomId","updatedData","statusChangeDate","originalDocId","set","delete","commit","placeholder","_c8","ConsultScreen","deceasedSoldData","_s5","view","setView","selectedOwner","setSelectedOwner","detailsModal","setDetailsModal","CattleCard","find","renderContent","ownerCattle","Object","entries","key","includes","_c9","RegisterActivitiesScreen","activities","_s6","observations","activitiesCollectionRef","sortedActivities","sort","a","b","rows","act","_c0","App","_s7","setUser","loading","setLoading","currentPage","setCurrentPage","isMenuOpen","setIsMenuOpen","setOwners","setCattleData","setDeceasedSoldData","setActivities","unsubscribe","currentUser","collections","setters","unsubscribes","col","index","forEach","push","unsub","renderPage","_c1","$RefreshReg$"],"sources":["C:/Users/alezv/Desktop/App/React/src/App.js"],"sourcesContent":["\r\n\r\nimport React, { useState, useEffect, useMemo } from 'react';\r\nimport { Plus, Edit, Search, Menu, X, Save, FileText, Users, Activity, Home, LogOut, UserPlus, LogIn, ChevronLeft, ChevronRight } from 'lucide-react';\r\n\r\n// Importa los servicios de Firebase desde tu archivo de configuración\r\nimport { auth, db } from './firebase'; \r\nimport { \r\n  onAuthStateChanged, \r\n  createUserWithEmailAndPassword, \r\n  signInWithEmailAndPassword, \r\n  signOut \r\n} from \"firebase/auth\";\r\nimport { \r\n  collection, \r\n  addDoc, \r\n  onSnapshot, \r\n  query, \r\n  doc, \r\n  updateDoc,\r\n  writeBatch,\r\n  where,\r\n  getDocs\r\n} from \"firebase/firestore\";\r\n\r\n\r\n// --- Pantalla de Autenticación (Login y Registro) ---\r\nconst AuthScreen = () => {\r\n  const [isLogin, setIsLogin] = useState(true);\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [error, setError] = useState('');\r\n\r\n  const handleAuth = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    try {\r\n      if (isLogin) {\r\n        await signInWithEmailAndPassword(auth, email, password);\r\n      } else {\r\n        await createUserWithEmailAndPassword(auth, email, password);\r\n      }\r\n    } catch (err) {\r\n      setError(\"Error: \" + err.message.replace('Firebase: ', ''));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-stone-100 flex flex-col justify-center items-center p-4\">\r\n      <div className=\"w-full max-w-md bg-white rounded-2xl shadow-xl p-8\">\r\n        <div className=\"flex justify-center mb-6\">\r\n          <img src=\"http://googleusercontent.com/file_content/2\" alt=\"Logo\" className=\"h-20 w-20\" />\r\n        </div>\r\n        <h2 className=\"text-3xl font-bold text-center text-emerald-800 mb-2\">\r\n          {isLogin ? 'Iniciar Sesión' : 'Crear Cuenta'}\r\n        </h2>\r\n        <p className=\"text-center text-stone-500 mb-8\">Bienvenido a Finca Moreno Z</p>\r\n        \r\n        <form onSubmit={handleAuth}>\r\n          <div className=\"mb-4\">\r\n            <label className=\"block text-stone-700 font-medium mb-2\">Correo Electrónico</label>\r\n            <input type=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} className=\"w-full px-4 py-3 border border-stone-300 rounded-lg\" required />\r\n          </div>\r\n          <div className=\"mb-6\">\r\n            <label className=\"block text-stone-700 font-medium mb-2\">Contraseña</label>\r\n            <input type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} className=\"w-full px-4 py-3 border border-stone-300 rounded-lg\" required />\r\n          </div>\r\n          {error && <p className=\"text-red-500 text-sm mb-4\">{error}</p>}\r\n          <button type=\"submit\" className=\"w-full bg-emerald-600 text-white font-bold py-3 rounded-lg hover:bg-emerald-700 transition-colors flex items-center justify-center gap-2\">\r\n            {isLogin ? <LogIn size={18} /> : <UserPlus size={18} />}\r\n            {isLogin ? 'Ingresar' : 'Registrarse'}\r\n          </button>\r\n        </form>\r\n\r\n        <div className=\"mt-6 text-center\">\r\n          <button onClick={() => setIsLogin(!isLogin)} className=\"text-emerald-600 hover:underline\">\r\n            {isLogin ? '¿No tienes una cuenta? Regístrate' : '¿Ya tienes una cuenta? Inicia sesión'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n// --- Componentes de la UI (Reutilizados) ---\r\nconst Modal = ({ children, onClose, title }) => (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4\">\r\n        <div className=\"bg-white rounded-2xl shadow-2xl w-full max-w-md m-4\">\r\n            <div className=\"flex justify-between items-center p-4 border-b border-stone-200\">\r\n                <h3 className=\"text-xl font-bold text-emerald-800\">{title}</h3>\r\n                <button onClick={onClose} className=\"text-stone-400 hover:text-stone-600\"><X size={24} /></button>\r\n            </div>\r\n            <div className=\"p-6\">{children}</div>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nconst Header = ({ title, onMenuClick }) => {\r\n  const handleLogout = () => { signOut(auth); };\r\n  return (\r\n    <header className=\"bg-emerald-800 text-white p-4 shadow-lg flex items-center justify-between sticky top-0 z-40\">\r\n        <div className=\"flex items-center\">\r\n            <button onClick={onMenuClick} className=\"mr-4 p-2 rounded-full hover:bg-emerald-700\"><Menu size={24} /></button>\r\n            <img src=\"http://googleusercontent.com/file_content/2\" alt=\"Logo\" className=\"h-10 w-10 rounded-full bg-white p-1 object-contain\" />\r\n            <h1 className=\"text-2xl font-bold ml-4 tracking-wider\">{title}</h1>\r\n        </div>\r\n        <button onClick={handleLogout} className=\"flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-emerald-700 font-semibold\">\r\n          <LogOut size={18} /> Salir\r\n        </button>\r\n    </header>\r\n  );\r\n};\r\n\r\nconst SideMenu = ({ isOpen, onClose, navigate }) => {\r\n    const menuItems = [\r\n        { name: 'Inicio', page: 'home', icon: <Home size={20} /> },\r\n        { name: 'Registrar Res', page: 'registerCattle', icon: <Plus size={20} /> },\r\n        { name: 'Actualizar Res', page: 'updateCattle', icon: <Edit size={20} /> },\r\n        { name: 'Consultar', page: 'consult', icon: <FileText size={20} /> },\r\n        { name: 'Actividades', page: 'activities', icon: <Activity size={20} /> },\r\n        { name: 'Propietarios', page: 'registerOwner', icon: <Users size={20} /> },\r\n    ];\r\n\r\n    return (\r\n        <>\r\n            <div className={`fixed inset-0 bg-black bg-opacity-50 z-40 transition-opacity ${isOpen ? 'opacity-100' : 'opacity-0 pointer-events-none'}`} onClick={onClose}></div>\r\n            <div className={`fixed top-0 left-0 h-full bg-white w-72 shadow-xl z-50 transform transition-transform ${isOpen ? 'translate-x-0' : '-translate-x-full'}`}>\r\n                <div className=\"p-4 border-b flex justify-between items-center\">\r\n                    <h2 className=\"text-xl font-bold text-emerald-800\">Menú</h2>\r\n                    <button onClick={onClose} className=\"text-stone-500 hover:text-stone-800\"><X size={24} /></button>\r\n                </div>\r\n                <nav className=\"p-4\">\r\n                    <ul>\r\n                        {menuItems.map(item => (\r\n                            <li key={item.page}>\r\n                                <button onClick={() => { navigate(item.page); onClose(); }} className=\"w-full text-left flex items-center gap-3 px-4 py-3 rounded-lg text-stone-700 hover:bg-emerald-50 hover:text-emerald-800 font-medium transition-all\">\r\n                                    {item.icon}\r\n                                    {item.name}\r\n                                </button>\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                </nav>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\n// --- Lógica de Negocio ---\r\nconst calculateAgeInMonths = (birthDate) => {\r\n    if (!birthDate) return 0;\r\n    const today = new Date();\r\n    const birth = new Date(birthDate);\r\n    let months = (today.getFullYear() - birth.getFullYear()) * 12;\r\n    months -= birth.getMonth();\r\n    months += today.getMonth();\r\n    return months <= 0 ? 0 : months;\r\n};\r\n\r\nconst determineCattleType = (cattle) => {\r\n    if (!cattle || !cattle.birthDate || !cattle.gender) return 'N/A';\r\n    const ageInMonths = calculateAgeInMonths(cattle.birthDate);\r\n    if (ageInMonths <= 12) return 'Ternero/a';\r\n    if (cattle.gender === 'Hembra') {\r\n        if (cattle.offspring && cattle.offspring.length > 0) {\r\n            const lastParto = new Date(Math.max(...cattle.offspring.map(o => new Date(o.birthDate))));\r\n            const monthsSinceParto = calculateAgeInMonths(lastParto);\r\n            return monthsSinceParto <= 12 ? 'Vaca Parida' : 'Vaca Horra';\r\n        }\r\n        return ageInMonths <= 24 ? 'Novilla' : 'Vaca';\r\n    }\r\n    if (cattle.gender === 'Macho') {\r\n        if (ageInMonths <= 24) return 'Levante';\r\n        if (cattle.isCastrated === true) return 'Macho de Engorde';\r\n        if (cattle.isCastrated === false) return 'Toro';\r\n        return 'Macho Adulto';\r\n    }\r\n    return 'Desconocido';\r\n};\r\n\r\n\r\n// --- Pantallas de la Aplicación ---\r\nconst HomeScreen = ({ navigate }) => {\r\n    const buttons = [\r\n        { label: 'Registro de Res', page: 'registerCattle', icon: <Plus className=\"w-12 h-12\" /> },\r\n        { label: 'Actualización de Res', page: 'updateCattle', icon: <Edit className=\"w-12 h-12\" /> },\r\n        { label: 'Consultar', page: 'consult', icon: <FileText className=\"w-12 h-12\" /> },\r\n        { label: 'Registro de Actividades', page: 'activities', icon: <Activity className=\"w-12 h-12\" /> },\r\n        { label: 'Registrar Propietarios', page: 'registerOwner', icon: <Users className=\"w-12 h-12\" /> },\r\n    ];\r\n    return (\r\n        <div className=\"grid grid-cols-2 gap-6 p-6\">\r\n            {buttons.map((btn) => (\r\n                <button key={btn.page} onClick={() => navigate(btn.page)} className=\"bg-white rounded-2xl shadow-lg p-6 flex flex-col items-center justify-center text-center text-emerald-800 hover:bg-emerald-50 hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 aspect-square border-b-4 border-amber-400\">\r\n                    {btn.icon}\r\n                    <span className=\"mt-4 font-semibold text-lg\">{btn.label}</span>\r\n                </button>\r\n            ))}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst RegisterOwnerScreen = ({ onCancel, owners, user }) => {\r\n    const [name, setName] = useState('');\r\n    const handleSave = async () => {\r\n        if (name.trim() && user) {\r\n            try {\r\n                const ownersCollectionRef = collection(db, 'users', user.uid, 'owners');\r\n                await addDoc(ownersCollectionRef, { name: name.trim() });\r\n                alert('Propietario guardado con éxito!');\r\n                onCancel();\r\n            } catch (error) { console.error(\"Error: \", error); alert(\"Hubo un error al guardar.\"); }\r\n        }\r\n    };\r\n    return (\r\n        <div className=\"p-6\">\r\n            <div className=\"bg-white p-8 rounded-2xl shadow-lg\">\r\n                <h2 className=\"text-2xl font-bold text-emerald-800 mb-6\">Registrar Nuevo Propietario</h2>\r\n                <div className=\"mb-6\"><label className=\"block text-stone-700 font-medium mb-2\">Nombre y Apellidos</label><input type=\"text\" value={name} onChange={(e) => setName(e.target.value)} className=\"w-full px-4 py-3 border border-stone-300 rounded-lg\" /></div>\r\n                <div className=\"flex justify-end gap-4\"><button onClick={onCancel} className=\"px-6 py-3 rounded-lg bg-stone-200 text-stone-700 font-semibold\">Cancelar</button><button onClick={handleSave} className=\"px-6 py-3 rounded-lg bg-emerald-600 text-white font-semibold flex items-center gap-2\"><Save size={18}/> Guardar</button></div>\r\n            </div>\r\n            <div className=\"mt-8 bg-white p-8 rounded-2xl shadow-lg\">\r\n                <h3 className=\"text-xl font-bold text-emerald-800 mb-4\">Propietarios Registrados</h3>\r\n                {owners.length > 0 ? (<ul className=\"divide-y divide-stone-200\">{owners.map(owner => <li key={owner.docId} className=\"py-3 text-stone-600\">{owner.name}</li>)}</ul>) : (<p className=\"text-stone-500\">No hay propietarios registrados.</p>)}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst RegisterCattleScreen = ({ onCancel, owners, cattleData, user }) => {\r\n    const [form, setForm] = useState({ id: '', birthDate: '', gender: 'Hembra', weight: '', parentsId: '', lastVaccines: '', ownerId: owners.length > 0 ? owners[0].docId : '' });\r\n    const [useAutoId, setUseAutoId] = useState(true);\r\n    const cattleType = useMemo(() => determineCattleType(form), [form.birthDate, form.gender]);\r\n    const handleChange = (e) => { const { name, value } = e.target; setForm(prev => ({ ...prev, [name]: value })); };\r\n    const generateAutoId = () => {\r\n        const allIds = cattleData.map(c => c.customId.replace(/^[VM]-/, '')).filter(id => id.startsWith('FMZ-'));\r\n        const lastIdNum = allIds.length > 0 ? Math.max(...allIds.map(id => parseInt(id.split('-')[1]))) : 0;\r\n        return `FMZ-${String(lastIdNum + 1).padStart(3, '0')}`;\r\n    };\r\n    const handleSave = async () => {\r\n        const finalId = useAutoId ? generateAutoId() : form.id.trim();\r\n        if (!finalId || !form.birthDate || !form.weight || !form.ownerId) { alert(\"Por favor, completa todos los campos obligatorios.\"); return; }\r\n        if (!useAutoId && cattleData.some(c => c.customId.toUpperCase() === finalId.toUpperCase())) { alert(\"El código de identificación manual ya existe.\"); return; }\r\n        if (user) {\r\n            try {\r\n                const cattleCollectionRef = collection(db, 'users', user.uid, 'cattle');\r\n                await addDoc(cattleCollectionRef, { ...form, customId: finalId, status: 'Viva', offspring: [], weight: parseFloat(form.weight), createdAt: new Date() });\r\n                alert('Res guardada con éxito!');\r\n                onCancel();\r\n            } catch (error) { console.error(\"Error: \", error); alert(\"Hubo un error al guardar.\"); }\r\n        }\r\n    };\r\n    return (\r\n        <div className=\"p-6\"><div className=\"bg-white p-8 rounded-2xl shadow-lg\"><h2 className=\"text-2xl font-bold text-emerald-800 mb-6\">Registrar Nueva Res</h2><div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\"><div><label className=\"block text-stone-700 font-medium mb-2\">Código de Identificación</label><div className=\"flex items-center gap-2\"><input type=\"text\" name=\"id\" value={useAutoId ? generateAutoId() : form.id} onChange={handleChange} disabled={useAutoId} className=\"w-full px-4 py-3 border border-stone-300 rounded-lg disabled:bg-stone-100\" /><button onClick={() => setUseAutoId(!useAutoId)} className={`px-4 py-3 rounded-lg font-semibold transition-colors ${useAutoId ? 'bg-emerald-600 text-white' : 'bg-stone-200'}`}>Auto</button></div></div><div><label className=\"block text-stone-700 font-medium mb-2\">Fecha de Nacimiento</label><input type=\"date\" name=\"birthDate\" value={form.birthDate} onChange={handleChange} className=\"w-full px-4 py-3 border border-stone-300 rounded-lg\" /></div><div><label className=\"block text-stone-700 font-medium mb-2\">Género</label><select name=\"gender\" value={form.gender} onChange={handleChange} className=\"w-full px-4 py-3 border border-stone-300 rounded-lg bg-white\"><option value=\"Hembra\">Hembra</option><option value=\"Macho\">Macho</option></select></div><div><label className=\"block text-stone-700 font-medium mb-2\">Peso (Kg)</label><input type=\"number\" name=\"weight\" value={form.weight} onChange={handleChange} className=\"w-full px-4 py-3 border border-stone-300 rounded-lg\" /></div><div><label className=\"block text-stone-700 font-medium mb-2\">Código de los Padres</label><input type=\"text\" name=\"parentsId\" value={form.parentsId} onChange={handleChange} className=\"w-full px-4 py-3 border border-stone-300 rounded-lg\" /></div><div><label className=\"block text-stone-700 font-medium mb-2\">Tipo de Cabeza de Ganado</label><input type=\"text\" value={cattleType} disabled className=\"w-full px-4 py-3 border border-stone-300 rounded-lg bg-stone-100\" /></div><div className=\"md:col-span-2\"><label className=\"block text-stone-700 font-medium mb-2\">Últimas Vacunas</label><input type=\"text\" name=\"lastVaccines\" value={form.lastVaccines} onChange={handleChange} className=\"w-full px-4 py-3 border border-stone-300 rounded-lg\" /></div><div className=\"md:col-span-2\"><label className=\"block text-stone-700 font-medium mb-2\">Propietario</label><select name=\"ownerId\" value={form.ownerId} onChange={handleChange} className=\"w-full px-4 py-3 border border-stone-300 rounded-lg bg-white\" disabled={owners.length === 0}>{owners.length > 0 ? owners.map(o => <option key={o.docId} value={o.docId}>{o.name}</option>) : <option>Registre un propietario primero</option>}</select></div></div><div className=\"flex justify-end gap-4 mt-8\"><button onClick={onCancel} className=\"px-6 py-3 rounded-lg bg-stone-200 text-stone-700 font-semibold\">Cancelar</button><button onClick={handleSave} className=\"px-6 py-3 rounded-lg bg-emerald-600 text-white font-semibold flex items-center gap-2\"><Save size={18}/> Guardar</button></div></div></div>\r\n    );\r\n};\r\n\r\nconst UpdateCattleScreen = ({ onCancel, owners, user }) => {\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [selectedCattle, setSelectedCattle] = useState(null);\r\n    const [form, setForm] = useState(null);\r\n    const handleSearch = async () => {\r\n        const q = query(collection(db, 'users', user.uid, 'cattle'), where(\"customId\", \"==\", searchTerm.trim().toUpperCase()));\r\n        const querySnapshot = await getDocs(q);\r\n        if (!querySnapshot.empty) {\r\n            const doc = querySnapshot.docs[0];\r\n            const foundCattle = { ...doc.data(), docId: doc.id };\r\n            setSelectedCattle(foundCattle);\r\n            setForm(foundCattle);\r\n        } else { alert(\"Código inexistente, valide que este correcto\"); setSelectedCattle(null); setForm(null); }\r\n    };\r\n    const handleUpdate = async () => {\r\n        const cattleDocRef = doc(db, 'users', user.uid, 'cattle', selectedCattle.docId);\r\n        await updateDoc(cattleDocRef, form);\r\n        alert(\"Información actualizada con éxito\");\r\n        onCancel();\r\n    };\r\n    const handleStatusChange = async (newStatus, date) => {\r\n        const batch = writeBatch(db);\r\n        const oldDocRef = doc(db, 'users', user.uid, 'cattle', selectedCattle.docId);\r\n        const newDocRef = doc(collection(db, 'users', user.uid, 'deceasedSoldCattle'));\r\n        const newCustomId = `${newStatus === 'Vendida' ? 'V' : 'M'}-${selectedCattle.customId}`;\r\n        const updatedData = { ...selectedCattle, ...form, status: newStatus, statusChangeDate: date, customId: newCustomId, originalDocId: selectedCattle.docId };\r\n        delete updatedData.docId;\r\n        batch.set(newDocRef, updatedData);\r\n        batch.delete(oldDocRef);\r\n        await batch.commit();\r\n        alert(`El estado de la res ha sido actualizado a ${newStatus}.`);\r\n        onCancel();\r\n    };\r\n    return (\r\n        <div className=\"p-6\">\r\n            <div className=\"bg-white p-8 rounded-2xl shadow-lg mb-6\">\r\n                <h2 className=\"text-2xl font-bold text-emerald-800 mb-6\">Actualizar Res</h2>\r\n                <div className=\"flex gap-2\">\r\n                    <input type=\"text\" value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} placeholder=\"Buscar por código...\" className=\"w-full px-4 py-3 border rounded-lg\" />\r\n                    <button onClick={handleSearch} className=\"px-6 py-3 rounded-lg bg-emerald-600 text-white font-semibold\"><Search size={18}/></button>\r\n                </div>\r\n            </div>\r\n            {selectedCattle && form && (\r\n                <div className=\"bg-white p-8 rounded-2xl shadow-lg\">\r\n                    <p>Editando: {form.customId}</p>\r\n                    {/* Aquí iría el formulario completo para editar los campos */}\r\n                    <div className=\"flex justify-end gap-4 mt-8\">\r\n                        <button onClick={onCancel} className=\"px-6 py-3 rounded-lg bg-stone-200\">Cancelar</button>\r\n                        <button onClick={handleUpdate} className=\"px-6 py-3 rounded-lg bg-emerald-600 text-white\">Actualizar</button>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst ConsultScreen = ({ cattleData, owners, deceasedSoldData }) => {\r\n    const [view, setView] = useState('menu');\r\n    const [selectedOwner, setSelectedOwner] = useState(null);\r\n    const [detailsModal, setDetailsModal] = useState({ isOpen: false, cattle: null });\r\n    const CattleCard = ({ cattle, onClick }) => {\r\n        const owner = owners.find(o => o.docId === cattle.ownerId);\r\n        return (\r\n            <div onClick={() => onClick(cattle)} className=\"bg-white p-4 rounded-xl shadow-md hover:shadow-lg transition-shadow cursor-pointer border-l-4 border-amber-400\">\r\n                <div className=\"flex justify-between items-start\">\r\n                    <div><p className=\"font-bold text-lg text-stone-800\">{cattle.customId}</p><p className=\"text-stone-600\">{determineCattleType(cattle)}</p></div>\r\n                    <div className={`px-3 py-1 rounded-full text-sm font-semibold ${cattle.status === 'Viva' ? 'bg-emerald-100 text-emerald-800' : 'bg-red-100 text-red-800'}`}>{cattle.status}</div>\r\n                </div>\r\n                <div className=\"mt-3 pt-3 border-t\"><p className=\"text-sm text-stone-500\">Propietario: <span className=\"font-medium text-stone-700\">{owner ? owner.name : 'N/A'}</span></p></div>\r\n            </div>\r\n        );\r\n    };\r\n    const renderContent = () => {\r\n        switch (view) {\r\n            case 'byOwner':\r\n                if (!selectedOwner) {\r\n                    return (<div><button onClick={() => setView('menu')} className=\"mb-4 text-emerald-600 font-semibold\">&larr; Volver</button><h3 className=\"text-xl font-bold mb-4\">Selecciona un Propietario</h3><div className=\"space-y-2\">{owners.map(o => <button key={o.docId} onClick={() => setSelectedOwner(o)} className=\"w-full text-left p-4 bg-stone-100 rounded-lg hover:bg-emerald-50\">{o.name}</button>)}</div></div>);\r\n                }\r\n                const ownerCattle = cattleData.filter(c => c.ownerId === selectedOwner.docId);\r\n                return (<div><button onClick={() => setSelectedOwner(null)} className=\"mb-4 text-emerald-600 font-semibold\">&larr; Volver</button><h3 className=\"text-xl font-bold mb-4\">Reses de {selectedOwner.name}</h3><div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">{ownerCattle.length > 0 ? ownerCattle.map(c => <CattleCard key={c.docId} cattle={c} onClick={(cattle) => setDetailsModal({ isOpen: true, cattle })} />) : <p>Este propietario no tiene reses.</p>}</div></div>);\r\n            case 'all':\r\n                return (<div><button onClick={() => setView('menu')} className=\"mb-4 text-emerald-600 font-semibold\">&larr; Volver</button><h3 className=\"text-xl font-bold mb-4\">Listado de Reses Vivas</h3><div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">{cattleData.map(c => <CattleCard key={c.docId} cattle={c} onClick={(cattle) => setDetailsModal({ isOpen: true, cattle })} />)}</div></div>);\r\n            case 'deceasedSold':\r\n                return (<div><button onClick={() => setView('menu')} className=\"mb-4 text-emerald-600 font-semibold\">&larr; Volver</button><h3 className=\"text-xl font-bold mb-4\">Listado de Reses Vendidas o Muertas</h3><div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">{deceasedSoldData.map(c => <CattleCard key={c.docId} cattle={c} onClick={(cattle) => setDetailsModal({ isOpen: true, cattle })} />)}</div></div>);\r\n            default:\r\n                return (<div className=\"space-y-4\"><button onClick={() => setView('byOwner')} className=\"w-full p-6 bg-white rounded-lg shadow-md text-left text-lg font-semibold hover:bg-emerald-50\">Consultar por Propietarios</button><button onClick={() => setView('all')} className=\"w-full p-6 bg-white rounded-lg shadow-md text-left text-lg font-semibold hover:bg-emerald-50\">Listado de Reses Vivas</button><button onClick={() => setView('deceasedSold')} className=\"w-full p-6 bg-white rounded-lg shadow-md text-left text-lg font-semibold hover:bg-emerald-50\">Listado de Reses Muertas o Vendidas</button></div>);\r\n        }\r\n    };\r\n    return (\r\n        <div className=\"p-6\">\r\n            <div className=\"bg-white p-8 rounded-2xl shadow-lg\"><h2 className=\"text-2xl font-bold text-emerald-800 mb-6\">Consultar Registros</h2>{renderContent()}</div>\r\n            {detailsModal.isOpen && detailsModal.cattle && (<Modal onClose={() => setDetailsModal({ isOpen: false })} title={`Detalles de ${detailsModal.cattle.customId}`}><div className=\"space-y-3\">{Object.entries(detailsModal.cattle).map(([key, value]) => {if (['docId', 'createdAt', 'originalDocId'].includes(key)) return null; return (<div key={key} className=\"flex justify-between\"><span className=\"font-medium text-stone-600 capitalize\">{key.replace(/([A-Z])/g, ' $1')}:</span><span className=\"text-stone-800\">{String(value)}</span></div>);})}<div className=\"flex justify-between\"><span className=\"font-medium text-stone-600\">Tipo de Ganado:</span><span className=\"text-stone-800\">{determineCattleType(detailsModal.cattle)}</span></div></div><div className=\"flex justify-end mt-6\"><button onClick={() => setDetailsModal({isOpen: false})} className=\"px-6 py-2 rounded-lg bg-emerald-600 text-white\">Cerrar</button></div></Modal>)}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst RegisterActivitiesScreen = ({ onCancel, activities, user }) => {\r\n    const [view, setView] = useState('menu');\r\n    const [form, setForm] = useState({ date: '', status: 'En curso', observations: '' });\r\n    const handleSave = async () => {\r\n        if (form.date && form.observations && user) {\r\n            try {\r\n                const activitiesCollectionRef = collection(db, 'users', user.uid, 'activities');\r\n                await addDoc(activitiesCollectionRef, { ...form, createdAt: new Date() });\r\n                alert('Actividad guardada con éxito!');\r\n                setForm({ date: '', status: 'En curso', observations: '' });\r\n                setView('consult');\r\n            } catch (error) { console.error(\"Error: \", error); alert(\"Hubo un error al guardar.\"); }\r\n        }\r\n    };\r\n    const sortedActivities = useMemo(() => [...activities].sort((a, b) => new Date(b.date) - new Date(a.date)), [activities]);\r\n    return (\r\n        <div className=\"p-6\"><div className=\"bg-white p-8 rounded-2xl shadow-lg\">\r\n            <h2 className=\"text-2xl font-bold text-emerald-800 mb-6\">Gestión de Actividades</h2>\r\n            {view === 'menu' ? (<div className=\"flex flex-col md:flex-row gap-4\"><button onClick={() => setView('add')} className=\"w-full p-6 bg-white rounded-lg shadow-md text-center text-lg font-semibold hover:bg-emerald-50\">Agregar Actividad</button><button onClick={() => setView('consult')} className=\"w-full p-6 bg-white rounded-lg shadow-md text-center text-lg font-semibold hover:bg-emerald-50\">Consultar Registro</button></div>)\r\n            : view === 'add' ? (<div><button onClick={() => setView('menu')} className=\"mb-4 text-emerald-600 font-semibold\">&larr; Volver</button><h3 className=\"text-xl font-bold mb-4\">Agregar Nueva Actividad</h3><div className=\"space-y-4\"><div><label>Fecha</label><input type=\"date\" value={form.date} onChange={e => setForm({...form, date: e.target.value})} className=\"w-full px-4 py-2 border rounded-lg\" /></div><div><label>Estado</label><select value={form.status} onChange={e => setForm({...form, status: e.target.value})} className=\"w-full px-4 py-2 border rounded-lg bg-white\"><option>En curso</option><option>Completada</option></select></div><div><label>Observaciones</label><textarea value={form.observations} onChange={e => setForm({...form, observations: e.target.value})} rows=\"4\" className=\"w-full px-4 py-2 border rounded-lg\"></textarea></div><div className=\"flex justify-end\"><button onClick={handleSave} className=\"px-6 py-3 rounded-lg bg-emerald-600 text-white font-semibold\">Guardar</button></div></div></div>)\r\n            : (<div><button onClick={() => setView('menu')} className=\"mb-4 text-emerald-600 font-semibold\">&larr; Volver</button><h3 className=\"text-xl font-bold mb-4\">Registro de Actividades</h3><div className=\"space-y-3\">{sortedActivities.map(act => (<div key={act.docId} className=\"p-4 bg-stone-50 rounded-lg border\"><div className=\"flex justify-between items-center\"><p className=\"font-semibold\">{act.date}</p><span className={`px-2 py-1 text-xs font-bold rounded-full ${act.status === 'Completada' ? 'bg-emerald-200 text-emerald-800' : 'bg-amber-200 text-amber-800'}`}>{act.status}</span></div><p className=\"mt-2 text-stone-600\">{act.observations}</p></div>))}</div></div>)\r\n            }\r\n        </div></div>\r\n    );\r\n};\r\n\r\n\r\n// --- Componente Principal de la App ---\r\nexport default function App() {\r\n    const [user, setUser] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [currentPage, setCurrentPage] = useState('home');\r\n    const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n    const [owners, setOwners] = useState([]);\r\n    const [cattleData, setCattleData] = useState([]);\r\n    const [deceasedSoldData, setDeceasedSoldData] = useState([]);\r\n    const [activities, setActivities] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = onAuthStateChanged(auth, (currentUser) => {\r\n            setUser(currentUser); setLoading(false);\r\n            if(currentUser) { setCurrentPage('home'); }\r\n        });\r\n        return () => unsubscribe();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (user) {\r\n            const collections = ['owners', 'cattle', 'deceasedSoldCattle', 'activities'];\r\n            const setters = [setOwners, setCattleData, setDeceasedSoldData, setActivities];\r\n            const unsubscribes = collections.map((col, index) => {\r\n                const q = query(collection(db, 'users', user.uid, col));\r\n                return onSnapshot(q, (querySnapshot) => {\r\n                    const data = [];\r\n                    querySnapshot.forEach((doc) => { data.push({ ...doc.data(), docId: doc.id }); });\r\n                    setters[index](data);\r\n                });\r\n            });\r\n            return () => unsubscribes.forEach(unsub => unsub());\r\n        } else {\r\n            setOwners([]); setCattleData([]); setDeceasedSoldData([]); setActivities([]);\r\n        }\r\n    }, [user]);\r\n\r\n    if (loading) { return <div className=\"flex justify-center items-center h-screen\">Cargando...</div>; }\r\n    if (!user) { return <AuthScreen />; }\r\n\r\n    const renderPage = () => {\r\n        switch (currentPage) {\r\n            case 'registerOwner': return <RegisterOwnerScreen onCancel={() => setCurrentPage('home')} owners={owners} user={user} />;\r\n            case 'registerCattle': return <RegisterCattleScreen onCancel={() => setCurrentPage('home')} owners={owners} cattleData={cattleData} user={user} />;\r\n            case 'updateCattle': return <UpdateCattleScreen onCancel={() => setCurrentPage('home')} owners={owners} user={user} />;\r\n            case 'consult': return <ConsultScreen cattleData={cattleData} owners={owners} deceasedSoldData={deceasedSoldData} />;\r\n            case 'activities': return <RegisterActivitiesScreen onCancel={() => setCurrentPage('home')} activities={activities} user={user} />;\r\n            case 'home': default: return <HomeScreen navigate={setCurrentPage} />;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"bg-stone-100 min-h-screen font-sans\">\r\n            <SideMenu isOpen={isMenuOpen} onClose={() => setIsMenuOpen(false)} navigate={setCurrentPage} />\r\n            <Header title=\"Finca Moreno Z\" onMenuClick={() => setIsMenuOpen(true)} />\r\n            <main>{renderPage()}</main>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}