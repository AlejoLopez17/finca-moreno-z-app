{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alezv\\\\Desktop\\\\App\\\\React\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { Plus, Edit, Search, Menu, X, Save, FileText, Users, Activity, Home, LogOut, UserPlus, LogIn } from 'lucide-react';\n\n// Importa los servicios de Firebase desde tu archivo de configuración\nimport { auth, db } from './firebase';\nimport { onAuthStateChanged, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from \"firebase/auth\";\nimport { collection, addDoc, onSnapshot, query, doc, updateDoc, deleteDoc } from \"firebase/firestore\";\n\n// --- Pantalla de Autenticación (Login y Registro) ---\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthScreen = () => {\n  _s();\n  const [isLogin, setIsLogin] = useState(true);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const handleAuth = async e => {\n    e.preventDefault();\n    setError('');\n    try {\n      if (isLogin) {\n        await signInWithEmailAndPassword(auth, email, password);\n      } else {\n        await createUserWithEmailAndPassword(auth, email, password);\n      }\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-stone-100 flex flex-col justify-center items-center p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full max-w-md bg-white rounded-2xl shadow-xl p-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center mb-6\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"http://googleusercontent.com/file_content/2\",\n          alt: \"Logo\",\n          className: \"h-20 w-20\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-3xl font-bold text-center text-emerald-800 mb-2\",\n        children: isLogin ? 'Iniciar Sesión' : 'Crear Cuenta'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-center text-stone-500 mb-8\",\n        children: \"Bienvenido a Finca Moreno Z\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleAuth,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-stone-700 font-medium mb-2\",\n            children: \"Correo Electr\\xF3nico\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            value: email,\n            onChange: e => setEmail(e.target.value),\n            className: \"w-full px-4 py-3 border border-stone-300 rounded-lg\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-stone-700 font-medium mb-2\",\n            children: \"Contrase\\xF1a\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            value: password,\n            onChange: e => setPassword(e.target.value),\n            className: \"w-full px-4 py-3 border border-stone-300 rounded-lg\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-500 text-sm mb-4\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"w-full bg-emerald-600 text-white font-bold py-3 rounded-lg hover:bg-emerald-700 transition-colors flex items-center justify-center gap-2\",\n          children: [isLogin ? /*#__PURE__*/_jsxDEV(LogIn, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 24\n          }, this) : /*#__PURE__*/_jsxDEV(UserPlus, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 46\n          }, this), isLogin ? 'Ingresar' : 'Registrarse']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6 text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setIsLogin(!isLogin),\n          className: \"text-emerald-600 hover:underline\",\n          children: isLogin ? '¿No tienes una cuenta? Regístrate' : '¿Ya tienes una cuenta? Inicia sesión'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n\n// --- Componentes de la UI (Reutilizados y adaptados) ---\n_s(AuthScreen, \"DLymbcnx0Zs0Cek/m6zME3DDhKs=\");\n_c = AuthScreen;\nconst Modal = ({\n  children,\n  onClose,\n  title\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4\",\n  children: /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-2xl shadow-2xl w-full max-w-md m-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center p-4 border-b border-stone-200\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-bold text-emerald-800\",\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClose,\n        className: \"text-stone-400 hover:text-stone-600\",\n        children: /*#__PURE__*/_jsxDEV(X, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 91\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-6\",\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 9\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 96,\n  columnNumber: 5\n}, this);\n_c2 = Modal;\nconst Header = ({\n  title,\n  onMenuClick\n}) => {\n  const handleLogout = () => {\n    signOut(auth);\n  };\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    className: \"bg-emerald-800 text-white p-4 shadow-lg flex items-center justify-between sticky top-0 z-40\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onMenuClick,\n        className: \"mr-4 p-2 rounded-full hover:bg-emerald-700\",\n        children: /*#__PURE__*/_jsxDEV(Menu, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 98\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"http://googleusercontent.com/file_content/2\",\n        alt: \"Logo\",\n        className: \"h-10 w-10 rounded-full bg-white p-1 object-contain\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold ml-4 tracking-wider\",\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleLogout,\n      className: \"flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-emerald-700 font-semibold\",\n      children: [/*#__PURE__*/_jsxDEV(LogOut, {\n        size: 18\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }, this), \"Salir\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n};\n\n// --- Pantallas de la Aplicación (Adaptadas para Firebase) ---\n\n// NOTA: La lógica de las pantallas (RegisterOwner, RegisterCattle, etc.)\n// necesitaría ser reescrita para usar las funciones de Firestore (`addDoc`, `onSnapshot`, etc.)\n// en lugar de manejar el estado localmente.\n// Por simplicidad, aquí se muestra la estructura principal y la pantalla de Propietarios adaptada.\n_c3 = Header;\nconst RegisterOwnerScreen = ({\n  onCancel,\n  owners,\n  user\n}) => {\n  _s2();\n  const [name, setName] = useState('');\n  const handleSave = async () => {\n    if (name.trim() && user) {\n      try {\n        // Crea una referencia a la subcolección 'owners' del usuario actual\n        const ownersCollectionRef = collection(db, 'users', user.uid, 'owners');\n        await addDoc(ownersCollectionRef, {\n          name: name.trim()\n        });\n        alert('Propietario guardado con éxito!');\n        onCancel(); // Vuelve a la pantalla principal\n      } catch (error) {\n        console.error(\"Error al guardar propietario: \", error);\n        alert(\"Hubo un error al guardar. Inténtalo de nuevo.\");\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-8 rounded-2xl shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-emerald-800 mb-6\",\n        children: \"Registrar Nuevo Propietario\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-stone-700 font-medium mb-2\",\n          children: \"Nombre y Apellidos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: name,\n          onChange: e => setName(e.target.value),\n          className: \"w-full px-4 py-3 border border-stone-300 rounded-lg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onCancel,\n          className: \"px-6 py-3 rounded-lg bg-stone-200 text-stone-700 font-semibold\",\n          children: \"Cancelar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSave,\n          className: \"px-6 py-3 rounded-lg bg-emerald-600 text-white font-semibold flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Save, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 147\n          }, this), \" Guardar\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-8 bg-white p-8 rounded-2xl shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-bold text-emerald-800 mb-4\",\n        children: \"Propietarios Registrados\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }, this), owners.length > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"divide-y divide-stone-200\",\n        children: owners.map(owner => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"py-3 text-stone-600\",\n          children: owner.name\n        }, owner.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 46\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-stone-500\",\n        children: \"No hay propietarios registrados.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 153,\n    columnNumber: 9\n  }, this);\n};\n_s2(RegisterOwnerScreen, \"/PAWDgWx7+Y6BmsFMUKcdrcX5eM=\");\n_c4 = RegisterOwnerScreen;\nconst HomeScreen = ({\n  navigate\n}) => {\n  const buttons = [{\n    label: 'Registro de Res',\n    page: 'registerCattle',\n    icon: /*#__PURE__*/_jsxDEV(Plus, {\n      className: \"w-12 h-12\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 67\n    }, this)\n  }, {\n    label: 'Actualización de Res',\n    page: 'updateCattle',\n    icon: /*#__PURE__*/_jsxDEV(Edit, {\n      className: \"w-12 h-12\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 70\n    }, this)\n  }, {\n    label: 'Consultar',\n    page: 'consult',\n    icon: /*#__PURE__*/_jsxDEV(FileText, {\n      className: \"w-12 h-12\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 54\n    }, this)\n  }, {\n    label: 'Registro de Actividades',\n    page: 'activities',\n    icon: /*#__PURE__*/_jsxDEV(Activity, {\n      className: \"w-12 h-12\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 71\n    }, this)\n  }, {\n    label: 'Registrar Propietarios',\n    page: 'registerOwner',\n    icon: /*#__PURE__*/_jsxDEV(Users, {\n      className: \"w-12 h-12\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 73\n    }, this)\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"grid grid-cols-2 gap-6 p-6\",\n    children: buttons.map(btn => /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => navigate(btn.page),\n      className: \"bg-white rounded-2xl shadow-lg p-6 flex flex-col items-center justify-center text-center text-emerald-800 hover:bg-emerald-50 hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 aspect-square border-b-4 border-amber-400\",\n      children: [btn.icon, /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"mt-4 font-semibold text-lg\",\n        children: btn.label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 21\n      }, this)]\n    }, btn.page, true, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 17\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 188,\n    columnNumber: 9\n  }, this);\n};\n\n// --- Componente Principal de la App ---\n_c5 = HomeScreen;\nexport default function App() {\n  _s3();\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [currentPage, setCurrentPage] = useState('home');\n\n  // Estados para los datos de Firestore\n  const [owners, setOwners] = useState([]);\n  // const [cattleData, setCattleData] = useState([]); // etc.\n\n  useEffect(() => {\n    // Escucha los cambios en el estado de autenticación\n    const unsubscribe = onAuthStateChanged(auth, currentUser => {\n      setUser(currentUser);\n      setLoading(false);\n      if (currentUser) {\n        setCurrentPage('home'); // Si el usuario inicia sesión, llévalo al home\n      }\n    });\n    return () => unsubscribe(); // Limpia el listener al desmontar\n  }, []);\n  useEffect(() => {\n    if (user) {\n      // Si hay un usuario, nos suscribimos a sus datos de propietarios\n      const q = query(collection(db, 'users', user.uid, 'owners'));\n      const unsubscribe = onSnapshot(q, querySnapshot => {\n        const ownersData = [];\n        querySnapshot.forEach(doc => {\n          ownersData.push({\n            ...doc.data(),\n            id: doc.id\n          });\n        });\n        setOwners(ownersData);\n      });\n      return () => unsubscribe(); // Limpia el listener al cambiar de usuario o desmontar\n    } else {\n      // Si no hay usuario, la lista de propietarios está vacía\n      setOwners([]);\n    }\n  }, [user]); // Este efecto se ejecuta cada vez que el usuario cambia\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Cargando...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 16\n    }, this); // Muestra un loader mientras se verifica el usuario\n  }\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(AuthScreen, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 16\n    }, this); // Si no hay usuario, muestra la pantalla de login/registro\n  }\n\n  // Si hay un usuario, muestra la aplicación principal\n  const renderPage = () => {\n    switch (currentPage) {\n      case 'registerOwner':\n        return /*#__PURE__*/_jsxDEV(RegisterOwnerScreen, {\n          onCancel: () => setCurrentPage('home'),\n          owners: owners,\n          user: user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 24\n        }, this);\n      // Aquí irían los otros casos para las demás pantallas\n      // case 'registerCattle':\n      //     return <RegisterCattleScreen ... />;\n      case 'home':\n      default:\n        return /*#__PURE__*/_jsxDEV(HomeScreen, {\n          navigate: setCurrentPage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 24\n        }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-stone-100 min-h-screen font-sans\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      title: \"Finca Moreno Z\",\n      onMenuClick: () => {}\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      children: renderPage()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 263,\n    columnNumber: 9\n  }, this);\n}\n_s3(App, \"+cbE/ssNWioJjKK0e3TlnuoX9gA=\");\n_c6 = App;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"AuthScreen\");\n$RefreshReg$(_c2, \"Modal\");\n$RefreshReg$(_c3, \"Header\");\n$RefreshReg$(_c4, \"RegisterOwnerScreen\");\n$RefreshReg$(_c5, \"HomeScreen\");\n$RefreshReg$(_c6, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","Plus","Edit","Search","Menu","X","Save","FileText","Users","Activity","Home","LogOut","UserPlus","LogIn","auth","db","onAuthStateChanged","createUserWithEmailAndPassword","signInWithEmailAndPassword","signOut","collection","addDoc","onSnapshot","query","doc","updateDoc","deleteDoc","jsxDEV","_jsxDEV","AuthScreen","_s","isLogin","setIsLogin","email","setEmail","password","setPassword","error","setError","handleAuth","e","preventDefault","err","message","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","value","onChange","target","required","size","onClick","_c","Modal","onClose","title","_c2","Header","onMenuClick","handleLogout","_c3","RegisterOwnerScreen","onCancel","owners","user","_s2","name","setName","handleSave","trim","ownersCollectionRef","uid","alert","console","length","map","owner","id","_c4","HomeScreen","navigate","buttons","label","page","icon","btn","_c5","App","_s3","setUser","loading","setLoading","currentPage","setCurrentPage","setOwners","unsubscribe","currentUser","q","querySnapshot","ownersData","forEach","push","data","renderPage","_c6","$RefreshReg$"],"sources":["C:/Users/alezv/Desktop/App/React/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\r\nimport { Plus, Edit, Search, Menu, X, Save, FileText, Users, Activity, Home, LogOut, UserPlus, LogIn } from 'lucide-react';\r\n\r\n// Importa los servicios de Firebase desde tu archivo de configuración\r\nimport { auth, db } from './firebase'; \r\nimport { \r\n  onAuthStateChanged, \r\n  createUserWithEmailAndPassword, \r\n  signInWithEmailAndPassword, \r\n  signOut \r\n} from \"firebase/auth\";\r\nimport { \r\n  collection, \r\n  addDoc, \r\n  onSnapshot, \r\n  query, \r\n  doc, \r\n  updateDoc,\r\n  deleteDoc\r\n} from \"firebase/firestore\";\r\n\r\n\r\n// --- Pantalla de Autenticación (Login y Registro) ---\r\nconst AuthScreen = () => {\r\n  const [isLogin, setIsLogin] = useState(true);\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [error, setError] = useState('');\r\n\r\n  const handleAuth = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    try {\r\n      if (isLogin) {\r\n        await signInWithEmailAndPassword(auth, email, password);\r\n      } else {\r\n        await createUserWithEmailAndPassword(auth, email, password);\r\n      }\r\n    } catch (err) {\r\n      setError(err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-stone-100 flex flex-col justify-center items-center p-4\">\r\n      <div className=\"w-full max-w-md bg-white rounded-2xl shadow-xl p-8\">\r\n        <div className=\"flex justify-center mb-6\">\r\n          <img src=\"http://googleusercontent.com/file_content/2\" alt=\"Logo\" className=\"h-20 w-20\" />\r\n        </div>\r\n        <h2 className=\"text-3xl font-bold text-center text-emerald-800 mb-2\">\r\n          {isLogin ? 'Iniciar Sesión' : 'Crear Cuenta'}\r\n        </h2>\r\n        <p className=\"text-center text-stone-500 mb-8\">Bienvenido a Finca Moreno Z</p>\r\n        \r\n        <form onSubmit={handleAuth}>\r\n          <div className=\"mb-4\">\r\n            <label className=\"block text-stone-700 font-medium mb-2\">Correo Electrónico</label>\r\n            <input \r\n              type=\"email\" \r\n              value={email} \r\n              onChange={(e) => setEmail(e.target.value)} \r\n              className=\"w-full px-4 py-3 border border-stone-300 rounded-lg\"\r\n              required \r\n            />\r\n          </div>\r\n          <div className=\"mb-6\">\r\n            <label className=\"block text-stone-700 font-medium mb-2\">Contraseña</label>\r\n            <input \r\n              type=\"password\" \r\n              value={password} \r\n              onChange={(e) => setPassword(e.target.value)} \r\n              className=\"w-full px-4 py-3 border border-stone-300 rounded-lg\"\r\n              required \r\n            />\r\n          </div>\r\n          {error && <p className=\"text-red-500 text-sm mb-4\">{error}</p>}\r\n          <button type=\"submit\" className=\"w-full bg-emerald-600 text-white font-bold py-3 rounded-lg hover:bg-emerald-700 transition-colors flex items-center justify-center gap-2\">\r\n            {isLogin ? <LogIn size={18} /> : <UserPlus size={18} />}\r\n            {isLogin ? 'Ingresar' : 'Registrarse'}\r\n          </button>\r\n        </form>\r\n\r\n        <div className=\"mt-6 text-center\">\r\n          <button onClick={() => setIsLogin(!isLogin)} className=\"text-emerald-600 hover:underline\">\r\n            {isLogin ? '¿No tienes una cuenta? Regístrate' : '¿Ya tienes una cuenta? Inicia sesión'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n// --- Componentes de la UI (Reutilizados y adaptados) ---\r\nconst Modal = ({ children, onClose, title }) => (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4\">\r\n        <div className=\"bg-white rounded-2xl shadow-2xl w-full max-w-md m-4\">\r\n            <div className=\"flex justify-between items-center p-4 border-b border-stone-200\">\r\n                <h3 className=\"text-xl font-bold text-emerald-800\">{title}</h3>\r\n                <button onClick={onClose} className=\"text-stone-400 hover:text-stone-600\"><X size={24} /></button>\r\n            </div>\r\n            <div className=\"p-6\">{children}</div>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nconst Header = ({ title, onMenuClick }) => {\r\n  const handleLogout = () => {\r\n    signOut(auth);\r\n  };\r\n\r\n  return (\r\n    <header className=\"bg-emerald-800 text-white p-4 shadow-lg flex items-center justify-between sticky top-0 z-40\">\r\n        <div className=\"flex items-center\">\r\n            <button onClick={onMenuClick} className=\"mr-4 p-2 rounded-full hover:bg-emerald-700\"><Menu size={24} /></button>\r\n            <img src=\"http://googleusercontent.com/file_content/2\" alt=\"Logo\" className=\"h-10 w-10 rounded-full bg-white p-1 object-contain\" />\r\n            <h1 className=\"text-2xl font-bold ml-4 tracking-wider\">{title}</h1>\r\n        </div>\r\n        <button onClick={handleLogout} className=\"flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-emerald-700 font-semibold\">\r\n          <LogOut size={18} />\r\n          Salir\r\n        </button>\r\n    </header>\r\n  );\r\n};\r\n\r\n// --- Pantallas de la Aplicación (Adaptadas para Firebase) ---\r\n\r\n// NOTA: La lógica de las pantallas (RegisterOwner, RegisterCattle, etc.)\r\n// necesitaría ser reescrita para usar las funciones de Firestore (`addDoc`, `onSnapshot`, etc.)\r\n// en lugar de manejar el estado localmente.\r\n// Por simplicidad, aquí se muestra la estructura principal y la pantalla de Propietarios adaptada.\r\n\r\nconst RegisterOwnerScreen = ({ onCancel, owners, user }) => {\r\n    const [name, setName] = useState('');\r\n\r\n    const handleSave = async () => {\r\n        if (name.trim() && user) {\r\n            try {\r\n                // Crea una referencia a la subcolección 'owners' del usuario actual\r\n                const ownersCollectionRef = collection(db, 'users', user.uid, 'owners');\r\n                await addDoc(ownersCollectionRef, { name: name.trim() });\r\n                alert('Propietario guardado con éxito!');\r\n                onCancel(); // Vuelve a la pantalla principal\r\n            } catch (error) {\r\n                console.error(\"Error al guardar propietario: \", error);\r\n                alert(\"Hubo un error al guardar. Inténtalo de nuevo.\");\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"p-6\">\r\n            <div className=\"bg-white p-8 rounded-2xl shadow-lg\">\r\n                <h2 className=\"text-2xl font-bold text-emerald-800 mb-6\">Registrar Nuevo Propietario</h2>\r\n                <div className=\"mb-6\">\r\n                    <label className=\"block text-stone-700 font-medium mb-2\">Nombre y Apellidos</label>\r\n                    <input type=\"text\" value={name} onChange={(e) => setName(e.target.value)} className=\"w-full px-4 py-3 border border-stone-300 rounded-lg\" />\r\n                </div>\r\n                <div className=\"flex justify-end gap-4\">\r\n                    <button onClick={onCancel} className=\"px-6 py-3 rounded-lg bg-stone-200 text-stone-700 font-semibold\">Cancelar</button>\r\n                    <button onClick={handleSave} className=\"px-6 py-3 rounded-lg bg-emerald-600 text-white font-semibold flex items-center gap-2\"><Save size={18}/> Guardar</button>\r\n                </div>\r\n            </div>\r\n            <div className=\"mt-8 bg-white p-8 rounded-2xl shadow-lg\">\r\n                <h3 className=\"text-xl font-bold text-emerald-800 mb-4\">Propietarios Registrados</h3>\r\n                {owners.length > 0 ? (\r\n                    <ul className=\"divide-y divide-stone-200\">\r\n                        {owners.map(owner => <li key={owner.id} className=\"py-3 text-stone-600\">{owner.name}</li>)}\r\n                    </ul>\r\n                ) : (\r\n                    <p className=\"text-stone-500\">No hay propietarios registrados.</p>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst HomeScreen = ({ navigate }) => {\r\n    const buttons = [\r\n        { label: 'Registro de Res', page: 'registerCattle', icon: <Plus className=\"w-12 h-12\" /> },\r\n        { label: 'Actualización de Res', page: 'updateCattle', icon: <Edit className=\"w-12 h-12\" /> },\r\n        { label: 'Consultar', page: 'consult', icon: <FileText className=\"w-12 h-12\" /> },\r\n        { label: 'Registro de Actividades', page: 'activities', icon: <Activity className=\"w-12 h-12\" /> },\r\n        { label: 'Registrar Propietarios', page: 'registerOwner', icon: <Users className=\"w-12 h-12\" /> },\r\n    ];\r\n    return (\r\n        <div className=\"grid grid-cols-2 gap-6 p-6\">\r\n            {buttons.map((btn) => (\r\n                <button key={btn.page} onClick={() => navigate(btn.page)} className=\"bg-white rounded-2xl shadow-lg p-6 flex flex-col items-center justify-center text-center text-emerald-800 hover:bg-emerald-50 hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 aspect-square border-b-4 border-amber-400\">\r\n                    {btn.icon}\r\n                    <span className=\"mt-4 font-semibold text-lg\">{btn.label}</span>\r\n                </button>\r\n            ))}\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\n// --- Componente Principal de la App ---\r\nexport default function App() {\r\n    const [user, setUser] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [currentPage, setCurrentPage] = useState('home');\r\n    \r\n    // Estados para los datos de Firestore\r\n    const [owners, setOwners] = useState([]);\r\n    // const [cattleData, setCattleData] = useState([]); // etc.\r\n\r\n    useEffect(() => {\r\n        // Escucha los cambios en el estado de autenticación\r\n        const unsubscribe = onAuthStateChanged(auth, (currentUser) => {\r\n            setUser(currentUser);\r\n            setLoading(false);\r\n            if(currentUser) {\r\n                setCurrentPage('home'); // Si el usuario inicia sesión, llévalo al home\r\n            }\r\n        });\r\n        return () => unsubscribe(); // Limpia el listener al desmontar\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (user) {\r\n            // Si hay un usuario, nos suscribimos a sus datos de propietarios\r\n            const q = query(collection(db, 'users', user.uid, 'owners'));\r\n            const unsubscribe = onSnapshot(q, (querySnapshot) => {\r\n                const ownersData = [];\r\n                querySnapshot.forEach((doc) => {\r\n                    ownersData.push({ ...doc.data(), id: doc.id });\r\n                });\r\n                setOwners(ownersData);\r\n            });\r\n            return () => unsubscribe(); // Limpia el listener al cambiar de usuario o desmontar\r\n        } else {\r\n            // Si no hay usuario, la lista de propietarios está vacía\r\n            setOwners([]);\r\n        }\r\n    }, [user]); // Este efecto se ejecuta cada vez que el usuario cambia\r\n\r\n    if (loading) {\r\n        return <div>Cargando...</div>; // Muestra un loader mientras se verifica el usuario\r\n    }\r\n\r\n    if (!user) {\r\n        return <AuthScreen />; // Si no hay usuario, muestra la pantalla de login/registro\r\n    }\r\n\r\n    // Si hay un usuario, muestra la aplicación principal\r\n    const renderPage = () => {\r\n        switch (currentPage) {\r\n            case 'registerOwner':\r\n                return <RegisterOwnerScreen onCancel={() => setCurrentPage('home')} owners={owners} user={user} />;\r\n            // Aquí irían los otros casos para las demás pantallas\r\n            // case 'registerCattle':\r\n            //     return <RegisterCattleScreen ... />;\r\n            case 'home':\r\n            default:\r\n                return <HomeScreen navigate={setCurrentPage} />;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"bg-stone-100 min-h-screen font-sans\">\r\n            <Header title=\"Finca Moreno Z\" onMenuClick={() => {}} />\r\n            <main>\r\n                {renderPage()}\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}